import{r as y}from"./lit-element-C_s9q329.js";import{n as g}from"./custom-element-scoping-CpYtbs9r.js";const d={0:"0px","2xs":"320px",xs:"425px",s:"768px",m:"1024px",l:"1280px",xl:"1440px","2xl":"2560px","3xl":"3840px","4xl":"4320px","5xl":"6016px","6xl":"7680px"},$=/^([<|>]=?)?([0-9a-z]+)/,m=["{","}",";",":",","],x=[" ","/n"];function k(e){const l=[];let t="";for(let s=0;s<e.length;s++){const n=e[s];if(x.includes(n)||(t+=n),m.includes(n)){l.push(t.slice(0,-1)),l.push(n),t="";continue}if(x.includes(n)||s===e.length-1){l.push(t),t="";continue}}return l.filter(s=>s!=="")}function S(e){const l=[];let t={breakpoint:"-",values:[]};const s=()=>({sel:"",values:[]});let n=s();for(const c of e){if(!m.includes(c)){n.values.push(c);continue}if(c==="{"&&(t={breakpoint:n.values.join(","),values:[]},n=s()),c===";"&&(l.length===0&&l.push(t),n.values.length>0&&(t.values.push(n),n=s())),c===":"){const a=n.values.pop()??"";n.sel=a}t&&c==="}"&&(t.values.push(n),n=s(),l.push(t))}return n.values.length>0&&t.values.push(n),l.length===0&&l.push(t),l}function b(e){return e.split(",").map(t=>{const s=t.trim().match($);if(!s)throw new Error(`Invalid breakpoint specifier: ${t}`);return{condition:s[1],value:s[2]}})}function _(e,l,t,s=c=>c,n=(c,a)=>`${c}: ${a.join(" ")};`){let c="";for(const a of t){const f=`@media ${(a.breakpoint==="-"?[{condition:">=",value:"0"}]:b(a.breakpoint)).map(r=>{var i;return`(${(i=r.condition)!=null&&i.includes("<")?"max-width":"min-width"}: ${d[r.value]??r.value})`}).join(" and ")} {${a.values.map(r=>{let i=e;r.sel.length>0&&(i=e===":host"?`:host(:${r.sel})`:`${e}:${r.sel}`);const h=n(l,r.values.map(s));return r.sel==="hover"?`@media (hover: hover) {${i}{${h}}}`:`${i}{${h}}`}).join("")}}`;c+=f}return c}const p=new Map;function C(e){return(l,t)=>{const s=(e==null?void 0:e.selector)??":host",n=(e==null?void 0:e.property)??String(t),c=(e==null?void 0:e.valueTemplate)??(u=>`var(--gds-space-${u}, 0)`),a=e==null?void 0:e.styleTemplate,v=(e==null?void 0:e.cacheOverrideKey)??"0";g({attribute:e==null?void 0:e.attribute,noAccessor:!0})(l,t),Object.defineProperty(l,t,{get:function(){return this["__"+String(t)]},set:async function(u){this["__"+String(t)]=u,await this.updateComplete;const f=this.level??"0",r=s+n+u+f+v;if(p.has(r)){this._dynamicStylesController.inject(`sep_${String(t)}`,p.get(r));return}const i=S(k(u)),h=_(s,n,i,c.bind(this),a==null?void 0:a.bind(this)),o=y(h);p.set(r,o),this._dynamicStylesController.inject(`sep_${String(t)}`,o)}})}}export{C as s};
