import{j as r}from"./jsx-runtime-D_zvdyIk.js";import{R as E,r as c}from"./iframe-COuXMuk9.js";import{c as w}from"./index-DRESagNw.js";import{B as Q}from"./button-CYXrB6oa.js";import{I as U}from"./iconButton-9u37vK2j.js";import"./checkbox-C2iK_4yf.js";import{d as X,v as H,a as O}from"./helperFunction-Cj5aMlP9.js";import{r as A}from"./id-D3UFNDLZ.js";import{o as Y}from"./create-component-CPRSibq9.js";import"./triangle-exclamation-jn1whbaJ.js";import"./text-DANUJh4r.js";import{T as Z,I as ee}from"./edit-Cs76S9LP.js";import{I as te}from"./triangle-exclamation.component-BIsgdPZ8.js";import{a as se}from"./tokens.style-Dg6fuU4Q.js";const W=(e,t,s)=>{const i=re(t,e);return i?ne(s,e.name):ae(s,e.name),i},re=(e,t)=>{const{value:s}=t;return(e==null?void 0:e.custom)instanceof Function?e==null?void 0:e.custom():ie(s,e)},ne=(e,t)=>{e(s=>({...s,[t]:!0}))},ae=(e,t)=>{e(s=>{const i={...s};return delete i[t],i})},ie=(e,t)=>{switch(t==null?void 0:t.type){case"Required":return e===""||e===void 0||e===null?"error":null;default:return}},J=E.createContext({}),oe=()=>E.useContext(J),K=({children:e,direction:t="vertical",formSize:s="md",onSubmit:i,onFormSubmit:d,...m})=>{const[u,g]=E.useState(),[y,p]=E.useState(),[n,o]=E.useState({}),a=h=>{let l=!1;h.preventDefault(),Object.keys(n).forEach(f=>{const x=W({name:f,value:u==null?void 0:u[f]},n[f],p);l=l||!!x}),l||d&&d(u)},b=()=>{g({}),p({})};return r.jsx(J.Provider,{value:{setValues:g,setErrors:p,setFields:o,errors:y,values:u},children:r.jsx("form",{className:[t,`size-${s}`].join(" "),onSubmit:a,...m,onReset:b,children:e})})};K.__docgenInfo={description:"",methods:[],displayName:"FormProvider",props:{children:{required:!1,tsType:{name:"ReactNode"},description:""},direction:{required:!1,tsType:{name:"FormDirection"},description:"",defaultValue:{value:"'vertical'",computed:!1}},formSize:{required:!1,tsType:{name:"Size"},description:"",defaultValue:{value:"'md'",computed:!1}},onFormSubmit:{required:!1,tsType:{name:"signature",type:"function",raw:"(values: any) => void",signature:{arguments:[{type:{name:"any"},name:"values"}],return:{name:"void"}}},description:""}},composes:["HTMLProps"]};const de=e=>r.jsx(K,{...e});de.__docgenInfo={description:"",methods:[],displayName:"Form",props:{children:{required:!1,tsType:{name:"ReactNode"},description:""},direction:{required:!1,tsType:{name:"FormDirection"},description:""},formSize:{required:!1,tsType:{name:"Size"},description:""},onFormSubmit:{required:!1,tsType:{name:"signature",type:"function",raw:"(values: any) => void",signature:{arguments:[{type:{name:"any"},name:"values"}],return:{name:"void"}}},description:""}},composes:["HTMLProps"]};const ce=({children:e,name:t,validate:s,onChange:i})=>{const{values:d,setValues:m,setErrors:u,setFields:g,errors:y}=oe();E.useEffect(()=>{g(o=>({...o,[t]:s==null?void 0:s.rules}));const n=o=>{const a={...o};return delete a[t],a};return()=>{g(o=>n(o)),m(o=>n(o)),u(o=>n(o))}},[]);const p=n=>{if(!n.target)return;const{value:o,name:a,type:b,checked:h}=n.target;let l;b==="checkbox"?(l=h?o:null,m(h?f=>({...f,[a]:o}):f=>({...f,[a]:null}))):(l=o,m(f=>({...f,[a]:o}))),W({value:l,name:a},s==null?void 0:s.rules,u)};return E.cloneElement(e,{validator:(y==null?void 0:y[t])&&s,name:t,value:d==null?void 0:d[t],onChange:n=>{typeof i=="function"&&i(n),p(n)}})};ce.__docgenInfo={description:"",methods:[],displayName:"FormItems",props:{children:{required:!0,tsType:{name:"ReactReactElement",raw:"React.ReactElement<any>",elements:[{name:"any"}]},description:""},name:{required:!0,tsType:{name:"string"},description:""},validate:{required:!1,tsType:{name:"IValidator"},description:""},onChange:{required:!1,tsType:{name:"ReactChangeEventHandler",raw:"React.ChangeEventHandler<HTMLInputElement>",elements:[{name:"HTMLInputElement"}]},description:""}}};function z({id:e,children:t,error:s,className:i,groupBorder:d=!1,groupFocus:m=!1}){const u=w("group",{"group-border":d},{"group-focus":m},{"is-invalid":s},i),g=s?s.message||s:"";return r.jsxs("div",{className:"form-group",id:e,children:[r.jsx("div",{className:u,children:t}),s&&r.jsx("span",{className:"form-info",id:e&&`${e}-message`,children:g})]})}z.__docgenInfo={description:"",methods:[],displayName:"Group",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""},error:{required:!1,tsType:{name:"union",raw:"Error | string",elements:[{name:"Error"},{name:"string"}]},description:""},groupBorder:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},groupFocus:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},invalid:{required:!1,tsType:{name:"boolean"},description:""},id:{required:!1,tsType:{name:"string"},description:""},className:{required:!1,tsType:{name:"classNames.Argument"},description:""}}};const le=Y({tagName:se("gds-icon-triangle-exclamation"),elementClass:te,react:E}),L=({expandableInfo:e,label:t,labelInformation:s,validator:i,inputId:d,children:m,expandableInfoButtonLabel:u,role:g,rightAlignedFooterInfo:y,"aria-live":p="assertive"})=>{const n=c.useRef(null),o=c.useRef(null),[a,b]=c.useState(0),[h,l]=c.useState(!1),[f,x]=c.useState(!1);c.useLayoutEffect(()=>{n.current&&b(n.current.clientHeight),x(!0)},[]),c.useEffect(()=>{const v=X(function(){h&&n.current&&b(n.current.clientHeight)},300);return o.current&&window.addEventListener("resize",v),()=>{window.removeEventListener("resize",v)}},[h,n]),d||(d=A());const R=w("gds-form-item",i&&H(i==null?void 0:i.indicator));return r.jsxs("div",{className:R,role:g||void 0,"aria-labelledby":g?`${d}-label`:void 0,children:[e&&r.jsx("div",{className:"gds-form-item__backdrop"}),r.jsxs("div",{className:"gds-form-item__header",children:[r.jsxs("div",{className:"gds-form-item__labels",children:[t&&r.jsx("label",{id:g?`${d}-label`:void 0,htmlFor:g?void 0:d,children:t}),s&&r.jsx("div",{className:"form-info",id:`${d}_info`,children:s})]}),e&&r.jsx(U,{size:"small","aria-expanded":h,"aria-controls":`${d}-expandable-info`,"aria-label":u,onClick:async v=>{h?(l(!1),await O(300),x(!0)):(x(!1),await O(10),n.current&&b(n.current.clientHeight),l(!0))},children:h?r.jsx(Z,{title:u}):r.jsx(ee,{title:u})})]}),e&&r.jsx("div",{ref:o,id:`gds-expandable-info-${d}`,className:"gds-form-item__expandable-info",hidden:f,style:{height:h?a:0},inert:f?!0:void 0,children:r.jsxs("div",{ref:n,children:[" ",!f&&e," "]})}),m,r.jsxs("div",{className:"gds-form-item__footer","aria-live":p,children:[i&&r.jsxs(r.Fragment,{children:[r.jsx(le,{solid:!0,size:"1rem",style:{color:"var(--gds-sys-color-text-error)"},"aria-hidden":"true"}),r.jsx("span",{className:"form-info",id:`${d}_message`,children:i.message})]}),y&&r.jsx("span",{className:"form-info",style:{textAlign:"right",width:i?"auto":"100%"},"aria-hidden":"true",children:y})]})]})};L.__docgenInfo={description:"",methods:[],displayName:"FormItem",props:{onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(event: React.ChangeEvent<HTMLInputElement>) => void",signature:{arguments:[{type:{name:"ReactChangeEvent",raw:"React.ChangeEvent<HTMLInputElement>",elements:[{name:"HTMLInputElement"}]},name:"event"}],return:{name:"void"}}},description:""},onChangeInput:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: string) => string",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"string"}}},description:""},validator:{required:!1,tsType:{name:"IValidator"},description:""},inputId:{required:!1,tsType:{name:"string"},description:""},role:{required:!1,tsType:{name:"string"},description:""},"aria-live":{required:!1,tsType:{name:"AriaAttributes['aria-live']",raw:"AriaAttributes['aria-live']"},description:"",defaultValue:{value:"'assertive'",computed:!1}},rightAlignedFooterInfo:{required:!1,tsType:{name:"string"},description:"Intended to use together with TextArea to show character counter."}},composes:["IExpandableInformation","ILabelAndLabelInformation","PropsWithChildren"]};const ue=(e,t,s)=>{const i=c.useMemo(()=>e.id||A(),[e.id]),d=c.useRef(null);return{...e,id:i,ref:d,onChange:u=>{}}},me=c.forwardRef(({label:e,validator:t,testId:s,...i},d)=>{const{id:m}=ue(i),u=w(t&&H(t==null?void 0:t.indicator));return r.jsxs("label",{htmlFor:m,className:"form-control",children:[r.jsx("input",{id:m,type:"radio","data-testid":s,...i,className:u,ref:d}),r.jsx("span",{children:e}),r.jsx("i",{})]})});me.__docgenInfo={description:"",methods:[],displayName:"RadioButton",props:{label:{required:!0,tsType:{name:"string"},description:""},testId:{required:!1,tsType:{name:"string"},description:""},validator:{required:!1,tsType:{name:"IValidator"},description:""},value:{required:!0,tsType:{name:"string"},description:""}},composes:["HTMLProps"]};const P=c.forwardRef(({"aria-describedby":e,"aria-live":t="assertive",autoComplete:s="off",children:i,className:d,testId:m,expandableInfo:u,expandableInfoButtonLabel:g,formatter:y,id:p=A(),label:n,info:o,onChange:a,unit:b,role:h,validator:l,onChangeInput:f,value:x="",required:R,...v},I)=>{const[q]=c.useState(p),[N,V]=c.useState(x);c.useEffect(()=>{V(x)},[x]);const F=c.useCallback(_=>{const{selectionStart:M,value:B}=_.target,k=y?y(B):B,D=k.length-B.length,G=D!==0&&M?M+D:M;window.requestAnimationFrame(()=>{_.target.selectionStart=G,_.target.selectionEnd=G}),V(k),a&&a(_),f&&f(k)},[y,V,a,f]),j=!n&&!o&&!u,S=w(e,{[`${q}_info`]:!j&&o,[`gds-expandable-info-${q}`]:!j&&u}),$=w(d,{[H(l==null?void 0:l.indicator)]:l}),T=r.jsx("input",{"aria-describedby":S||void 0,"aria-invalid":(l==null?void 0:l.indicator)==="error","aria-required":R,"aria-errormessage":(l==null?void 0:l.indicator)==="error"?`${q}_message`:void 0,autoComplete:s,className:$||void 0,"data-testid":m,id:q,onChange:F,role:h,value:N,required:R,ref:I,...v});if(j)return T;const C=w("form-text",{disabled:v.disabled});return r.jsx(L,{expandableInfo:u,expandableInfoButtonLabel:g,inputId:q,label:n,labelInformation:o,role:h,validator:l,"aria-live":t,children:r.jsx("div",{className:"gds-input-wrapper",children:r.jsxs(z,{groupBorder:!0,groupFocus:!0,id:`${q}_group`,children:[T,b&&r.jsx("span",{className:C,children:b}),i]})})})}),pe=c.forwardRef((e,t)=>r.jsx(P,{type:"text",...e,ref:t})),fe=c.forwardRef((e,t)=>r.jsx(P,{type:"email",...e,ref:t})),ge=c.forwardRef((e,t)=>r.jsx(P,{type:"number",...e,ref:t}));P.__docgenInfo={description:"@deprecated Please use the `gds-input` web component from green-core instead",methods:[],displayName:"Input",props:{testId:{required:!1,tsType:{name:"string"},description:"Data test id used for finding elements in test"},formatter:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: string) => string",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"string"}}},description:"Function to format the value on change"},info:{required:!1,tsType:{name:"ReactNode"},description:"Additional descriptive text displayed below the label"},label:{required:!1,tsType:{name:"string"},description:"Label text describing the input field"},unit:{required:!1,tsType:{name:"string"},description:"Text displayed on the right side of the input, typically used for units like 'kr' or '%'"},validator:{required:!1,tsType:{name:"IValidator"},description:"Validation object for input validation"},value:{required:!1,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:"Current value of the input field",defaultValue:{value:"''",computed:!1}},onChangeInput:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: string) => string",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"string"}}},description:"Callback function triggered when the input value changes"},"aria-describedby":{required:!1,tsType:{name:"string"},description:"ID of another element that describes the input field"},"aria-live":{required:!1,tsType:{name:"ReactAriaAttributes['aria-live']",raw:"React.AriaAttributes['aria-live']"},description:"ARIA live region attribute for the form control footer, affecting how error messages are read by screen readers",defaultValue:{value:"'assertive'",computed:!1}},autoComplete:{defaultValue:{value:"'off'",computed:!1},required:!1},id:{defaultValue:{value:"randomId()",computed:!0},required:!1}},composes:["IExpandableInformation","DetailedHTMLProps"]};pe.__docgenInfo={description:"",methods:[],displayName:"TextInput"};fe.__docgenInfo={description:"",methods:[],displayName:"EmailInput"};ge.__docgenInfo={description:"",methods:[],displayName:"NumberInput"};const he=({"aria-live":e,defaultSelected:t,valueSelected:s,label:i,title:d,labelInformation:m,description:u,expandableInfo:g,expandableInfoButtonLabel:y,validator:p,onChangeRadio:n,onChange:o,name:a=A(),horizontal:b,children:h})=>{const[l,f]=c.useState(s??t),[x,R]=c.useState(s),[v]=c.useState(a),[I]=c.useState(A());s!==x&&(f(s),R(s));const q=T=>{T.target.value!==l&&(f(T.target.value),n&&n(T.target.value),o&&o(T))},N=c.useRef(null);E.useEffect(()=>{var T;if(N&&N.current){const C=(T=N==null?void 0:N.current)==null?void 0:T.form,_=()=>{f(void 0)};return C==null||C.addEventListener("reset",_),()=>C==null?void 0:C.removeEventListener("reset",_)}else return()=>{}},[]);const j={validator:p,labelInformation:m||u,label:i||d,expandableInfo:g,expandableInfoButtonLabel:y,role:"radiogroup","aria-live":e},S=w("gds-radio-group-wrapper",{"gds-radio-group-wrapper--horizontal":b}),$=w({[`${I}_message`]:(p==null?void 0:p.message)!==void 0&&p.message.length>0,[`${I}_info`]:m,[`gds-expandable-info-${I}`]:g});return r.jsx(L,{...j,inputId:I,children:r.jsx("div",{className:S,children:E.Children.map(h,T=>E.isValidElement(T)?E.cloneElement(T,{"aria-describedby":$,validator:p,onChange:q,checked:l===T.props.value,name:v,ref:N}):T)})})};he.__docgenInfo={description:"",methods:[],displayName:"RadioGroup",props:{"aria-live":{required:!1,tsType:{name:"ReactAriaAttributes['aria-live']",raw:"React.AriaAttributes['aria-live']"},description:`Set the live region attribute of the form control footer, this will change how error messages are read by screen readers
@default 'assertive'`},label:{required:!1,tsType:{name:"string"},description:""},title:{required:!1,tsType:{name:"string"},description:""},valueSelected:{required:!1,tsType:{name:"string"},description:""},description:{required:!1,tsType:{name:"string"},description:""},defaultSelected:{required:!1,tsType:{name:"string"},description:""},validator:{required:!1,tsType:{name:"IValidator"},description:""},onChangeRadio:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: string) => string",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"string"}}},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(e: React.ChangeEvent<HTMLInputElement>) => void",signature:{arguments:[{type:{name:"ReactChangeEvent",raw:"React.ChangeEvent<HTMLInputElement>",elements:[{name:"HTMLInputElement"}]},name:"e"}],return:{name:"void"}}},description:""},name:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"randomId()",computed:!0}},horizontal:{required:!1,tsType:{name:"boolean"},description:""}},composes:["IExpandableInformation","ILabelAndLabelInformation"]};const ye=c.forwardRef(({"aria-live":e="assertive","aria-describedby":t,autoComplete:s="off",className:i,expandableInfo:d,expandableInfoButtonLabel:m,id:u=A(),label:g,info:y,onChange:p,role:n,rows:o=4,validator:a,value:b,testId:h,maxLength:l,required:f,...x},R)=>{const[v]=c.useState(u),[I,q]=c.useState(b);c.useEffect(()=>{q(b)},[b]);const N=c.useCallback(S=>{q(S.target.value),p&&p(S)},[q,p]),V=w(t,{[`gds-expandable-info-${v}`]:d,[`${v}_info`]:y,[`${v}_message`]:(a==null?void 0:a.message)!==void 0&&a.message.length>0}),F=w(i,{[H(a==null?void 0:a.indicator)]:a})||void 0,j=l?`${(I==null?void 0:I.length)||0}/${l}`:void 0;return r.jsx(L,{"aria-live":e,expandableInfo:d,expandableInfoButtonLabel:m,inputId:v,label:g,labelInformation:y,role:n,validator:a,rightAlignedFooterInfo:j,children:r.jsx("div",{className:"gds-input-wrapper",children:r.jsx("textarea",{"aria-describedby":V||void 0,"aria-invalid":(a==null?void 0:a.indicator)==="error","aria-required":f,autoComplete:s,className:F||void 0,id:v,onChange:N,role:n,rows:o,value:I,"data-testid":h,maxLength:l,required:f,ref:R,...x})})})});ye.__docgenInfo={description:"@deprecated Please use the `gds-textarea` web component from green-core instead",methods:[],displayName:"TextArea",props:{"aria-live":{required:!1,tsType:{name:"ReactAriaAttributes['aria-live']",raw:"React.AriaAttributes['aria-live']"},description:`Set the live region attribute of the form control footer, this will change how error messages are read by screen readers
@default 'assertive'`,defaultValue:{value:"'assertive'",computed:!1}},testId:{required:!1,tsType:{name:"string"},description:"Data test id used for finding elements in test"},label:{required:!0,tsType:{name:"string"},description:"Label describing the textarea"},info:{required:!1,tsType:{name:"ReactNode"},description:"Extra describing text, below the label"},validator:{required:!1,tsType:{name:"union",raw:"IValidator | undefined",elements:[{name:"IValidator"},{name:"undefined"}]},description:"Validation object"},value:{required:!1,tsType:{name:"string"},description:"Value of textarea"},autoComplete:{defaultValue:{value:"'off'",computed:!1},required:!1},id:{defaultValue:{value:"randomId()",computed:!0},required:!1},rows:{defaultValue:{value:"4",computed:!1},required:!1}},composes:["IExpandableInformation","DetailedHTMLProps"]};const be=({children:e,className:t,selectedIndex:s,variant:i,id:d})=>{const[m,u]=c.useState(s),[g,y]=c.useState([]);return c.useEffect(()=>{const p=(e instanceof Array?e:[e]).filter(n=>n&&n.props).map((n,o)=>{const a=n.props;return{...a,variant:i,key:a.key||`btn_${o}`,active:o===m,onClick:h=>{u(o),a.onClick&&a.onClick(h)},className:w(a.className,t)}});y(p)},[e,m,i,t]),r.jsx(z,{"data-label":"button-group",id:d,children:g.map(({key:p,...n})=>r.jsx(Q,{...n},p))})};be.__docgenInfo={description:"",methods:[],displayName:"ButtonGroup",props:{children:{required:!0,tsType:{name:"union",raw:"ReactElement<ButtonProps> | ReactElement<ButtonProps>[]",elements:[{name:"ReactElement",elements:[{name:"ButtonProps"}],raw:"ReactElement<ButtonProps>"},{name:"Array",elements:[{name:"ReactElement",elements:[{name:"ButtonProps"}],raw:"ReactElement<ButtonProps>"}],raw:"ReactElement<ButtonProps>[]"}]},description:""},className:{required:!1,tsType:{name:"string"},description:"Class names passed to the child elements"},selectedIndex:{required:!1,tsType:{name:"number"},description:""},variant:{required:!1,tsType:{name:"ButtonVariant"},description:""},id:{required:!1,tsType:{name:"string"},description:""}}};export{be as B,fe as E,de as F,z as G,P as I,ge as N,he as R,pe as T,ce as a,me as b,ye as c,L as d};
