import{f as he,i as ue,_ as x,n as S,r as Ft,g as pe,G as ge,b as O,d as w,c as G,h as me,e as Ot}from"./tokens.style-Dg3DjNA6.js";import{l as ye,m as we}from"./runtime-nRyYmvPb.js";import{e as Nt,w as it}from"./watch-Bh1rs_BK.js";import{e as be}from"./class-map--_fRTFHt.js";import{I as xe}from"./cross-small.component-BAfW7RQt.js";import{T as ve}from"./transitional-styles-CLwggSoW.js";function _e(t){return(e,n,i)=>{if(he)return;const o=window.matchMedia(t),s=e.connectedCallback,r=e.disconnectedCallback;e.connectedCallback=function(){var a;s==null||s.call(this);const l=c=>{var h;(h=i.value)==null||h.call(this,c.matches)};o.addEventListener("change",l),this.disconnectedCallback=function(){r==null||r.call(this),o.removeEventListener("change",l)},(a=i.value)==null||a.call(this,o.matches)}}}const Ae=["top","right","bottom","left"],et=Math.min,q=Math.max,wt=Math.round,gt=Math.floor,P=t=>({x:t,y:t}),Ce={left:"right",right:"left",bottom:"top",top:"bottom"},Ee={start:"end",end:"start"};function Tt(t,e,n){return q(t,et(e,n))}function ot(t,e){return typeof t=="function"?t(e):t}function J(t){return t.split("-")[0]}function ut(t){return t.split("-")[1]}function Jt(t){return t==="x"?"y":"x"}function Vt(t){return t==="y"?"height":"width"}const Se=new Set(["top","bottom"]);function X(t){return Se.has(J(t))?"y":"x"}function Bt(t){return Jt(X(t))}function Re(t,e,n){n===void 0&&(n=!1);const i=ut(t),o=Bt(t),s=Vt(o);let r=o==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(r=bt(r)),[r,bt(r)]}function ke(t){const e=bt(t);return[Mt(t),e,Mt(e)]}function Mt(t){return t.replace(/start|end/g,e=>Ee[e])}const zt=["left","right"],Xt=["right","left"],Oe=["top","bottom"],Te=["bottom","top"];function Me(t,e,n){switch(t){case"top":case"bottom":return n?e?Xt:zt:e?zt:Xt;case"left":case"right":return e?Oe:Te;default:return[]}}function Le(t,e,n,i){const o=ut(t);let s=Me(J(t),n==="start",i);return o&&(s=s.map(r=>r+"-"+o),e&&(s=s.concat(s.map(Mt)))),s}function bt(t){return t.replace(/left|right|bottom|top/g,e=>Ce[e])}function De(t){return{top:0,right:0,bottom:0,left:0,...t}}function Zt(t){return typeof t!="number"?De(t):{top:t,right:t,bottom:t,left:t}}function xt(t){const{x:e,y:n,width:i,height:o}=t;return{width:i,height:o,top:n,left:e,right:e+i,bottom:n+o,x:e,y:n}}function Kt(t,e,n){let{reference:i,floating:o}=t;const s=X(e),r=Bt(e),l=Vt(r),a=J(e),c=s==="y",h=i.x+i.width/2-o.width/2,d=i.y+i.height/2-o.height/2,p=i[l]/2-o[l]/2;let f;switch(a){case"top":f={x:h,y:i.y-o.height};break;case"bottom":f={x:h,y:i.y+i.height};break;case"right":f={x:i.x+i.width,y:d};break;case"left":f={x:i.x-o.width,y:d};break;default:f={x:i.x,y:i.y}}switch(ut(e)){case"start":f[r]-=p*(n&&c?-1:1);break;case"end":f[r]+=p*(n&&c?-1:1);break}return f}const Pe=async(t,e,n)=>{const{placement:i="bottom",strategy:o="absolute",middleware:s=[],platform:r}=n,l=s.filter(Boolean),a=await(r.isRTL==null?void 0:r.isRTL(e));let c=await r.getElementRects({reference:t,floating:e,strategy:o}),{x:h,y:d}=Kt(c,i,a),p=i,f={},u=0;for(let m=0;m<l.length;m++){const{name:b,fn:y}=l[m],{x:v,y:_,data:C,reset:A}=await y({x:h,y:d,initialPlacement:i,placement:p,strategy:o,middlewareData:f,rects:c,platform:r,elements:{reference:t,floating:e}});h=v??h,d=_??d,f={...f,[b]:{...f[b],...C}},A&&u<=50&&(u++,typeof A=="object"&&(A.placement&&(p=A.placement),A.rects&&(c=A.rects===!0?await r.getElementRects({reference:t,floating:e,strategy:o}):A.rects),{x:h,y:d}=Kt(c,p,a)),m=-1)}return{x:h,y:d,placement:p,strategy:o,middlewareData:f}};async function dt(t,e){var n;e===void 0&&(e={});const{x:i,y:o,platform:s,rects:r,elements:l,strategy:a}=t,{boundary:c="clippingAncestors",rootBoundary:h="viewport",elementContext:d="floating",altBoundary:p=!1,padding:f=0}=ot(e,t),u=Zt(f),b=l[p?d==="floating"?"reference":"floating":d],y=xt(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(b)))==null||n?b:b.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:c,rootBoundary:h,strategy:a})),v=d==="floating"?{x:i,y:o,width:r.floating.width,height:r.floating.height}:r.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),C=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},A=xt(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:_,strategy:a}):v);return{top:(y.top-A.top+u.top)/C.y,bottom:(A.bottom-y.bottom+u.bottom)/C.y,left:(y.left-A.left+u.left)/C.x,right:(A.right-y.right+u.right)/C.x}}const We=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:i,placement:o,rects:s,platform:r,elements:l,middlewareData:a}=e,{element:c,padding:h=0}=ot(t,e)||{};if(c==null)return{};const d=Zt(h),p={x:n,y:i},f=Bt(o),u=Vt(f),m=await r.getDimensions(c),b=f==="y",y=b?"top":"left",v=b?"bottom":"right",_=b?"clientHeight":"clientWidth",C=s.reference[u]+s.reference[f]-p[f]-s.floating[u],A=p[f]-s.reference[f],N=await(r.getOffsetParent==null?void 0:r.getOffsetParent(c));let k=N?N[_]:0;(!k||!await(r.isElement==null?void 0:r.isElement(N)))&&(k=l.floating[_]||s.floating[u]);const rt=C/2-A/2,U=k/2-m[u]/2-1,V=et(d[y],U),lt=et(d[v],U),Y=V,at=k-m[u]-lt,E=k/2-m[u]/2+rt,j=Tt(Y,E,at),B=!a.arrow&&ut(o)!=null&&E!==j&&s.reference[u]/2-(E<Y?V:lt)-m[u]/2<0,T=B?E<Y?E-Y:E-at:0;return{[f]:p[f]+T,data:{[f]:j,centerOffset:E-j-T,...B&&{alignmentOffset:T}},reset:B}}}),Fe=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,i;const{placement:o,middlewareData:s,rects:r,initialPlacement:l,platform:a,elements:c}=e,{mainAxis:h=!0,crossAxis:d=!0,fallbackPlacements:p,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:u="none",flipAlignment:m=!0,...b}=ot(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const y=J(o),v=X(l),_=J(l)===l,C=await(a.isRTL==null?void 0:a.isRTL(c.floating)),A=p||(_||!m?[bt(l)]:ke(l)),N=u!=="none";!p&&N&&A.push(...Le(l,m,u,C));const k=[l,...A],rt=await dt(e,b),U=[];let V=((i=s.flip)==null?void 0:i.overflows)||[];if(h&&U.push(rt[y]),d){const E=Re(o,r,C);U.push(rt[E[0]],rt[E[1]])}if(V=[...V,{placement:o,overflows:U}],!U.every(E=>E<=0)){var lt,Y;const E=(((lt=s.flip)==null?void 0:lt.index)||0)+1,j=k[E];if(j&&(!(d==="alignment"?v!==X(j):!1)||V.every(M=>X(M.placement)===v?M.overflows[0]>0:!0)))return{data:{index:E,overflows:V},reset:{placement:j}};let B=(Y=V.filter(T=>T.overflows[0]<=0).sort((T,M)=>T.overflows[1]-M.overflows[1])[0])==null?void 0:Y.placement;if(!B)switch(f){case"bestFit":{var at;const T=(at=V.filter(M=>{if(N){const H=X(M.placement);return H===v||H==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(H=>H>0).reduce((H,de)=>H+de,0)]).sort((M,H)=>M[1]-H[1])[0])==null?void 0:at[0];T&&(B=T);break}case"initialPlacement":B=l;break}if(o!==B)return{reset:{placement:B}}}return{}}}};function Ut(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Yt(t){return Ae.some(e=>t[e]>=0)}const Ne=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:i="referenceHidden",...o}=ot(t,e);switch(i){case"referenceHidden":{const s=await dt(e,{...o,elementContext:"reference"}),r=Ut(s,n.reference);return{data:{referenceHiddenOffsets:r,referenceHidden:Yt(r)}}}case"escaped":{const s=await dt(e,{...o,altBoundary:!0}),r=Ut(s,n.floating);return{data:{escapedOffsets:r,escaped:Yt(r)}}}default:return{}}}}},Ve=new Set(["left","top"]);async function Be(t,e){const{placement:n,platform:i,elements:o}=t,s=await(i.isRTL==null?void 0:i.isRTL(o.floating)),r=J(n),l=ut(n),a=X(n)==="y",c=Ve.has(r)?-1:1,h=s&&a?-1:1,d=ot(e,t);let{mainAxis:p,crossAxis:f,alignmentAxis:u}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return l&&typeof u=="number"&&(f=l==="end"?u*-1:u),a?{x:f*h,y:p*c}:{x:p*c,y:f*h}}const $e=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,i;const{x:o,y:s,placement:r,middlewareData:l}=e,a=await Be(e,t);return r===((n=l.offset)==null?void 0:n.placement)&&(i=l.arrow)!=null&&i.alignmentOffset?{}:{x:o+a.x,y:s+a.y,data:{...a,placement:r}}}}},He=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:i,placement:o}=e,{mainAxis:s=!0,crossAxis:r=!1,limiter:l={fn:b=>{let{x:y,y:v}=b;return{x:y,y:v}}},...a}=ot(t,e),c={x:n,y:i},h=await dt(e,a),d=X(J(o)),p=Jt(d);let f=c[p],u=c[d];if(s){const b=p==="y"?"top":"left",y=p==="y"?"bottom":"right",v=f+h[b],_=f-h[y];f=Tt(v,f,_)}if(r){const b=d==="y"?"top":"left",y=d==="y"?"bottom":"right",v=u+h[b],_=u-h[y];u=Tt(v,u,_)}const m=l.fn({...e,[p]:f,[d]:u});return{...m,data:{x:m.x-n,y:m.y-i,enabled:{[p]:s,[d]:r}}}}}};function _t(){return typeof window<"u"}function st(t){return te(t)?(t.nodeName||"").toLowerCase():"#document"}function R(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function F(t){var e;return(e=(te(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function te(t){return _t()?t instanceof Node||t instanceof R(t).Node:!1}function L(t){return _t()?t instanceof Element||t instanceof R(t).Element:!1}function W(t){return _t()?t instanceof HTMLElement||t instanceof R(t).HTMLElement:!1}function jt(t){return!_t()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof R(t).ShadowRoot}const Ie=new Set(["inline","contents"]);function pt(t){const{overflow:e,overflowX:n,overflowY:i,display:o}=D(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!Ie.has(o)}const ze=new Set(["table","td","th"]);function Xe(t){return ze.has(st(t))}const Ke=[":popover-open",":modal"];function At(t){return Ke.some(e=>{try{return t.matches(e)}catch{return!1}})}const Ue=["transform","translate","scale","rotate","perspective"],Ye=["transform","translate","scale","rotate","perspective","filter"],je=["paint","layout","strict","content"];function $t(t){const e=Ht(),n=L(t)?D(t):t;return Ue.some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||Ye.some(i=>(n.willChange||"").includes(i))||je.some(i=>(n.contain||"").includes(i))}function Ge(t){let e=K(t);for(;W(e)&&!nt(e);){if($t(e))return e;if(At(e))return null;e=K(e)}return null}function Ht(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const qe=new Set(["html","body","#document"]);function nt(t){return qe.has(st(t))}function D(t){return R(t).getComputedStyle(t)}function Ct(t){return L(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function K(t){if(st(t)==="html")return t;const e=t.assignedSlot||t.parentNode||jt(t)&&t.host||F(t);return jt(e)?e.host:e}function ee(t){const e=K(t);return nt(e)?t.ownerDocument?t.ownerDocument.body:t.body:W(e)&&pt(e)?e:ee(e)}function ht(t,e,n){var i;e===void 0&&(e=[]),n===void 0&&(n=!0);const o=ee(t),s=o===((i=t.ownerDocument)==null?void 0:i.body),r=R(o);if(s){const l=Lt(r);return e.concat(r,r.visualViewport||[],pt(o)?o:[],l&&n?ht(l):[])}return e.concat(o,ht(o,[],n))}function Lt(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function ne(t){const e=D(t);let n=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const o=W(t),s=o?t.offsetWidth:n,r=o?t.offsetHeight:i,l=wt(n)!==s||wt(i)!==r;return l&&(n=s,i=r),{width:n,height:i,$:l}}function It(t){return L(t)?t:t.contextElement}function tt(t){const e=It(t);if(!W(e))return P(1);const n=e.getBoundingClientRect(),{width:i,height:o,$:s}=ne(e);let r=(s?wt(n.width):n.width)/i,l=(s?wt(n.height):n.height)/o;return(!r||!Number.isFinite(r))&&(r=1),(!l||!Number.isFinite(l))&&(l=1),{x:r,y:l}}const Qe=P(0);function ie(t){const e=R(t);return!Ht()||!e.visualViewport?Qe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Je(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==R(t)?!1:e}function Z(t,e,n,i){e===void 0&&(e=!1),n===void 0&&(n=!1);const o=t.getBoundingClientRect(),s=It(t);let r=P(1);e&&(i?L(i)&&(r=tt(i)):r=tt(t));const l=Je(s,n,i)?ie(s):P(0);let a=(o.left+l.x)/r.x,c=(o.top+l.y)/r.y,h=o.width/r.x,d=o.height/r.y;if(s){const p=R(s),f=i&&L(i)?R(i):i;let u=p,m=Lt(u);for(;m&&i&&f!==u;){const b=tt(m),y=m.getBoundingClientRect(),v=D(m),_=y.left+(m.clientLeft+parseFloat(v.paddingLeft))*b.x,C=y.top+(m.clientTop+parseFloat(v.paddingTop))*b.y;a*=b.x,c*=b.y,h*=b.x,d*=b.y,a+=_,c+=C,u=R(m),m=Lt(u)}}return xt({width:h,height:d,x:a,y:c})}function Et(t,e){const n=Ct(t).scrollLeft;return e?e.left+n:Z(F(t)).left+n}function oe(t,e){const n=t.getBoundingClientRect(),i=n.left+e.scrollLeft-Et(t,n),o=n.top+e.scrollTop;return{x:i,y:o}}function Ze(t){let{elements:e,rect:n,offsetParent:i,strategy:o}=t;const s=o==="fixed",r=F(i),l=e?At(e.floating):!1;if(i===r||l&&s)return n;let a={scrollLeft:0,scrollTop:0},c=P(1);const h=P(0),d=W(i);if((d||!d&&!s)&&((st(i)!=="body"||pt(r))&&(a=Ct(i)),W(i))){const f=Z(i);c=tt(i),h.x=f.x+i.clientLeft,h.y=f.y+i.clientTop}const p=r&&!d&&!s?oe(r,a):P(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-a.scrollLeft*c.x+h.x+p.x,y:n.y*c.y-a.scrollTop*c.y+h.y+p.y}}function tn(t){return Array.from(t.getClientRects())}function en(t){const e=F(t),n=Ct(t),i=t.ownerDocument.body,o=q(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),s=q(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let r=-n.scrollLeft+Et(t);const l=-n.scrollTop;return D(i).direction==="rtl"&&(r+=q(e.clientWidth,i.clientWidth)-o),{width:o,height:s,x:r,y:l}}const Gt=25;function nn(t,e){const n=R(t),i=F(t),o=n.visualViewport;let s=i.clientWidth,r=i.clientHeight,l=0,a=0;if(o){s=o.width,r=o.height;const h=Ht();(!h||h&&e==="fixed")&&(l=o.offsetLeft,a=o.offsetTop)}const c=Et(i);if(c<=0){const h=i.ownerDocument,d=h.body,p=getComputedStyle(d),f=h.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,u=Math.abs(i.clientWidth-d.clientWidth-f);u<=Gt&&(s-=u)}else c<=Gt&&(s+=c);return{width:s,height:r,x:l,y:a}}const on=new Set(["absolute","fixed"]);function sn(t,e){const n=Z(t,!0,e==="fixed"),i=n.top+t.clientTop,o=n.left+t.clientLeft,s=W(t)?tt(t):P(1),r=t.clientWidth*s.x,l=t.clientHeight*s.y,a=o*s.x,c=i*s.y;return{width:r,height:l,x:a,y:c}}function qt(t,e,n){let i;if(e==="viewport")i=nn(t,n);else if(e==="document")i=en(F(t));else if(L(e))i=sn(e,n);else{const o=ie(t);i={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return xt(i)}function se(t,e){const n=K(t);return n===e||!L(n)||nt(n)?!1:D(n).position==="fixed"||se(n,e)}function rn(t,e){const n=e.get(t);if(n)return n;let i=ht(t,[],!1).filter(l=>L(l)&&st(l)!=="body"),o=null;const s=D(t).position==="fixed";let r=s?K(t):t;for(;L(r)&&!nt(r);){const l=D(r),a=$t(r);!a&&l.position==="fixed"&&(o=null),(s?!a&&!o:!a&&l.position==="static"&&!!o&&on.has(o.position)||pt(r)&&!a&&se(t,r))?i=i.filter(h=>h!==r):o=l,r=K(r)}return e.set(t,i),i}function ln(t){let{element:e,boundary:n,rootBoundary:i,strategy:o}=t;const r=[...n==="clippingAncestors"?At(e)?[]:rn(e,this._c):[].concat(n),i],l=r[0],a=r.reduce((c,h)=>{const d=qt(e,h,o);return c.top=q(d.top,c.top),c.right=et(d.right,c.right),c.bottom=et(d.bottom,c.bottom),c.left=q(d.left,c.left),c},qt(e,l,o));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function an(t){const{width:e,height:n}=ne(t);return{width:e,height:n}}function cn(t,e,n){const i=W(e),o=F(e),s=n==="fixed",r=Z(t,!0,s,e);let l={scrollLeft:0,scrollTop:0};const a=P(0);function c(){a.x=Et(o)}if(i||!i&&!s)if((st(e)!=="body"||pt(o))&&(l=Ct(e)),i){const f=Z(e,!0,s,e);a.x=f.x+e.clientLeft,a.y=f.y+e.clientTop}else o&&c();s&&!i&&o&&c();const h=o&&!i&&!s?oe(o,l):P(0),d=r.left+l.scrollLeft-a.x-h.x,p=r.top+l.scrollTop-a.y-h.y;return{x:d,y:p,width:r.width,height:r.height}}function kt(t){return D(t).position==="static"}function Qt(t,e){if(!W(t)||D(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return F(t)===n&&(n=n.ownerDocument.body),n}function re(t,e){const n=R(t);if(At(t))return n;if(!W(t)){let o=K(t);for(;o&&!nt(o);){if(L(o)&&!kt(o))return o;o=K(o)}return n}let i=Qt(t,e);for(;i&&Xe(i)&&kt(i);)i=Qt(i,e);return i&&nt(i)&&kt(i)&&!$t(i)?n:i||Ge(t)||n}const fn=async function(t){const e=this.getOffsetParent||re,n=this.getDimensions,i=await n(t.floating);return{reference:cn(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function dn(t){return D(t).direction==="rtl"}const hn={convertOffsetParentRelativeRectToViewportRelativeRect:Ze,getDocumentElement:F,getClippingRect:ln,getOffsetParent:re,getElementRects:fn,getClientRects:tn,getDimensions:an,getScale:tt,isElement:L,isRTL:dn};function le(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function un(t,e){let n=null,i;const o=F(t);function s(){var l;clearTimeout(i),(l=n)==null||l.disconnect(),n=null}function r(l,a){l===void 0&&(l=!1),a===void 0&&(a=1),s();const c=t.getBoundingClientRect(),{left:h,top:d,width:p,height:f}=c;if(l||e(),!p||!f)return;const u=gt(d),m=gt(o.clientWidth-(h+p)),b=gt(o.clientHeight-(d+f)),y=gt(h),_={rootMargin:-u+"px "+-m+"px "+-b+"px "+-y+"px",threshold:q(0,et(1,a))||1};let C=!0;function A(N){const k=N[0].intersectionRatio;if(k!==a){if(!C)return r();k?r(!1,k):i=setTimeout(()=>{r(!1,1e-7)},1e3)}k===1&&!le(c,t.getBoundingClientRect())&&r(),C=!1}try{n=new IntersectionObserver(A,{..._,root:o.ownerDocument})}catch{n=new IntersectionObserver(A,_)}n.observe(t)}return r(!0),s}function pn(t,e,n,i){i===void 0&&(i={});const{ancestorScroll:o=!0,ancestorResize:s=!0,elementResize:r=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:a=!1}=i,c=It(t),h=o||s?[...c?ht(c):[],...ht(e)]:[];h.forEach(y=>{o&&y.addEventListener("scroll",n,{passive:!0}),s&&y.addEventListener("resize",n)});const d=c&&l?un(c,n):null;let p=-1,f=null;r&&(f=new ResizeObserver(y=>{let[v]=y;v&&v.target===c&&f&&(f.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var _;(_=f)==null||_.observe(e)})),n()}),c&&!a&&f.observe(c),f.observe(e));let u,m=a?Z(t):null;a&&b();function b(){const y=Z(t);m&&!le(m,y)&&n(),m=y,u=requestAnimationFrame(b)}return n(),()=>{var y;h.forEach(v=>{o&&v.removeEventListener("scroll",n),s&&v.removeEventListener("resize",n)}),d==null||d(),(y=f)==null||y.disconnect(),f=null,a&&cancelAnimationFrame(u)}}const Rn=dt,gn=$e,mn=He,kn=Fe,On=Ne,Tn=We,yn=(t,e,n)=>{const i=new Map,o={platform:hn,...n},s={...o.platform,_c:i};return Pe(t,e,{...o,platform:s})},wn=ue`
  @layer base, reset, transitional-styles;
  @layer base {
    :host {
      display: contents;
    }

    :host > div:not([hidden]) {
      display: contents;
    }

    :host([open]) dialog {
      opacity: 1;
      box-sizing: border-box;
      visibility: visible;
    }

    dialog {
      display: flex;
      flex-direction: column;
      inset: auto;
      position: fixed;
      overflow: hidden;
      padding: 0px;
      box-sizing: border-box;
      right: 0;
      margin: 0;
      box-shadow: var(--gds-sys-shadow-l-01);
      border: var(--gds-sys-space-5xs) solid
        var(--gds-sys-color-border-subtle-01);
      border-radius: var(--gds-sys-radius-s);
      overscroll-behavior: contain;
    }

    :host([nonmodal]) dialog {
      z-index: 1;
    }

    @media (max-width: 576px) {
      dialog.use-modal-in-mobile {
        border-radius: var(--gds-sys-radius-m) var(--gds-sys-radius-m) 0 0;
        transition: transform var(--gds-sys-motion-duration-fastest) ease;
        min-width: 100vw;
        position: fixed;
        bottom: 0;
        left: 0;

        padding-bottom: 0;

        transform: translateY(0);
        @starting-style {
          transform: translateY(100%);
        }

        &::backdrop {
          background-color: rgba(0, 0, 0, 0.3);
          display: block;
          position: fixed;
          opacity: 1;
          transition: opacity var(--gds-sys-motion-duration-fast) ease;
          @starting-style {
            opacity: 0;
          }
        }
      }
    }

    @media (min-width: 577px) {
      header {
        display: none;
      }
    }

    header {
      display: none;
    }

    @media (min-width: 577px) {
      dialog:not(.has-backdrop)::backdrop {
        background-color: transparent;
        display: block;
        position: fixed;
      }
    }
  }
`;var bn=wn,$,ae,Q,vt,I,ct,z,Dt,Pt,ce,fe,Wt,St,Rt,mt,yt,ft;function xn(t,e,n){t.setAttribute("aria-expanded",String(e));const i=["A","BUTTON","INPUT","TEXTAREA"];t.nodeName.startsWith("GDS-")||i.includes(t.nodeName)||(t.setAttribute("tabindex","0"),t.setAttribute("role","button"));const s=t.nodeName.startsWith("GDS-")?"gds-aria-haspopup":"aria-haspopup";t.getAttribute(s)===null&&t.setAttribute(s,n)}let g=class extends ge{constructor(){super(...arguments),O(this,$),this.open=!1,this.popupRole="dialog",this.label=void 0,this.placement="bottom-start",this.disableMobileStyles=!1,this.autofocus=!1,this.calcMinWidth=t=>`${t.offsetWidth}px`,this.calcMaxWidth=t=>"auto",this.calcMinHeight=t=>"auto",this.calcMaxHeight=t=>`${window.innerHeight-16}px`,this.nonmodal=!1,this.floatingUIMiddleware=g.DefaultMiddleware,this._trigger=void 0,this._anchor=void 0,this._isVirtKbVisible=!1,O(this,Q),O(this,vt,!1),O(this,I),O(this,ct,()=>{w(this,z).call(this,"cancel")&&(this.open=!1)}),O(this,z,t=>{const e=t==="show";return this.dispatchCustomEvent("gds-ui-state",{detail:{open:e,reason:t},bubbles:!1,composed:!1,cancelable:!0})}),O(this,Dt,t=>{t.stopPropagation(),t.preventDefault(),w(this,z).call(this,"close")&&(this.open=!1,setTimeout(()=>{var e;return(e=this._trigger)==null?void 0:e.focus()},250))}),O(this,St,t=>{(t.key==="ArrowDown"||t.key==="ArrowUp")&&(t.preventDefault(),this.open=!0,w(this,z).call(this,"show")),t.key==="Escape"&&this.open&&w(this,ct).call(this)}),O(this,Rt,t=>{t.preventDefault(),w(this,z).call(this,this.open?"close":"show")&&(this.open=!this.open)}),O(this,mt,()=>{var e;const t=(e=this._elDefaultSlot)==null?void 0:e.assignedElements()[0];this.updateComplete.then(()=>{t==null||t.focus()})}),O(this,yt,t=>{const e=t,n=this._elDialog;if((e.clientX>0||e.clientY>0)&&n&&this.open){const o=n.getBoundingClientRect();!(o.top<=e.clientY&&e.clientY<=o.top+o.height&&o.left<=e.clientX&&e.clientX<=o.left+o.width)&&w(this,z).call(this,"close")&&(this.open=!1)}}),O(this,ft,()=>{this.open&&window.innerWidth>767&&w(this,z).call(this,"close")&&(this.open=!1)})}_handleTriggerRefChanged(){var t;(t=this.triggerRef)==null||t.then(e=>{e&&(this._trigger=e)})}_handleAnchorRefChanged(){var t;(t=this.anchorRef)==null||t.then(e=>{e&&(this._anchor=e)})}_handleTriggerChanged(){G(this,$,Pt).call(this),G(this,$,fe).call(this)}_handleAnchorChanged(){G(this,$,Wt).call(this)}connectedCallback(){super.connectedCallback(),ve.instance.apply(this,"gds-popover"),G(this,$,Pt).call(this),this._handleOpenChange(),this.addEventListener("keydown",t=>{t.key==="Escape"&&this.open&&(w(this,ct).call(this),t.stopPropagation(),t.preventDefault())}),this.addEventListener("focusin",t=>{const e=t.target;e!==this&&(e.tagName==="INPUT"||e.tagName==="TEXTAREA"?this._isVirtKbVisible=!0:this._isVirtKbVisible=!1)}),this.addEventListener("blurin",t=>{this._isVirtKbVisible=!1})}disconnectedCallback(){super.disconnectedCallback(),G(this,$,ce).call(this),window.removeEventListener("scroll",w(this,ft))}render(){return me`<slot
        name="trigger"
        @slotchange=${G(this,$,ae)}
      ></slot>
      <div ?hidden="${!this.open}">
        <dialog
          class="${be({"v-kb-visible":this._isVirtKbVisible,"use-modal-in-mobile":!this.disableMobileStyles,"has-backdrop":!!(this.backdrop&&this.backdrop==="true")})}"
          ?inert="${!this.open}"
          @close=${()=>this.open&&w(this,ct).call(this)}
        >
          <header>
            <h2>${this.label}</h2>
            <gds-button
              @click=${w(this,Dt)}
              class="close"
              label="${we("Close")}"
              size="small"
              rank="tertiary"
            >
              <gds-icon-cross-small></gds-icon-cross-small>
            </gds-button>
          </header>
          <slot></slot>
        </dialog>
      </div>`}_handleOpenChange(){const t=(this.nonmodal?w(this,I):this._elDialog)||document;this.updateComplete.then(()=>{var e,n,i,o;(e=this._trigger)==null||e.setAttribute("aria-expanded",String(this.open)),this.open?(this.nonmodal?(i=this._elDialog)==null||i.setAttribute("open","true"):(n=this._elDialog)==null||n.showModal(),this.autofocus&&(w(this,mt).call(this),setTimeout(()=>w(this,mt).call(this),250)),requestAnimationFrame(()=>{w(this,I)&&(w(this,I).show=!0)}),setTimeout(()=>t.addEventListener("click",w(this,yt)),0),window.addEventListener("scroll",w(this,ft),{passive:!0})):((o=this._elDialog)==null||o.close(),t.removeEventListener("click",w(this,yt)),window.removeEventListener("scroll",w(this,ft)),w(this,I)&&(w(this,I).show=!1))})}_handleBackdropChange(){var e;const t=(e=this.parentElement)==null?void 0:e.getRootNode();!this.backdrop||!t||Ot(this,I,t.querySelector(this.backdrop))}_handleMobileLayout(t){var n,i,o,s;var e;Ot(this,vt,t),t&&!this.disableMobileStyles?((e=w(this,Q))==null||e.call(this),(n=this._elDialog)==null||n.style.removeProperty("left"),(i=this._elDialog)==null||i.style.removeProperty("top"),(o=this._elDialog)==null||o.style.removeProperty("minWidth"),(s=this._elDialog)==null||s.style.removeProperty("min-width"),this.updateComplete.then(()=>{var r;this.open&&((r=this._elDialog)==null||r.showModal())})):this.updateComplete.then(()=>{G(this,$,Wt).call(this)})}};$=new WeakSet;ae=function(){this._elTriggerSlot&&this._elTriggerSlot.assignedElements()[0]&&(this._trigger=this._elTriggerSlot.assignedElements()[0],this._anchor=this._elTriggerSlot.assignedElements()[0])};Q=new WeakMap;vt=new WeakMap;I=new WeakMap;ct=new WeakMap;z=new WeakMap;Dt=new WeakMap;Pt=function(){var t,e;(t=this._trigger)==null||t.addEventListener("keydown",w(this,St)),(e=this._trigger)==null||e.addEventListener("click",w(this,Rt))};ce=function(){var e,n;var t;(e=this._trigger)==null||e.removeEventListener("keydown",w(this,St)),(n=this._trigger)==null||n.removeEventListener("click",w(this,Rt)),(t=w(this,Q))==null||t.call(this)};fe=function(){this._trigger&&xn(this._trigger,this.open,this.popupRole)};Wt=function(){if(!this._anchor||!this._elDialog)return;const t=this._anchor,e=this._elDialog;!t||!e||w(this,vt)&&!this.disableMobileStyles||(w(this,Q)&&w(this,Q).call(this),Ot(this,Q,pn(t,e,()=>{Object.assign(e.style,{minWidth:this.calcMinWidth(t),maxWidth:this.calcMaxWidth(t),minHeight:this.calcMinHeight(t),maxHeight:this.calcMaxHeight(t)}),yn(t,e,{placement:this.placement,middleware:this.floatingUIMiddleware,strategy:"fixed"}).then(({x:n,y:i})=>Object.assign(e.style,{left:`${n}px`,top:`${i}px`}))})))};St=new WeakMap;Rt=new WeakMap;mt=new WeakMap;yt=new WeakMap;ft=new WeakMap;g.styles=bn;g.DefaultMiddleware=[gn(8),mn({crossAxis:!0,padding:8})];x([S({type:Boolean,reflect:!0})],g.prototype,"open",2);x([S({attribute:"popup-role"})],g.prototype,"popupRole",2);x([S({attribute:!1})],g.prototype,"triggerRef",2);x([S({attribute:!1})],g.prototype,"anchorRef",2);x([S()],g.prototype,"label",2);x([S()],g.prototype,"placement",2);x([S({type:Boolean})],g.prototype,"disableMobileStyles",2);x([S({type:Boolean})],g.prototype,"autofocus",2);x([S({attribute:!1})],g.prototype,"calcMinWidth",2);x([S({attribute:!1})],g.prototype,"calcMaxWidth",2);x([S({attribute:!1})],g.prototype,"calcMinHeight",2);x([S({attribute:!1})],g.prototype,"calcMaxHeight",2);x([S({type:Boolean,reflect:!0})],g.prototype,"nonmodal",2);x([S()],g.prototype,"backdrop",2);x([S({attribute:!1})],g.prototype,"floatingUIMiddleware",2);x([Ft()],g.prototype,"_trigger",2);x([Ft()],g.prototype,"_anchor",2);x([Ft()],g.prototype,"_isVirtKbVisible",2);x([Nt("slot:not([name])")],g.prototype,"_elDefaultSlot",2);x([Nt('slot[name="trigger"]')],g.prototype,"_elTriggerSlot",2);x([Nt("dialog")],g.prototype,"_elDialog",2);x([it("triggerRef")],g.prototype,"_handleTriggerRefChanged",1);x([it("anchorRef")],g.prototype,"_handleAnchorRefChanged",1);x([it("_trigger")],g.prototype,"_handleTriggerChanged",1);x([it("_anchor")],g.prototype,"_handleAnchorChanged",1);x([it("open")],g.prototype,"_handleOpenChange",1);x([it("backdrop")],g.prototype,"_handleBackdropChange",1);x([_e("(max-width: 576px)")],g.prototype,"_handleMobileLayout",1);g=x([pe("gds-popover",{dependsOn:[xe]}),ye()],g);export{g as G,xn as a,pn as b,yn as c,Tn as d,Rn as e,kn as f,On as h,gn as o,mn as s,_e as w};
