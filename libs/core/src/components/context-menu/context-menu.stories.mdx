import { Meta, Canvas } from '@storybook/addon-docs'
import { registerTransitionalStyles } from '../../../../../dist/libs/core/src/transitional-styles.js'

<Meta title="Components/Context Menu" />

# Context Menu

The context menu is presented in-context to the related data, so users donâ€™t lose
their place in the app. It appears upon interaction with the 3 dot button and
displays a list of choices, one choice per line.

## Basic usage

Menu items are defined by adding `gds-menu-item` elements as children of the `gds-context-menu` element.

To handle the user's interaction, you can listen to `click` events on indiviudal menu items, or to the `gds-menu-item-click` event on the parent `gds-context-menu` element.

Note that you should always supply a label for the context menu. The label should describe the context of the menu, such as "Select an action for XYZ".

<Canvas>
<div style={{ height: '200px', dummy: registerTransitionalStyles() }}>
Activated action: <span id="display-action"></span><br />
  <gds-context-menu label="Select an action">
    <gds-menu-item onclick="document.getElementById('display-action').innerText = this.innerText">Action 1</gds-menu-item>
    <gds-menu-item onclick="document.getElementById('display-action').innerText = this.innerText">Action 2</gds-menu-item>
    <gds-menu-item onclick="document.getElementById('display-action').innerText = this.innerText">Action 3</gds-menu-item>
  </gds-context-menu>
</div>
</Canvas>

## Customization

The context menu can be customized using slots. The content of eeach menu item is a slot, and there is a slot for customizing the trigger button.

<Canvas>
<div style={{ height: '200px', dummy: registerTransitionalStyles() }}>
  <gds-context-menu>
    <span slot="trigger">Custom trigger</span>
    <gds-menu-item>
      <div>
        <strong>Custom</strong> <em>markup</em>
        <br />can go here.
      </div>
    </gds-menu-item>
    <gds-menu-item>Action 2</gds-menu-item>
    <gds-menu-item>Action 3</gds-menu-item>
  </gds-context-menu>
</div>
</Canvas>
