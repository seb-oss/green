import { Meta, Story, Canvas, Markdown } from '@storybook/addon-docs'
import { SegmentedControl, Segment } from './segmented-control'
import { provideProtractorTestingSupport } from '@angular/platform-browser'

export const Template = (props) => (
  <SegmentedControl {...props}>
    <Segment value="1">1 month</Segment>
    <Segment value="2">This year</Segment>
    <Segment value="3">1 year</Segment>
    <Segment value="4">3 years</Segment>
    <Segment value="5" disabled>
      5 years
    </Segment>
    <Segment value="6">10 years</Segment>
  </SegmentedControl>
)

# Segmented Control

A segmented control is a group of 2-5 buttons that lets the user switch views or sort elements.

<Meta
  title="Components/SegmentedControl"
  component={SegmentedControl}
  argTypes={{}}
/>

<Canvas>
  <Story
    name="SegmentedControl"
    args={{
      onChange: console.log,
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

### Small

There is a small and a medium version which can be configured using the `size` prop.

<Canvas>
  <SegmentedControl size="small">
    <Segment value="1">1 month</Segment>
    <Segment value="2">This year</Segment>
    <Segment value="3">1 year</Segment>
  </SegmentedControl>
</Canvas>

### Segment Size

The size of the segments can be configured using the `segMinWidth` prop. This influences how many segments will be visible at the same time.
If you have long segment labels and want to avoid concatenation, you can increase the `segMinWidth` prop.
But keep in mind that the best practice is to keep the segment labels short.

<Canvas>
  <SegmentedControl segMinWidth={200}>
    <Segment value="1">1 month</Segment>
    <Segment value="2">This year</Segment>
    <Segment value="3">1 year</Segment>
    <Segment value="4">3 years</Segment>
    <Segment value="5">5 years</Segment>
    <Segment value="6">10 years</Segment>
  </SegmentedControl>
</Canvas>

Available `SegmentedControl` component props

<Markdown>{`
| Props        | Type                                                                    | Description                    |
| :----------- | :---------------------------------------------------------------------- | :----------------------------- |
|  value       | \` string \`                                                            | The value of the currently selected segment. Setting this property will select the segment with the matching value.  |
|  segMinWidth | \` number \`                                                            | Minimum width of each segment. Used for calculating the number of visible segments that can fit based on the available space. |
|  size        | \` small | medium \`                                                    | Size of the segmented control |
|  onChange    | \` (event: Event) => void \`                                            | Fires when the selected segment is changed, use \` event.target.value \` to retrive the value         |
|  className   | \` string \`                                                            | Component className         |
|  children    | \` ReactNode | ReactNode[] \`                                           | Pass down Segment component as child |
`}</Markdown>

<br />
Available `Segment` component props

<Markdown>{`
| Props        | Type                                                                    | Description                    |
| :----------- | :---------------------------------------------------------------------- | :----------------------------- |
|  value       | \` string \`                                                            | The value of the segment. |
|  className   | \` string \`                                                            | Component className         |
|  disabled    | \` boolean \`                                                           | To disabled segment button |
|  children    | \` ReactNode | ReactNode[] \`                                           | Pass down labels or Reactnode as child |
`}</Markdown>
