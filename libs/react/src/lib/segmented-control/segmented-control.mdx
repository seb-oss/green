import { Meta, Story, Canvas, Markdown } from '@storybook/blocks'
import { SegmentedControl, Segment } from './segmented-control'
import { provideProtractorTestingSupport } from '@angular/platform-browser'
import * as SegmentedControlStories from './segmented-control.stories';

export const Template = (props) => (
  <SegmentedControl {...props}>
    <Segment value="1">1 month</Segment>
    <Segment value="2">This year</Segment>
    <Segment value="3">1 year</Segment>
    <Segment value="4">3 years</Segment>
    <Segment value="5" disabled>
      5 years
    </Segment>
    <Segment value="6">10 years</Segment>
  </SegmentedControl>
)

# Segmented Control

A segmented control is a group of 2-5 buttons that lets the user switch views or sort elements.

<Meta of={SegmentedControlStories} />

<Canvas of={SegmentedControlStories.Default} />

### Small

There is a small and a medium version which can be configured using the `size` prop.

<SegmentedControl size="small">
  <Segment value="1">1 month</Segment>
  <Segment value="2">This year</Segment>
  <Segment value="3">1 year</Segment>
</SegmentedControl>


### Segment Size

Segments can have different widths depending on the content, and if there are too many segments to fit in the container, scroll buttons will appear to the left and/or right.

Segment with can also be controlled individually on the segments using the `width`, `min-width` and `max-width` Style Expression properties.

<SegmentedControl>
  <Segment value="1">1 month</Segment>
  <Segment value="2">This year</Segment>
  <Segment value="3" min-width='350px' >1 year</Segment>
  <Segment value="4">3 years</Segment>
  <Segment value="5">5 years</Segment>
  <Segment value="6">10 years</Segment>
</SegmentedControl>

Available `SegmentedControl` component props

<Markdown>
  {`
  | Props        | Type                                                                    | Description                    |
  | :----------- | :---------------------------------------------------------------------- | :----------------------------- |
  |  value       | \` string \`                                                            | The value of the currently selected segment. Setting this property will select the segment with the matching value.  |
  |  size        | \` small | medium \`                                                    | Size of the segmented control |
  |  onChange    | \` (event: Event) => void \`                                            | Fires when the selected segment is changed, use \` event.target.value \` to retrive the value         |
  |  className   | \` string \`                                                            | Component className         |
  |  children    | \` ReactNode | ReactNode[] \`                                           | Pass down Segment component as child |
  `}
</Markdown>

<br />

Available `Segment` component props

<Markdown>
  {`
  | Props        | Type                                                                    | Description                    |
  | :----------- | :---------------------------------------------------------------------- | :----------------------------- |
  |  value       | \` string \`                                                            | The value of the segment. |
  |  className   | \` string \`                                                            | Component className         |
  |  disabled    | \` boolean \`                                                           | To disabled segment button |
  |  children    | \` ReactNode | ReactNode[] \`                                           | Pass down labels or Reactnode as child |
  |  width       | \` string \`                                                            | Controls the \` width \` css property of the segment. |
  |  min-width   | \` string \`                                                            | Controls the \` min-width \` css property of the segment. |
  |  max-width   | \` string \`                                                            | Controls the \` max-width \` css property of the segment. |
  `}
</Markdown>
