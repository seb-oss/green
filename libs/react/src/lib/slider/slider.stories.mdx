import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs'
import { Slider } from './slider'

export const Template = (props) => <Slider {...props} />

# Slider

A slider to experiment and adjust values with.

## Description

The component allows for easy adjustments of a value and check the updated result immediately.

## Usage

On pages where the user can experiment or adjust values in a scale, such as "How much can I borrow?".

## Slider Options

### Props

| Prop          | Type                                       | Description                                                                                                                        |
| :------------ | :----------------------------------------- | :--------------------------------------------------------------------------------------------------------------------------------- |
| name?         | `string`                                   | Name of the input element                                                                                                          |
| value?        | `number`                                   | Value of the input element                                                                                                         |
| min           | `number`                                   | The greatest value in the range of permitted values. Default is 0                                                                  |
| max           | `number`                                   | The lowest value in the range of permitted values. Default is 100                                                                  |
| showMinMax?   | `boolean`                                  | Whether or not to show min and max values. Default is false                                                                        |
| minMaxFormat? | `(value: string, unit?: string) => string` | Formatting function for min and max labels.                                                                                        |
| step          | `number`                                   | The number that specifies the granularity that the value must adhere to. Default is 1                                              |
| label?        | `string`                                   | Label for the input element                                                                                                        |
| instruction?  | `string`                                   | Input element instruction                                                                                                          |
| disabled      | `boolean`                                  | Whether or not the input is disabled. Default is false                                                                             |
| hasTextbox    | `boolean`                                  | Whether or not should have input textbox along with the slider. Default is false                                                   |
| unitLabel     | `string`                                   | Set this to a string, for example `kr`, to show a unit label next to the input field                                               |
| errorMessage? | `string`                                   | Error message for invalid inputs                                                                                                   |
| onChange?     | `(value: number) => void`                  | Callback function that is fired when the value changes. The new value is provided as a paramter to the callback function           |
| onClamp?      | `(unclamped: number) => void`              | Callback function that is fired when the value is clamped. The unclamped value is provided as a parameter to the callback function |

<Meta
  title="Components/Slider"
  component={Slider}
  argTypes={{
    name: {
      name: 'name',
      control: {
        type: 'text',
      },
    },
    value: {
      name: 'value',
      defaultValue: 50,
      control: {
        type: 'number',
      },
    },
    min: {
      name: 'min',
      defaultValue: 0,
      control: {
        type: 'number',
      },
    },
    max: {
      name: 'max',
      defaultValue: 100,
      control: {
        type: 'number',
      },
    },
    showMinMax: {
      name: 'showMinMax',
      defaultValue: false,
      control: {
        type: 'boolean',
      },
    },
    step: {
      name: 'step',
      defaultValue: 1,
      control: {
        type: 'number',
      },
    },
    label: {
      name: 'label',
      defaultValue: 'Slider label text in one line',
      control: {
        type: 'text',
      },
    },
    instruction: {
      name: 'instruction',
      defaultValue: 'Element instruction',
      control: {
        type: 'text',
      },
    },
    hasTextbox: {
      name: 'hasTextbox',
      control: {
        type: 'boolean',
      },
    },
    unitLabel: {
      name: 'Unit label',
      control: {
        type: 'text',
      },
    },
    errorMessage: {
      name: 'errorMessage',
      control: {
        type: 'text',
      },
    },
    disabled: {
      name: 'disabled',
      control: {
        type: 'boolean',
      },
    },
  }}
/>

## Examples

### Default

<Canvas>
  <Story name="Default">{Template.bind({})}</Story>
</Canvas>

### With textbox

<Canvas>
  <Story
    name="Textbox"
    args={{
      hasTextbox: true,
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

### With textbox with unit label and min max labels

<Canvas>
  <Story
    name="UnitTextbox"
    args={{
      hasTextbox: true,
      unitLabel: 'kr',
      showMinMax: true,
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

### With error message

<Canvas>
  <Story
    name="Error"
    args={{
      hasTextbox: true,
      errorMessage: 'Error text can be quite long',
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

### Disabled

<Canvas>
  <Story
    name="Disabled"
    args={{
      hasTextbox: true,
      disabled: true,
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>
