@use '../../../../../chlorophyll/src/scss/common';
@use '../../../../../chlorophyll/src/scss/components/list/mixins' as list;
@use '../../../../../chlorophyll/src/scss/components/dropdown/mixins' as
  dropdown;

:host {
  position: absolute;
  bottom: 0;
  transform: translateY(calc(100% + 0.5rem));
  --z-index: var(--sg-z-index-dropdown);

  .hidden {
    visibility: hidden;
    display: none;
  }

  // menu
  ul[role='menu'] {
    @include dropdown.menu();
  }

  // dropdown select
  ul[role='listbox'] {
    --z-index: var(--sg-z-index-popover);
    background-color: var(--sg-popover-background);
    flex-direction: column;
    justify-content: flex-end;
    inset: auto;
    z-index: var(--z-index);
    box-shadow: var(--sg-popover-box-shadow);
    color: var(--gds-sys-color-text-primary);
    padding: 0;

    @include common.padding-bottom(0);
    @include common.add-border();
    @include common.add-border-color(var(--gds-sys-color-text-primary));
    @include common.add-border-radius();

    @include dropdown.select();
  }

  // dropdown multi-select
  .sg-fieldset-container {
    overflow-y: auto;
    fieldset[role='listbox'][aria-multiselectable='true'] {
      @include dropdown.multi-select();
    }
  }

  .gds-dropdown__options {
    @include list.base-list;
    display: none;

    &-expanded {
      display: block;
    }
  }

  .gds-dropdown__options__label:hover,
  .gds-dropdown__options__label:focus-visible {
    background-color: var(--gds-sys-color-base-200);
  }

  .gds-dropdown__options__label:active {
    background-color: var(--gds-sys-color-base-300);
  }

  .gds-dropdown__options__label:focus-visible {
    outline-color: #000;
    outline-offset: -0.25rem;
  }

  .gds-dropdown__options__label[aria-hidden='true'] {
    display: none;
  }

  .gds-dropdown__options__label[highlighted] {
    color: #fff;
  }
}
