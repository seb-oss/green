<!-- LOCKED INPUT -->
<div *ngIf="locked && state">
  <div
    [id]="id + '-radio'"
    class="nggv-field--locked"
    [attr.name]="name"
    [attr.value]="value"
  >
    {{ label }}
    <ng-template
      *ngTemplateOutlet="labelContentTpl ?? null; context: { $implicit: value }"
    ></ng-template>
  </div>
</div>

<!-- INPUT WRAPPER -->
<ng-container *ngIf="!locked">
  <div>
    <!-- RADIO BUTTON FIELD -->
    <input
      #input
      type="radio"
      [attr.id]="id + '-radio'"
      [attr.name]="name"
      [attr.value]="value"
      [attr.required]="required"
      [disabled]="disabled"
      [autofocus]="autofocus"
      [attr.aria-label]="description"
      [checked]="state"
      (click)="$event.stopPropagation()"
      (change)="onInputChange($event)"
      (focus)="onFocus($event)"
      (blur)="onBlur($event)"
    />

    <!-- LABEL -->
    <label [attr.for]="id + '-radio'">
      {{ label }}
      <ng-template
        *ngTemplateOutlet="
          labelContentTpl ?? null;
          context: { $implicit: value }
        "
      ></ng-template>
    </label>
  </div>

  <!-- ERRORS -->
  <ng-container
    *ngIf="invalid && (error || ngControl?.invalid) && (!errorList || !errorList.length)"
  >
    <label class="sdv-field-notice sdv-field-notice--error"
      [attr.for]="id + '-radio'"
      *transloco="let t; read: scope">
      <span class="error-item">
        <span class="error-item--icon"
          *ngIf="withErrorIcon"><gds-icon-triangle-exclamation></gds-icon-triangle-exclamation>
        </span>
        <span *ngIf="error; else errorsRef"
          class="error-item--text"
          [attr.data-thook]="thook + '-errorlabel'">{{error}}</span>
        <ng-template #errorsRef>
          <span *ngIf="firstError as error"
            class="error-item--text"
            [attr.data-thook]="thook + '-errorlabel'">
            {{ t('error.field' + error?.code, error?.params) }}
          </span>
        </ng-template>
      </span>
    </label>
  </ng-container>

  <ng-container *ngFor="let error of (errorList ?? []); let i = index">
    <label class="sdv-field-notice sdv-field-notice--error"
      [attr.for]="id + '-radio'"
      *ngIf="invalid && error">
      <span class="error-item">
        <span class="error-item--icon"
          *ngIf="withErrorIcon"><gds-icon-triangle-exclamation></gds-icon-triangle-exclamation>
        </span>
        <span class="error-item--text"
          [attr.data-thook]="thook + '-errorlabel-' + i">{{error}}</span>
      </span>
    </label>
  </ng-container>

  <!-- CHILDREN -->
  <ng-content></ng-content>
</ng-container>
