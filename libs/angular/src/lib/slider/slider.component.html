<div *ngIf="!!label" class="gds-slider-label-container">
  <div>
    <label [attr.for]="name" [attr.id]="name + '-label'">{{ label }}</label>
    <p *ngIf="!!instruction">{{ instruction }}</p>
  </div>
  <ng-container *ngIf="hasTextbox">
    <ng-container *ngIf="!!unitLabel">
      <div class="gds-group gds-group--small gds-group-border gds-group-focus">
        <ng-container *ngTemplateOutlet="inputField"></ng-container>
        <span class="gds-form-text">{{ unitLabel }}</span>
      </div>
    </ng-container>
    <ng-container *ngIf="!unitLabel">
      <ng-container *ngTemplateOutlet="inputField"></ng-container>
    </ng-container>
  </ng-container>
</div>

<input
  type="range"
  [attr.id]="name"
  [attr.name]="name"
  [attr.min]="min"
  [attr.max]="max"
  [attr.step]="step"
  [disabled]="disabled"
  [(ngModel)]="value"
  [ngStyle]="style"
  [attr.aria-valuenow]="value"
  (blur)="onBlur()"
  (input)="handleChange()"
/>

<p *ngIf="!!errorMessage" class="gds-slider-error-info">
  {{ errorMessage }}
</p>

<ng-template #inputField>
  <input
    type="text"
    inputmode="numeric"
    pattern="[0-9]*"
    [(ngModel)]="value"
    class="gds-input small"
    [class.is-invalid]="!!errorMessage"
    [attr.name]="name"
    [attr.id]="name + '-textbox'"
    [attr.placeholder]="placeholder"
    [attr.aria-labelledby]="name + '-label'"
    [attr.enterkeyhint]="enterkeyhint"
    [disabled]="disabled"
    (blur)="onBlur()"
    (input)="handleChange()"
  />
</ng-template>
