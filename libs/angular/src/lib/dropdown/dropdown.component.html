<div class="form-group">
  <gds-dropdown
    [value]="selectedOption"
    [searchable]="searchable"
    [label]="label"
    (change)="onValueChange($event)"
    [multiple]="multiSelect"
    #gdsDropdown
  >
    <span class="form-info" slot="form-info" #formInfo
      ><ng-content select="[data-form-info]"></ng-content
    ></span>

    <span slot="trigger"
      ><ng-container
        *ngTemplateOutlet="
          customButton?.templateRef ? customButton!.templateRef : defaultButton;
          context: { option: selectedOption }
        "
      ></ng-container
    ></span>

    <gds-option
      *ngFor="let option of options; let index = index"
      [value]="option"
      ><ng-container
        *ngTemplateOutlet="
          customOption?.templateRef ? customOption!.templateRef : defaultOption;
          context: { option: option, index: index }
        "
      ></ng-container
    ></gds-option>
  </gds-dropdown>
</div>

<ng-template #defaultButton let-selected="option">
  <span>{{ texts?.select }}</span>
</ng-template>

<ng-template #defaultOption let-option="option">
  {{ display ? option[display] : option.name }}
</ng-template>
