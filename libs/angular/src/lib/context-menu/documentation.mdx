import { Canvas, Story, ArgsTable, Meta, Markdown } from '@storybook/addon-docs/blocks'
import { NggContextMenuComponent } from './context-menu.component'
import * as Stories from './context-menu.stories.ts'
import * as Core from '../../../../../dist/libs/core/src/generated/react/index.js'

<Meta of={Stories} />

# Context Menu

<Core.GdsTheme>
  <Core.GdsDiv margin="xl 0">
    <Core.GdsAlert variant="notice">**Note:** This wrapper for GdsContextMenu is deprecated! Please use the [web component from Green Core](https://storybook.seb.io/latest/core/?path=/docs/components-context-menu--docs) directly instead.</Core.GdsAlert>
  </Core.GdsDiv>
</Core.GdsTheme>

[Source code](https://github.com/seb-oss/green/tree/main/libs/angular/src/lib/context-menu)
&nbsp;|&nbsp;
[Usage guidelines](https://designlibrary.sebgroup.com/components/component-moremenu)

## Overview

The context menu is a clickable button that opens a menu where you can find the action connected to an area or item. This component uses the [Green Core Context Menu](https://github.com/seb-oss/green/tree/main/libs/core/src/components/context-menu) component under the hood.

## Importing module

If you're only using the NggContextMenuComponent component, you just need to import the `NggContextMenuModule`.

```typescript
import { NgModule } from '@angular/core'
import { BrowserModule } from '@angular/platform-browser'
import { NggContextMenuModule } from '@sebgroup/green-angular/src/lib/context-menu'

import { AppComponent } from './app.component'

@NgModule({
  declarations: [AppComponent],
  imports: [BrowserModule, NggContextMenuModule],
  exports: [],
})
export class AppModule {}
```

Then use the following in your templates to use the component:

```html
<ngg-context-menu
  [direction]="rtl"
  [menuItems]="menuItems"
  (contextMenuItemClicked)="onItemClick($event)"
></ngg-context-menu>
```

## Examples

### Default

<Canvas of={Stories.Default} />

### With label

<Canvas of={Stories.WithLabel} />

### Right to left

<Canvas of={Stories.RightToLeft} />

### Custom template

You can alter the look of a menu item by providing a custom template to the `menuItemTemplate`input. The template will be provided with the `item` object as context. You can also alter what's should be rendered in the button by providing a custom template to the `menuAnchorTemplate` input.

<Canvas of={Stories.CustomTemplateDefault} />

### Relative position

<Canvas of={Stories.PositionRelative} />

## Component API

### Inputs

<Markdown>{`
| Input (attribute)  | Description                                    | Default |
| :----------------- | :--------------------------------------------- | :------ |
| direction          | Which side to open the menu to 'ltr' or 'rtl'. | ltr     |
| menuItemTemplate   | Template to user for context menu item.        | default |
| menuAnchorTemplate | Template to user for context menu button.      | default |
| menuItems          | Uses DropdownOption interface                  | default |
`}</Markdown>

<Markdown>{`
| Input (attribute) | Description                                                          | Default |
| :---------------- | :------------------------------------------------------------------- | :------ |
| label             | Which key to use as value.                                           | \`value\` |
| value             | Which key to use as display value when selected and in options list. | \`label\` |
`}</Markdown>

### Outputs

<Markdown>{`
| Event                  | Description                                                                                 |
| :--------------------- | :------------------------------------------------------------------------------------------ |
| contextMenuItemClicked | Event emitted when one of the items are click. The clicked item is supplied to the handler. |
`}</Markdown>
