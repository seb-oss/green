import { Canvas, Story, ArgsTable } from '@storybook/addon-docs'

import { NggContextMenuComponent } from './context-menu.component'

# Context Menu

[Source code](https://github.com/sebgroup/green/tree/main/libs/angular/src/lib/context-menu)
&nbsp;|&nbsp;
[Usage guidelines](https://designlibrary.sebgroup.com/components/component-moremenu)

## Overview

The context menu is a clickable button that opens a menu where you can find the action connected to an area or item. This component uses the [Green Core Context Menu](https://github.com/sebgroup/green/tree/main/libs/core/src/components/context-menu) component under the hood.

## Importing module

If you're only using the NggContextMenuComponent component, you just need to import the `NggContextMenuModule`.

```typescript
import { NgModule } from '@angular/core'
import { BrowserModule } from '@angular/platform-browser'
import { NggContextMenuModule } from '@sebgroup/green-angular'

import { AppComponent } from './app.component'

@NgModule({
  declarations: [AppComponent],
  imports: [BrowserModule, NggContextMenuModule],
  exports: [],
})
export class AppModule {}
```

Then use the following in your templates to use the component:

```html
<ngg-context-menu
  [direction]="rtl"
  [menuItems]="menuItems"
  (contextMenuItemClicked)="onItemClick($event)"
></ngg-context-menu>
```

## Examples

### Default

<Canvas>
  <Story id="components-context-menu--default" />
</Canvas>

### With label

<Canvas>
  <Story id="components-context-menu--with-label" />
</Canvas>

### Right to left

<Canvas>
  <Story id="components-context-menu--right-to-left" />
</Canvas>

### Custom template

You can alter the look of a menu item by providing a custom template to the `menuItemTemplate`input. The template will be provided with the `item` object as context. You can also alter what's should be rendered in the button by providing a custom template to the `menuAnchorTemplate` input.

<Canvas>
  <Story id="components-context-menu--custom-template-default" />
</Canvas>

### Relative position

<Canvas>
  <Story id="components-context-menu--position-relative" />
</Canvas>

## Component API

### Inputs

| Input (attribute)  | Description                                    | Default |
| :----------------- | :--------------------------------------------- | :------ |
| direction          | Which side to open the menu to 'ltr' or 'rtl'. | ltr     |
| menuItemTemplate   | Template to user for context menu item.        | default |
| menuAnchorTemplate | Template to user for context menu button.      | default |
| menuItems          | Uses DropdownOption interface                  | default |

| Input (attribute) | Description                                                          | Default |
| :---------------- | :------------------------------------------------------------------- | :------ |
| label             | Which key to use as value.                                           | `value` |
| value             | Which key to use as display value when selected and in options list. | `label` |

### Outputs

| Event                  | Description                                                                                 |
| :--------------------- | :------------------------------------------------------------------------------------------ |
| contextMenuItemClicked | Event emitted when one of the items are click. The clicked item is supplied to the handler. |
