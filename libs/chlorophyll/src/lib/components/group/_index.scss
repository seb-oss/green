@use '../../tokens';
@use '../../common';

.group {
  display: inline-flex;
  flex-wrap: nowrap;
  max-width: 100%;
  overflow: auto;
  @include common.media-breakpoint-down('sm') {
    min-width: 100%;
  }

  > * {
    flex: 1 1 auto;
    margin: 0;
    min-width: 0 !important;
  }

  > *:focus {
    position: relative;
  }

  &:not(.group-border)> * + *:not(:last-child) {
    border-radius: 0 !important;
    margin-left: -(tokens.$border-width);
    padding-left: calc(1rem + #{tokens.$border-width});
  }

  > *:first-child {
    border-bottom-right-radius: 0;
    border-top-right-radius: 0;
  }

  > *:last-child {
    border-bottom-left-radius: 0;
    border-top-left-radius: 0;
    margin-left: -(tokens.$border-width);
    padding-left: calc(1rem + #{tokens.$border-width});
  }

  &.group-border {
    @include common.add-focus('within');
    @include common.add-border();
    @include common.add-border-color();
    @include common.add-border-radius();

    > * + *:not(:last-child) {
      border-left-color: transparent;
      border-radius: 0;
      border-right-color: transparent;
    }

    > *:first-child {
      border-right-color: transparent;
    }

    > *:last-child:not(button) {
      border-left-color: transparent;
    }

    > * {
      border: 0;
      box-shadow: none !important;
    }

    > button,
    > .button {
      margin: -(tokens.$border-width);
      padding-left: calc(1rem + #{tokens.$border-width});
      min-width: auto !important;
    }

    .form-text {
      @include common.padding-end(5);
    }
  }

  &.group-border.disabled {
    @include common.add-disable(false,false, true);
  }
}

.form-group > .group {
  @include common.margin-bottom(3);
}
