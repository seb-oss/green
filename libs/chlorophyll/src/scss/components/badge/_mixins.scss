@use '../../common';
@use '../../tokens/spacing';
@use 'sass:math';
@use 'sass:map';

$variants: (
  'info': (
    color: var(--gds-sys-color-text-inverted),
    background: var(--gds-sys-color-dark-blue-2),
  ),
  'success': (
    color: var(--gds-sys-color-text-inverted),
    background: var(--gds-sys-color-dark-green-2),
  ),
  'warning': (
    color: var(--gds-sys-color-text-primary),
    background: var(--gds-sys-color-yellow),
  ),
  'danger': (
    color: var(--gds-sys-color-text-inverted),
    background: var(--gds-sys-color-dark-red-1),
  ),
  'light': (
    color: var(--gds-sys-color-text-primary),
    background: var(--gds-sys-color-base-100),
  ),
  'dark': (
    color: var(--gds-sys-color-text-inverted),
    background: var(--gds-sys-color-base-900),
  ),
);

$height: 24px;
$border-radius: 2px;
$color: var(--color);
$background: var(--background);
$close-bg-hover: color-mix(
  in srgb,
  var(--gds-sys-color-text-primary) 20%,
  transparent
);
$close-bg-active: color-mix(
  in srgb,
  var(--gds-sys-color-text-primary) 30%,
  transparent
);
$close-height: 1.25rem;
$close-width: $close-height;
$close-icon-thickness: 2px;
$label-font-weight: 500;
$label-font-size: 14px;

/**
 * Mixin for badge styles
 */
@mixin badge {
  --background: var(--gds-sys-color-base-200);
  --color: var(--gds-sys-color-text-primary);
  background: var(--background);
  border-radius: $border-radius;
  color: var(--color);
  height: $height;
  display: inline-flex;
  justify-content: center;
  align-items: center;
  position: relative;
  @include common.padding-horizontal(3);
  @include common.padding-vertical(1);

  &:has(.gds-close) {
    padding-right: 1.75rem;
  }

  strong {
    font-size: $label-font-size;
    font-weight: $label-font-weight;
  }

  /**
   * Adjust size of close button
   */
  .gds-close {
    position: absolute;
    inset-inline-end: 0;

    :before,
    :after {
      background: var(--color);
    }

    &:hover,
    &:hover > i {
      background: transparent;
    }
  }
}

/**
 * Mixin for badge variant styles
 */
@mixin badge-variant($color, $background) {
  --background: #{$background};
  --color: #{$color};

  .gds-close {
    --color: #{$color};

    & > i,
    & > .gds-close:not(:disabled):not(.disabled) > i {
      background: transparent;
    }
  }
}
