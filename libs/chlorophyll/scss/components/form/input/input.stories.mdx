import { Meta, Story, Canvas } from '@storybook/addon-docs'

export const Template = ({ validation, enabled, text, formInfo }) => {
  const attrValidation = validation ? `class="${validation}" ` : ``
  const attrEnabled = enabled ? `` : `disabled`
  const hasExtraInfo = formInfo.length > 0
  return `
    <div class="form-group">
      <label for="inputInvalid">${text}</label>
      ${ hasExtraInfo ? '<span class="form-info">' + formInfo + '</span>' : ''}
      <input id="inputInvalid" type="text" ${attrValidation} ${attrEnabled} />
      <span class="form-info">${validation ? validation : 'Neutral'}</span>
    </div>`
}

<Meta
  title="Components/Form/Elements/Input"
  parameters={{ 
    componentIds: ['component-input']
  }}
  argTypes={{
    validation: {
      control: 'select',
      options: ['', 'is-valid', 'is-invalid'],
    },
    enabled: {
      control: 'boolean'
    },
    text: { control: 'text' },
    formInfo: { control: 'text' }
  }}
/>

<Story
  name="Input"
  args={{
    text: 'Input label',
    formInfo: 'Lorem ipsum very long description of input and what should be entered',
    enabled: true
  }}
  parameters={{ docs: { disable: true }}}
>
  {Template.bind({})}
</Story>

# Input normal size

<Canvas>
  <div class="form-group">
    <label for="inputInvalid">Input label</label>
    <span class="form-info">Lorem ipsum very long description of input and what should be entered</span>
    <input id="inputInvalid" type="text" />
    <span class="form-info">Neutral</span>
  </div>
</Canvas>

# Input small size

<Canvas>
  <div class="form-group">
    <label for="inputSmall">Input label</label>
    <span class="form-info">Lorem ipsum very long description of input and what should be entered</span>
    <input id="inputSmall" type="text" class="small" />
    <span class="form-info">Neutral</span>
  </div>
</Canvas>