import { Meta, Story, Canvas } from '@storybook/addon-docs/blocks'

export const Template = ({
  validation,
  enabled,
  checked,
  indeterminate,
  text,
}) => {
  const attrValidation = validation ? `class="${validation}" ` : ``
  const attrEnabled = enabled ? `` : `disabled`
  const attrChecked = checked ? `checked` : ``
  return `
    <script>
      document.getElementById("canvas-checkbox").indeterminate = ${indeterminate};
    </script>
    <label class="form-control">
      <input id="canvas-checkbox" type="checkbox" ${attrValidation} ${attrEnabled} ${attrChecked} />
      <span>${text}</span>
      <i></i>
    </label>`
}

<Meta
  title="Components/Form/Elements/Checkbox"
  parameters={{
    componentIds: ['component-checkbox'],
  }}
  argTypes={{
    validation: {
      control: 'select',
      options: ['', 'is-valid', 'is-invalid'],
    },
    enabled: {
      control: 'boolean',
    },
    checked: {
      control: 'boolean',
    },
    indeterminate: {
      control: 'boolean',
    },
    text: { control: 'text' },
  }}
/>

<Story
  name="Checkbox"
  args={{
    text: 'Click me!',
    enabled: true,
    checked: false,
    indeterminate: false,
  }}
  parameters={{ docs: { disable: true } }}
>
  {Template.bind({})}
</Story>

# Checkbox

Lorem ipsum checkboxes

## Default checkbox

<Canvas>
  <div class="form-group">
    <label class="form-control">
      <input type="checkbox" />
      <span>Default checkbox</span>
      <i></i>
    </label>
  </div>
</Canvas>

## Invalid checkbox

<Canvas>
  <div class="form-group">
    <label class="form-control was-validated is-invalid">
      <input type="checkbox" class="is-invalid" />
      <span>Invalid checkbox</span>
      <i></i>
    </label>
    <span class="form-info">Error</span>
  </div>
</Canvas>

## Group

Group form controls such as checkboxes and radio buttons using `<fieldset>` and add an optional description using a `<legend>`.

### Default group with hidden legend

<Canvas>
  <form>
    <div class="form-group">
      <fieldset aria-describedby="checkboxGroupHelp">
        <legend class="sr-only">Hidden checkbox group legend</legend>
        <div>
          <label class="form-control">
            Hidden legend one
            <input required type="checkbox" />
            <span></span>
            <i></i>
          </label>
          <label class="form-control">
            Hidden legend two
            <input required type="checkbox" required />
            <span></span>
            <i></i>
          </label>
        </div>
      </fieldset>
    </div>
  </form>
</Canvas>

### Horizontal form with group and visible legend

<Canvas>
  <form class="horizontal">
    <div class="form-group">
      <fieldset aria-describedby="checkboxGroupHelp">
        <legend>Visible checkbox group legend</legend>
        <div>
          <label class="form-control">
            Visible legend one
            <input required type="checkbox" />
            <span></span>
            <i></i>
          </label>
          <label class="form-control">
            Visible legend two
            <input required type="checkbox" required />
            <span></span>
            <i></i>
          </label>
        </div>
      </fieldset>
    </div>
  </form>
</Canvas>

## Validation

### Default form (vertical)

<Canvas>
  <form>
    <div class="form-group was-validated">
      <fieldset aria-describedby="checkboxGroupHelp">
        <legend>Checkbox group</legend>
        <span id="checkboxGroupHelp" class="form-info">
          Checkbox group description
        </span>
        <div>
          <label class="form-control">
            Normal one
            <input required type="checkbox" />
            <span></span>
            <i></i>
          </label>
          <label class="form-control">
            Normal two
            <input required type="checkbox" required />
            <span></span>
            <i></i>
          </label>
        </div>
      </fieldset>
      <span class="form-info">Neutral</span>
    </div>
    <div class="form-group was-validated">
      <fieldset aria-describedby="checkboxGroupHelp1" class="is-valid">
        <legend>Valid checkbox group</legend>
        <span id="checkboxGroupHelp1" class="form-info">
          Checkbox group description
        </span>
        <div>
          <label class="form-control">
            Valid one
            <input required class="is-valid" type="checkbox" />
            <span></span>
            <i></i>
          </label>
          <label class="form-control">
            Valid two
            <input required class="is-valid" type="checkbox" required />
            <span></span>
            <i></i>
          </label>
        </div>
      </fieldset>
      <span class="form-info">Valid</span>
    </div>
    <div class="form-group">
      <fieldset aria-describedby="checkboxGroupHelp2" class="is-invalid">
        <legend>Invalid checkbox group</legend>
        <span class="form-info">Checkbox group description</span>
        <div>
          <label class="form-control">
            Invalid one
            <input required class="is-invalid" type="checkbox" />
            <span></span>
            <i></i>
          </label>
          <label class="form-control">
            Invalid two
            <input required class="is-invalid" type="checkbox" required />
            <span></span>
            <i></i>
          </label>
        </div>
      </fieldset>
      <span class="form-info">Error</span>
    </div>
  </form>
</Canvas>

### Horizontal

<Canvas>
  <form class="horizontal">
    <div class="form-group">
      <fieldset aria-describedby="checkboxGroupHelp">
        <legend>Checkbox group</legend>
        <span id="checkboxGroupHelp" class="form-info">
          Checkbox group description
        </span>
        <div>
          <label class="form-control">
            One
            <input required type="checkbox" />
            <span></span>
            <i></i>
          </label>
          <label class="form-control">
            Two
            <input required type="checkbox" required />
            <span></span>
            <i></i>
          </label>
        </div>
      </fieldset>
      <span class="form-info">Neutral</span>
    </div>
    <div class="form-group was-validated">
      <fieldset aria-describedby="checkboxGroupHelp1" class="is-valid">
        <legend>Valid checkbox group</legend>
        <span id="checkboxGroupHelp1" class="form-info">
          Checkbox group description
        </span>
        <div>
          <label class="form-control">
            One
            <input required class="is-valid" type="checkbox" />
            <span></span>
            <i></i>
          </label>
          <label class="form-control">
            Two
            <input required class="is-valid" type="checkbox" required />
            <span></span>
            <i></i>
          </label>
        </div>
      </fieldset>
      <span class="form-info">Valid</span>
    </div>
    <div class="form-group was-validated">
      <fieldset aria-describedby="checkboxGroupHelp2" class="is-invalid">
        <legend>Invalid checkbox group</legend>
        <span class="form-info">Checkbox group description</span>
        <div>
          <label class="form-control">
            One
            <input required class="is-invalid" type="checkbox" />
            <span></span>
            <i></i>
          </label>
          <label class="form-control">
            Two
            <input required class="is-invalid" type="checkbox" required />
            <span></span>
            <i></i>
          </label>
        </div>
      </fieldset>
      <span class="form-info">Error</span>
    </div>
  </form>
</Canvas>
