import { Meta, Story, Canvas } from '@storybook/addon-docs'

export const Template = ({
  isCompleted,
  isStarted,
  stepText,
  title,
  content,
}) => {
  return `
    <section class="gds-in-page-wizard-step-card card${
      isCompleted ? ' completed' : ''
    }${isStarted ? ' active' : ''}">
      <header class="gds-in-page-wizard-step-card__header">
        <div class="gds-in-page-wizard-step-card__header__icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Pro 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) --><path d="M435.848 83.466L172.804 346.51l-96.652-96.652c-4.686-4.686-12.284-4.686-16.971 0l-28.284 28.284c-4.686 4.686-4.686 12.284 0 16.971l133.421 133.421c4.686 4.686 12.284 4.686 16.971 0l299.813-299.813c4.686-4.686 4.686-12.284 0-16.971l-28.284-28.284c-4.686-4.686-12.284-4.686-16.97 0z"/></svg>
        </div>
        <div class="gds-in-page-wizard-step-card__header__progress">
          ${stepText}
        </div>
        <div class="gds-in-page-wizard-step-card__header__title">
          <h2 class="h4">${title}</h2>
        </div>
        ${
          isCompleted
            ? `
        <div class="gds-in-page-wizard-step-card__header__edit">
          <button class="secondary small">Edit</button>
        </div>`
            : ''
        }
      </header>
      ${
        isStarted
          ? `<div class="gds-in-page-wizard-step-card__content">${content}</div>
            <footer class="gds-in-page-wizard-step-card__footer">
              <button class="primary">Next</button>
            </footer>
          `
          : isCompleted
            ? `<div class="gds-in-page-wizard-step-card__content">${content}</div>
              <footer class="gds-in-page-wizard-step-card__footer__edit">
                <button class="secondary">Edit</button>
              </footer>
            `
            : ''
      }
    </section>
    `
}

<Meta
  title="Components/Wizard/In-page Wizard"
  parameters={{
    componentIds: ['component-inpagewizard'],
  }}
  argTypes={{
    isCompleted: {
      control: 'boolean',
    },
    isStarted: {
      control: 'boolean',
    },
    stepText: { control: 'text' },
    title: { control: 'text' },
    content: { control: 'text' },
  }}
/>

# In page wizard

Presents a sequence that leads the user through well-defined steps within a page.

<Story
  name="In-page Wizard Step Card"
  args={{
    isCompleted: true,
    isStarted: false,
    stepText: 'Step 1 of 6',
    title: 'Title',
    content: `<dl class="gds-list"><dt>Sub title</dt><dd>Sub section text</dd><dt>Sub title</dt><dd>Sub section text</dd><dt>Sub title</dt><dd>Sub section text</dd></dl>`,
  }}
  parameters={{ docs: { disable: true } }}
>
  {Template.bind({})}
</Story>

## Completed step

A completed step has a green check mark icon and an Edit-button which allows the user to change previously entered information.

<Canvas>
  <Story
    name="Completed step"
    args={{
      isCompleted: true,
      isStarted: false,
      stepText: 'Step 1 of 6',
      title: 'Title',
      content: `<dl class="gds-list"><dt>Sub title</dt><dd>Sub section text</dd><dt>Sub title</dt><dd>Sub section text</dd></dl>`,
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## Current step (active)

The current step is the one the user is currently interacting with.

<Canvas>
  <Story
    name="Current step"
    args={{
      isCompleted: false,
      isStarted: true,
      stepText: 'Step 2 of 6',
      title: 'Title',
      content: `<div class="form-group">
          <label for="inputInvalid">Input label</label>
          <span class="form-info">Lorem ipsum very long description of input and what should be entered</span>
          <input id="inputInvalid" type="text" />
        </div>
        <div class="form-group">
          <label for="inputInvalid">Input label</label>
          <span class="form-info">Lorem ipsum very long description of input and what should be entered</span>
          <input id="inputInvalid" type="text" />
        </div>`,
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## Upcoming, but not yet started, step

An upcoming step only shows the title and step number, but hides the details in order to reduce clutter.

<Canvas>
  <Story
    name="Not started step"
    args={{
      isCompleted: false,
      isStarted: false,
      stepText: 'Step 3 of 6',
      title: 'Title',
      content: `<dl class="gds-list"><dt>Sub title</dt><dd>Sub section text</dd><dt>Sub title</dt><dd>Sub section text</dd></dl>`,
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>
