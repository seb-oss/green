/*! For license information please see mocker-runtime-injected.js.LICENSE.txt */
var __defProp=Object.defineProperty,__defNormalProp=(e,t,r)=>t in e?__defProp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,__publicField=(e,t,r)=>__defNormalProp(e,"symbol"!=typeof t?t+"":t,r),MockerRegistry=class{constructor(){__publicField(this,"registryByUrl",new Map),__publicField(this,"registryById",new Map)}clear(){this.registryByUrl.clear(),this.registryById.clear()}keys(){return this.registryByUrl.keys()}add(e){this.registryByUrl.set(e.url,e),this.registryById.set(e.id,e)}register(e,t,r,n,o){const i="object"==typeof e?e.type:e;if("object"==typeof e){const t=e;if(t instanceof AutomockedModule||t instanceof AutospiedModule||t instanceof ManualMockedModule||t instanceof RedirectedModule)throw new TypeError(`[vitest] Cannot register a mock that is already defined. Expected a JSON representation from \`MockedModule.toJSON\`, instead got "${t.type}". Use "registry.add()" to update a mock instead.`);if("automock"===t.type){const e=AutomockedModule.fromJSON(t);return this.add(e),e}if("autospy"===t.type){const e=AutospiedModule.fromJSON(t);return this.add(e),e}if("redirect"===t.type){const e=RedirectedModule.fromJSON(t);return this.add(e),e}throw"manual"===t.type?new Error("Cannot set serialized manual mock. Define a factory function manually with `ManualMockedModule.fromJSON()`."):new Error(`Unknown mock type: ${t.type}`)}if("string"!=typeof t)throw new TypeError("[vitest] Mocks require a raw string.");if("string"!=typeof n)throw new TypeError("[vitest] Mocks require a url string.");if("string"!=typeof r)throw new TypeError("[vitest] Mocks require an id string.");if("manual"===i){if("function"!=typeof o)throw new TypeError("[vitest] Manual mocks require a factory function.");const e=new ManualMockedModule(t,r,n,o);return this.add(e),e}if("automock"===i||"autospy"===i){const e="automock"===i?new AutomockedModule(t,r,n):new AutospiedModule(t,r,n);return this.add(e),e}if("redirect"===i){if("string"!=typeof o)throw new TypeError("[vitest] Redirect mocks require a redirect string.");const e=new RedirectedModule(t,r,n,o);return this.add(e),e}throw new Error(`[vitest] Unknown mock type: ${i}`)}delete(e){this.registryByUrl.delete(e)}get(e){return this.registryByUrl.get(e)}getById(e){return this.registryById.get(e)}has(e){return this.registryByUrl.has(e)}},AutomockedModule=class{constructor(e,t,r){__publicField(this,"type","automock"),this.raw=e,this.id=t,this.url=r}static fromJSON(e){return new AutospiedModule(e.raw,e.id,e.url)}toJSON(){return{type:this.type,url:this.url,raw:this.raw,id:this.id}}},AutospiedModule=class e{constructor(e,t,r){__publicField(this,"type","autospy"),this.raw=e,this.id=t,this.url=r}static fromJSON(t){return new e(t.raw,t.id,t.url)}toJSON(){return{type:this.type,url:this.url,id:this.id,raw:this.raw}}},RedirectedModule=class e{constructor(e,t,r,n){__publicField(this,"type","redirect"),this.raw=e,this.id=t,this.url=r,this.redirect=n}static fromJSON(t){return new e(t.raw,t.id,t.url,t.redirect)}toJSON(){return{type:this.type,url:this.url,raw:this.raw,id:this.id,redirect:this.redirect}}},ManualMockedModule=class e{constructor(e,t,r,n){__publicField(this,"cache"),__publicField(this,"type","manual"),this.raw=e,this.id=t,this.url=r,this.factory=n}async resolve(){if(this.cache)return this.cache;let e;try{e=await this.factory()}catch(e){const t=new Error('[vitest] There was an error when mocking a module. If you are using "vi.mock" factory, make sure there are no top level variables inside, since this call is hoisted to top of the file. Read more: https://vitest.dev/api/vi.html#vi-mock');throw t.cause=e,t}if(null===e||"object"!=typeof e||Array.isArray(e))throw new TypeError(`[vitest] vi.mock("${this.raw}", factory?: () => unknown) is not returning an object. Did you mean to return an object with a "default" key?`);return this.cache=e}static fromJSON(t,r){return new e(t.raw,t.id,t.url,r)}toJSON(){return{type:this.type,url:this.url,id:this.id,raw:this.raw}}};function mockObject(e,t,r={}){const n=new Array,o=new RefTracker,i=(e,t,r)=>{try{return e[t]=r,!0}catch{return!1}},s=(t,r)=>{const a=getType(t),c="Module"===a||!!t.__esModule;for(const{key:l,descriptor:u}of getAllMockableProperties(t,c,e.globalConstructors)){if(!c&&u.get){try{Object.defineProperty(r,l,u)}catch{}continue}if(isSpecialProp(l,a))continue;const d=t[l],p=o.getId(d);if(void 0!==p){n.push(()=>i(r,l,o.getMockedValue(p)));continue}const f=getType(d);if(Array.isArray(d)){i(r,l,[]);continue}const m=f.includes("Function")&&"function"==typeof d;if(m&&!d._isMockFunction||"Object"===f||"Module"===f){if(i(r,l,m?d:{})){if(m){let t=function(){if(this instanceof r[l])for(const{key:t,descriptor:r}of getAllMockableProperties(this,!1,e.globalConstructors)){if(r.get)continue;const e=this[t];if(getType(e).includes("Function")&&"function"==typeof e){const e=this[t],r=n(this,t).mockImplementation(e),o=r.mockReset;r.mockRestore=r.mockReset=()=>(o.call(r),r.mockImplementation(e),r)}}};if(!e.spyOn)throw new Error("[@vitest/mocker] `spyOn` is not defined. This is a Vitest error. Please open a new issue with reproduction.");const n=e.spyOn,o=n(r,l);if("automock"===e.type){o.mockImplementation(t);const e=o.mockReset;o.mockRestore=o.mockReset=()=>(e.call(o),o.mockImplementation(t),o)}Object.defineProperty(r[l],"length",{value:0})}o.track(d,r[l]),s(d,r[l])}}else i(r,l,d)}},a=r;s(t,a);for(const e of n)e();return a}var RefTracker=class{constructor(){__publicField(this,"idMap",new Map),__publicField(this,"mockedValueMap",new Map)}getId(e){return this.idMap.get(e)}getMockedValue(e){return this.mockedValueMap.get(e)}track(e,t){const r=this.idMap.size;return this.idMap.set(e,r),this.mockedValueMap.set(r,t),r}};function getType(e){return Object.prototype.toString.apply(e).slice(8,-1)}function isSpecialProp(e,t){return t.includes("Function")&&"string"==typeof e&&["arguments","callee","caller","length","name"].includes(e)}function getAllMockableProperties(e,t,r){const{Map:n,Object:o,Function:i,RegExp:s,Array:a}=r,c=new n;let l=e;do{if(l===o.prototype||l===i.prototype||l===s.prototype)break;collectOwnProperties(l,e=>{const t=o.getOwnPropertyDescriptor(l,e);t&&c.set(e,{key:e,descriptor:t})})}while(l=o.getPrototypeOf(l));if(t&&!c.has("default")&&"default"in e){const t=o.getOwnPropertyDescriptor(e,"default");t&&c.set("default",{key:"default",descriptor:t})}return a.from(c.values())}function collectOwnProperties(e,t){const r="function"==typeof t?t:e=>t.add(e);Object.getOwnPropertyNames(e).forEach(r),Object.getOwnPropertySymbols(e).forEach(r)}var _DRIVE_LETTER_START_RE=/^[A-Za-z]:\//;function normalizeWindowsPath(e=""){return e?e.replace(/\\/g,"/").replace(_DRIVE_LETTER_START_RE,e=>e.toUpperCase()):e}var _UNC_REGEX=/^[/\\]{2}/,_IS_ABSOLUTE_RE=/^[/\\](?![/\\])|^[/\\]{2}(?!\.)|^[A-Za-z]:[/\\]/,_DRIVE_LETTER_RE=/^[A-Za-z]:$/,_EXTNAME_RE=/.(\.[^./]+|\.)$/,normalize=function(e){if(0===e.length)return".";const t=(e=normalizeWindowsPath(e)).match(_UNC_REGEX),r=isAbsolute(e),n="/"===e[e.length-1];return 0===(e=normalizeString(e,!r)).length?r?"/":n?"./":".":(n&&(e+="/"),_DRIVE_LETTER_RE.test(e)&&(e+="/"),t?r?`//${e}`:`//./${e}`:r&&!isAbsolute(e)?`/${e}`:e)},join=function(...e){let t="";for(const r of e)if(r)if(t.length>0){const e="/"===t[t.length-1],n="/"===r[0];t+=e&&n?r.slice(1):e||n?r:`/${r}`}else t+=r;return normalize(t)};function normalizeString(e,t){let r="",n=0,o=-1,i=0,s=null;for(let a=0;a<=e.length;++a){if(a<e.length)s=e[a];else{if("/"===s)break;s="/"}if("/"===s){if(o===a-1||1===i);else if(2===i){if(r.length<2||2!==n||"."!==r[r.length-1]||"."!==r[r.length-2]){if(r.length>2){const e=r.lastIndexOf("/");-1===e?(r="",n=0):(r=r.slice(0,e),n=r.length-1-r.lastIndexOf("/")),o=a,i=0;continue}if(r.length>0){r="",n=0,o=a,i=0;continue}}t&&(r+=r.length>0?"/..":"..",n=2)}else r.length>0?r+=`/${e.slice(o+1,a)}`:r=e.slice(o+1,a),n=a-o-1;o=a,i=0}else"."===s&&-1!==i?++i:i=-1}return r}var isAbsolute=function(e){return _IS_ABSOLUTE_RE.test(e)},extname=function(e){if(".."===e)return"";const t=_EXTNAME_RE.exec(normalizeWindowsPath(e));return t&&t[1]||""},f={reset:[0,0],bold:[1,22,"[22m[1m"],dim:[2,22,"[22m[2m"],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]},h=Object.entries(f);function a(e){return String(e)}function C(e=!1){let t="undefined"!=typeof process?process:void 0,r=(null==t?void 0:t.env)||{},n=(null==t?void 0:t.argv)||[];return!("NO_COLOR"in r||n.includes("--no-color"))&&("FORCE_COLOR"in r||n.includes("--color")||"win32"===(null==t?void 0:t.platform)||e&&"dumb"!==r.TERM||"CI"in r)||"undefined"!=typeof window&&!!window.chrome}function p(e=!1){let t=C(e),r=(e,t,r=e)=>{let n=n=>{let o=String(n),i=o.indexOf(t,e.length);return~i?e+((e,t,r,n)=>{let o="",i=0;do{o+=e.substring(i,n)+r,i=n+t.length,n=e.indexOf(t,i)}while(~n);return o+e.substring(i)})(o,t,r,i)+t:e+o+t};return n.open=e,n.close=t,n},n={isColorSupported:t},o=e=>`[${e}m`;for(let[e,i]of h)n[e]=t?r(o(i[0]),o(i[1]),i[2]):a;return n}function _mergeNamespaces(e,t){return t.forEach(function(t){t&&"string"!=typeof t&&!Array.isArray(t)&&Object.keys(t).forEach(function(r){if("default"!==r&&!(r in e)){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}})}),Object.freeze(e)}function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}a.open="",a.close="",p();var hasRequiredReactIs_development$1,hasRequiredReactIs$1,reactIs$1={exports:{}},reactIs_development$1={};function requireReactIs_development$1(){return hasRequiredReactIs_development$1||(hasRequiredReactIs_development$1=1,function(){function e(e){if("object"==typeof e&&null!==e){var m=e.$$typeof;switch(m){case t:switch(e=e.type){case n:case i:case o:case l:case u:case f:return e;default:switch(e=e&&e.$$typeof){case a:case c:case p:case d:case s:return e;default:return m}}case r:return m}}}var t=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.for("react.view_transition"),m=Symbol.for("react.client.reference");reactIs_development$1.ContextConsumer=s,reactIs_development$1.ContextProvider=a,reactIs_development$1.Element=t,reactIs_development$1.ForwardRef=c,reactIs_development$1.Fragment=n,reactIs_development$1.Lazy=p,reactIs_development$1.Memo=d,reactIs_development$1.Portal=r,reactIs_development$1.Profiler=i,reactIs_development$1.StrictMode=o,reactIs_development$1.Suspense=l,reactIs_development$1.SuspenseList=u,reactIs_development$1.isContextConsumer=function(t){return e(t)===s},reactIs_development$1.isContextProvider=function(t){return e(t)===a},reactIs_development$1.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===t},reactIs_development$1.isForwardRef=function(t){return e(t)===c},reactIs_development$1.isFragment=function(t){return e(t)===n},reactIs_development$1.isLazy=function(t){return e(t)===p},reactIs_development$1.isMemo=function(t){return e(t)===d},reactIs_development$1.isPortal=function(t){return e(t)===r},reactIs_development$1.isProfiler=function(t){return e(t)===i},reactIs_development$1.isStrictMode=function(t){return e(t)===o},reactIs_development$1.isSuspense=function(t){return e(t)===l},reactIs_development$1.isSuspenseList=function(t){return e(t)===u},reactIs_development$1.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===n||e===i||e===o||e===l||e===u||"object"==typeof e&&null!==e&&(e.$$typeof===p||e.$$typeof===d||e.$$typeof===a||e.$$typeof===s||e.$$typeof===c||e.$$typeof===m||void 0!==e.getModuleId)},reactIs_development$1.typeOf=e}()),reactIs_development$1}function requireReactIs$1(){return hasRequiredReactIs$1||(hasRequiredReactIs$1=1,reactIs$1.exports=requireReactIs_development$1()),reactIs$1.exports}var hasRequiredReactIs_development,hasRequiredReactIs,reactIsExports$1=requireReactIs$1(),index$1=getDefaultExportFromCjs(reactIsExports$1),ReactIs19=_mergeNamespaces({__proto__:null,default:index$1},[reactIsExports$1]),reactIs={exports:{}},reactIs_development={};function requireReactIs_development(){return hasRequiredReactIs_development||(hasRequiredReactIs_development=1,function(){var e,t=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),c=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function h(e){if("object"==typeof e&&null!==e){var m=e.$$typeof;switch(m){case t:var h=e.type;switch(h){case n:case i:case o:case u:case d:return h;default:var y=h&&h.$$typeof;switch(y){case c:case a:case l:case f:case p:case s:return y;default:return m}}case r:return m}}}e=Symbol.for("react.module.reference");var y=a,g=s,v=t,_=l,I=n,w=f,k=p,b=r,S=i,$=o,E=u,M=d,R=!1,x=!1;reactIs_development.ContextConsumer=y,reactIs_development.ContextProvider=g,reactIs_development.Element=v,reactIs_development.ForwardRef=_,reactIs_development.Fragment=I,reactIs_development.Lazy=w,reactIs_development.Memo=k,reactIs_development.Portal=b,reactIs_development.Profiler=S,reactIs_development.StrictMode=$,reactIs_development.Suspense=E,reactIs_development.SuspenseList=M,reactIs_development.isAsyncMode=function(e){return R||(R=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 18+.")),!1},reactIs_development.isConcurrentMode=function(e){return x||(x=!0,console.warn("The ReactIs.isConcurrentMode() alias has been deprecated, and will be removed in React 18+.")),!1},reactIs_development.isContextConsumer=function(e){return h(e)===a},reactIs_development.isContextProvider=function(e){return h(e)===s},reactIs_development.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===t},reactIs_development.isForwardRef=function(e){return h(e)===l},reactIs_development.isFragment=function(e){return h(e)===n},reactIs_development.isLazy=function(e){return h(e)===f},reactIs_development.isMemo=function(e){return h(e)===p},reactIs_development.isPortal=function(e){return h(e)===r},reactIs_development.isProfiler=function(e){return h(e)===i},reactIs_development.isStrictMode=function(e){return h(e)===o},reactIs_development.isSuspense=function(e){return h(e)===u},reactIs_development.isSuspenseList=function(e){return h(e)===d},reactIs_development.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===n||t===i||t===o||t===u||t===d||t===m||"object"==typeof t&&null!==t&&(t.$$typeof===f||t.$$typeof===p||t.$$typeof===s||t.$$typeof===a||t.$$typeof===l||t.$$typeof===e||void 0!==t.getModuleId)},reactIs_development.typeOf=h}()),reactIs_development}function requireReactIs(){return hasRequiredReactIs||(hasRequiredReactIs=1,reactIs.exports=requireReactIs_development()),reactIs.exports}var reactIsExports=requireReactIs(),index=getDefaultExportFromCjs(reactIsExports),ReactIs18=_mergeNamespaces({__proto__:null,default:index},[reactIsExports]),reactIsMethods=["isAsyncMode","isConcurrentMode","isContextConsumer","isContextProvider","isElement","isForwardRef","isFragment","isLazy","isMemo","isPortal","isProfiler","isStrictMode","isSuspense","isSuspenseList","isValidElementType"];Object.fromEntries(reactIsMethods.map(e=>[e,t=>ReactIs18[e](t)||ReactIs19[e](t)]));var jsTokens_1,hasRequiredJsTokens,getPromiseValue=()=>"Promise{â€¦}";try{const{getPromiseDetails:e,kPending:t,kRejected:r}=process.binding("util");Array.isArray(e(Promise.resolve()))&&(getPromiseValue=(n,o)=>{const[i,s]=e(n);return i===t?"Promise{<pending>}":`Promise${i===r?"!":""}{${o.inspect(s,o)}}`})}catch(e){}function createSimpleStackTrace(e){const{message:t="$$stack trace error",stackTraceLimit:r=1}=e||{},n=Error.stackTraceLimit,o=Error.prepareStackTrace;Error.stackTraceLimit=r,Error.prepareStackTrace=e=>e.stack;const i=new Error(t).stack||"";return Error.prepareStackTrace=o,Error.stackTraceLimit=n,i}function requireJsTokens(){return hasRequiredJsTokens?jsTokens_1:(hasRequiredJsTokens=1,p=/\/(?![*\/])(?:\[(?:(?![\]\\]).|\\.)*\]|(?![\/\\]).|\\.)*(\/[$_\u200C\u200D\p{ID_Continue}]*|\\)?/uy,d=/--|\+\+|=>|\.{3}|\??\.(?!\d)|(?:&&|\|\||\?\?|[+\-%&|^]|\*{1,2}|<{1,2}|>{1,3}|!=?|={1,2}|\/(?![\/*]))=?|[?~,:;[\](){}]/y,e=/(\x23?)(?=[$_\p{ID_Start}\\])(?:[$_\u200C\u200D\p{ID_Continue}]|\\u[\da-fA-F]{4}|\\u\{[\da-fA-F]+\})+/uy,m=/(['"])(?:(?!\1)[^\\\n\r]|\\(?:\r\n|[^]))*(\1)?/y,u=/(?:0[xX][\da-fA-F](?:_?[\da-fA-F])*|0[oO][0-7](?:_?[0-7])*|0[bB][01](?:_?[01])*)n?|0n|[1-9](?:_?\d)*n|(?:(?:0(?!\d)|0\d*[89]\d*|[1-9](?:_?\d)*)(?:\.(?:\d(?:_?\d)*)?)?|\.\d(?:_?\d)*)(?:[eE][+-]?\d(?:_?\d)*)?|0[0-7]+/y,h=/[`}](?:[^`\\$]|\\[^]|\$(?!\{))*(`|\$\{)?/y,v=/[\t\v\f\ufeff\p{Zs}]+/uy,a=/\r?\n|[\r\u2028\u2029]/y,c=/\/\*(?:[^*]|\*(?!\/))*(\*\/)?/y,f=/\/\/.*/y,r=/[<>.:={}]|\/(?![\/*])/y,t=/[$_\p{ID_Start}][$_\u200C\u200D\p{ID_Continue}-]*/uy,n=/(['"])(?:(?!\1)[^])*(\1)?/y,o=/[^<>{}]+/y,g=/^(?:[\/+-]|\.{3}|\?(?:InterpolationIn(?:JSX|Template)|NoLineTerminatorHere|NonExpressionParenEnd|UnaryIncDec))?$|[{}([,;<>=*%&|^!~?:]$/,y=/^(?:=>|[;\]){}]|else|\?(?:NoLineTerminatorHere|NonExpressionParenEnd))?$/,i=/^(?:await|case|default|delete|do|else|instanceof|new|return|throw|typeof|void|yield)$/,s=/^(?:return|throw|yield)$/,l=RegExp(a.source),jsTokens_1=function*(_,{jsx:I=!1}={}){var w,k,b,S,$,E,M,R,x,T,P,O,A,C;for(({length:E}=_),S=0,$="",C=[{tag:"JS"}],w=[],P=0,O=!1;S<E;){switch((R=C[C.length-1]).tag){case"JS":case"JSNonExpressionParen":case"InterpolationInTemplate":case"InterpolationInJSX":if("/"===_[S]&&(g.test($)||i.test($))&&(p.lastIndex=S,M=p.exec(_))){S=p.lastIndex,$=M[0],O=!0,yield{type:"RegularExpressionLiteral",value:M[0],closed:void 0!==M[1]&&"\\"!==M[1]};continue}if(d.lastIndex=S,M=d.exec(_)){switch(A=M[0],x=d.lastIndex,T=A,A){case"(":"?NonExpressionParenKeyword"===$&&C.push({tag:"JSNonExpressionParen",nesting:P}),P++,O=!1;break;case")":P--,O=!0,"JSNonExpressionParen"===R.tag&&P===R.nesting&&(C.pop(),T="?NonExpressionParenEnd",O=!1);break;case"{":d.lastIndex=0,b=!y.test($)&&(g.test($)||i.test($)),w.push(b),O=!1;break;case"}":switch(R.tag){case"InterpolationInTemplate":if(w.length===R.nesting){h.lastIndex=S,M=h.exec(_),S=h.lastIndex,$=M[0],"${"===M[1]?($="?InterpolationInTemplate",O=!1,yield{type:"TemplateMiddle",value:M[0]}):(C.pop(),O=!0,yield{type:"TemplateTail",value:M[0],closed:"`"===M[1]});continue}break;case"InterpolationInJSX":if(w.length===R.nesting){C.pop(),S+=1,$="}",yield{type:"JSXPunctuator",value:"}"};continue}}T=(O=w.pop())?"?ExpressionBraceEnd":"}";break;case"]":O=!0;break;case"++":case"--":T=O?"?PostfixIncDec":"?UnaryIncDec";break;case"<":if(I&&(g.test($)||i.test($))){C.push({tag:"JSXTag"}),S+=1,$="<",yield{type:"JSXPunctuator",value:A};continue}O=!1;break;default:O=!1}S=x,$=T,yield{type:"Punctuator",value:A};continue}if(e.lastIndex=S,M=e.exec(_)){switch(S=e.lastIndex,T=M[0],M[0]){case"for":case"if":case"while":case"with":"."!==$&&"?."!==$&&(T="?NonExpressionParenKeyword")}$=T,O=!i.test(M[0]),yield{type:"#"===M[1]?"PrivateIdentifier":"IdentifierName",value:M[0]};continue}if(m.lastIndex=S,M=m.exec(_)){S=m.lastIndex,$=M[0],O=!0,yield{type:"StringLiteral",value:M[0],closed:void 0!==M[2]};continue}if(u.lastIndex=S,M=u.exec(_)){S=u.lastIndex,$=M[0],O=!0,yield{type:"NumericLiteral",value:M[0]};continue}if(h.lastIndex=S,M=h.exec(_)){S=h.lastIndex,$=M[0],"${"===M[1]?($="?InterpolationInTemplate",C.push({tag:"InterpolationInTemplate",nesting:w.length}),O=!1,yield{type:"TemplateHead",value:M[0]}):(O=!0,yield{type:"NoSubstitutionTemplate",value:M[0],closed:"`"===M[1]});continue}break;case"JSXTag":case"JSXTagEnd":if(r.lastIndex=S,M=r.exec(_)){switch(S=r.lastIndex,T=M[0],M[0]){case"<":C.push({tag:"JSXTag"});break;case">":C.pop(),"/"===$||"JSXTagEnd"===R.tag?(T="?JSX",O=!0):C.push({tag:"JSXChildren"});break;case"{":C.push({tag:"InterpolationInJSX",nesting:w.length}),T="?InterpolationInJSX",O=!1;break;case"/":"<"===$&&(C.pop(),"JSXChildren"===C[C.length-1].tag&&C.pop(),C.push({tag:"JSXTagEnd"}))}$=T,yield{type:"JSXPunctuator",value:M[0]};continue}if(t.lastIndex=S,M=t.exec(_)){S=t.lastIndex,$=M[0],yield{type:"JSXIdentifier",value:M[0]};continue}if(n.lastIndex=S,M=n.exec(_)){S=n.lastIndex,$=M[0],yield{type:"JSXString",value:M[0],closed:void 0!==M[2]};continue}break;case"JSXChildren":if(o.lastIndex=S,M=o.exec(_)){S=o.lastIndex,$=M[0],yield{type:"JSXText",value:M[0]};continue}switch(_[S]){case"<":C.push({tag:"JSXTag"}),S++,$="<",yield{type:"JSXPunctuator",value:"<"};continue;case"{":C.push({tag:"InterpolationInJSX",nesting:w.length}),S++,$="?InterpolationInJSX",O=!1,yield{type:"JSXPunctuator",value:"{"};continue}}v.lastIndex=S,(M=v.exec(_))?(S=v.lastIndex,yield{type:"WhiteSpace",value:M[0]}):(a.lastIndex=S,(M=a.exec(_))?(S=a.lastIndex,O=!1,s.test($)&&($="?NoLineTerminatorHere"),yield{type:"LineTerminatorSequence",value:M[0]}):(c.lastIndex=S,(M=c.exec(_))?(S=c.lastIndex,l.test(M[0])&&(O=!1,s.test($)&&($="?NoLineTerminatorHere")),yield{type:"MultiLineComment",value:M[0],closed:void 0!==M[1]}):(f.lastIndex=S,(M=f.exec(_))?(S=f.lastIndex,O=!1,yield{type:"SingleLineComment",value:M[0]}):(S+=(k=String.fromCodePoint(_.codePointAt(S))).length,$=k,O=!1,yield{type:R.tag.startsWith("JSX")?"JSXInvalid":"Invalid",value:k}))))}});var e,t,r,n,o,i,s,a,c,l,u,d,p,f,m,h,y,g,v}requireJsTokens();var reservedWords={keyword:["break","case","catch","continue","debugger","default","do","else","finally","for","function","if","return","switch","throw","try","var","const","while","with","new","this","super","class","extends","export","import","null","true","false","in","instanceof","typeof","void","delete"],strict:["implements","interface","let","package","private","protected","public","static","yield"]};new Set(reservedWords.keyword),new Set(reservedWords.strict);var UrlType,chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",intToChar=new Uint8Array(64),charToInt=new Uint8Array(128);for(let e=0;e<chars.length;e++){const t=chars.charCodeAt(e);intToChar[e]=t,charToInt[t]=e}!function(e){e[e.Empty=1]="Empty",e[e.Hash=2]="Hash",e[e.Query=3]="Query",e[e.RelativePath=4]="RelativePath",e[e.AbsolutePath=5]="AbsolutePath",e[e.SchemeRelative=6]="SchemeRelative",e[e.Absolute=7]="Absolute"}(UrlType||(UrlType={}));var _DRIVE_LETTER_START_RE2=/^[A-Za-z]:\//;function normalizeWindowsPath2(e=""){return e?e.replace(/\\/g,"/").replace(_DRIVE_LETTER_START_RE2,e=>e.toUpperCase()):e}var _IS_ABSOLUTE_RE2=/^[/\\](?![/\\])|^[/\\]{2}(?!\.)|^[A-Za-z]:[/\\]/;function cwd(){return"undefined"!=typeof process&&"function"==typeof process.cwd?process.cwd().replace(/\\/g,"/"):"/"}var resolve=function(...e){let t="",r=!1;for(let n=(e=e.map(e=>normalizeWindowsPath2(e))).length-1;n>=-1&&!r;n--){const o=n>=0?e[n]:cwd();o&&0!==o.length&&(t=`${o}/${t}`,r=isAbsolute2(o))}return t=normalizeString2(t,!r),r&&!isAbsolute2(t)?`/${t}`:t.length>0?t:"."};function normalizeString2(e,t){let r="",n=0,o=-1,i=0,s=null;for(let a=0;a<=e.length;++a){if(a<e.length)s=e[a];else{if("/"===s)break;s="/"}if("/"===s){if(o===a-1||1===i);else if(2===i){if(r.length<2||2!==n||"."!==r[r.length-1]||"."!==r[r.length-2]){if(r.length>2){const e=r.lastIndexOf("/");-1===e?(r="",n=0):(r=r.slice(0,e),n=r.length-1-r.lastIndexOf("/")),o=a,i=0;continue}if(r.length>0){r="",n=0,o=a,i=0;continue}}t&&(r+=r.length>0?"/..":"..",n=2)}else r.length>0?r+=`/${e.slice(o+1,a)}`:r=e.slice(o+1,a),n=a-o-1;o=a,i=0}else"."===s&&-1!==i?++i:i=-1}return r}var isAbsolute2=function(e){return _IS_ABSOLUTE_RE2.test(e)},CHROME_IE_STACK_REGEXP=/^\s*at .*(?:\S:\d+|\(native\))/m,SAFARI_NATIVE_CODE_REGEXP=/^(?:eval@)?(?:\[native code\])?$/;function extractLocation(e){if(!e.includes(":"))return[e];const t=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(e.replace(/^\(|\)$/g,""));if(!t)return[e];let r=t[1];if(r.startsWith("async ")&&(r=r.slice(6)),r.startsWith("http:")||r.startsWith("https:")){const e=new URL(r);e.searchParams.delete("import"),e.searchParams.delete("browserv"),r=e.pathname+e.hash+e.search}if(r.startsWith("/@fs/")){const e=/^\/@fs\/[a-zA-Z]:\//.test(r);r=r.slice(e?5:4)}return[r,t[2]||void 0,t[3]||void 0]}function parseSingleFFOrSafariStack(e){let t=e.trim();if(SAFARI_NATIVE_CODE_REGEXP.test(t))return null;if(t.includes(" > eval")&&(t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),!t.includes("@")&&!t.includes(":"))return null;const r=/((.*".+"[^@]*)?[^@]*)(@)/,n=t.match(r),o=n&&n[1]?n[1]:void 0,[i,s,a]=extractLocation(t.replace(r,""));return i&&s&&a?{file:i,method:o||"",line:Number.parseInt(s),column:Number.parseInt(a)}:null}function parseSingleStack(e){const t=e.trim();return CHROME_IE_STACK_REGEXP.test(t)?parseSingleV8Stack(t):parseSingleFFOrSafariStack(t)}function parseSingleV8Stack(e){let t=e.trim();if(!CHROME_IE_STACK_REGEXP.test(t))return null;t.includes("(eval ")&&(t=t.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(,.*$)/g,""));let r=t.replace(/^\s+/,"").replace(/\(eval code/g,"(").replace(/^.*?\s+/,"");const n=r.match(/ (\(.+\)$)/);r=n?r.replace(n[0],""):r;const[o,i,s]=extractLocation(n?n[1]:r);let a=n&&r||"",c=o&&["eval","<anonymous>"].includes(o)?void 0:o;return c&&i&&s?(a.startsWith("async ")&&(a=a.slice(6)),c.startsWith("file://")&&(c=c.slice(7)),c=c.startsWith("node:")||c.startsWith("internal:")?c:resolve(c),a&&(a=a.replace(/__vite_ssr_import_\d+__\./g,"")),{method:a,file:c,line:Number.parseInt(i),column:Number.parseInt(s)}):null}function createCompilerHints(e){const t=(null==e?void 0:e.globalThisKey)||"__vitest_mocker__";function r(){return void 0!==globalThis[t]?globalThis[t]:new Proxy({},{get(e,t){throw new Error(`Vitest mocker was not initialized in this environment. vi.${String(t)}() is forbidden.`)}})}return{hoisted(e){if("function"!=typeof e)throw new TypeError("vi.hoisted() expects a function, but received a "+typeof e);return e()},mock(e,t){if("string"!=typeof e)throw new TypeError("vi.mock() expects a string path, but received a "+typeof e);const n=getImporter("mock");r().queueMock(e,n,"function"==typeof t?()=>t(()=>r().importActual(e,n)):t)},unmock(e){if("string"!=typeof e)throw new TypeError("vi.unmock() expects a string path, but received a "+typeof e);r().queueUnmock(e,getImporter("unmock"))},doMock(e,t){if("string"!=typeof e)throw new TypeError("vi.doMock() expects a string path, but received a "+typeof e);const n=getImporter("doMock");r().queueMock(e,n,"function"==typeof t?()=>t(()=>r().importActual(e,n)):t)},doUnmock(e){if("string"!=typeof e)throw new TypeError("vi.doUnmock() expects a string path, but received a "+typeof e);r().queueUnmock(e,getImporter("doUnmock"))},importActual:async e=>r().importActual(e,getImporter("importActual")),importMock:async e=>r().importMock(e,getImporter("importMock"))}}function getImporter(e){const t=createSimpleStackTrace({stackTraceLimit:5}).split("\n"),r=t.findIndex(t=>t.includes(` at Object.${e}`)||t.includes(`${e}@`)),n=parseSingleStack(t[r+1]);return(null==n?void 0:n.file)||""}var hot=import.meta.hot||{on:warn,off:warn,send:warn};function warn(){console.warn("Vitest mocker cannot work if Vite didn't establish WS connection.")}var{now}=Date,ModuleMocker=class{constructor(e,t,r,n){__publicField(this,"registry",new MockerRegistry),__publicField(this,"queue",new Set),__publicField(this,"mockedIds",new Set),this.interceptor=e,this.rpc=t,this.spyOn=r,this.config=n}async prepare(){this.queue.size&&await Promise.all([...this.queue.values()])}async resolveFactoryModule(e){const t=this.registry.get(e);if(!t||"manual"!==t.type)throw new Error(`Mock ${e} wasn't registered. This is probably a Vitest error. Please, open a new issue with reproduction.`);return await t.resolve()}getFactoryModule(e){const t=this.registry.get(e);if(!t||"manual"!==t.type)throw new Error(`Mock ${e} wasn't registered. This is probably a Vitest error. Please, open a new issue with reproduction.`);if(!t.cache)throw new Error(`Mock ${e} wasn't resolved. This is probably a Vitest error. Please, open a new issue with reproduction.`);return t.cache}async invalidate(){const e=Array.from(this.mockedIds);e.length&&(await this.rpc.invalidate(e),await this.interceptor.invalidate(),this.registry.clear())}async importActual(e,t){const r=await this.rpc.resolveId(e,t);if(null==r)throw new Error(`[vitest] Cannot resolve "${e}" imported from "${t}"`);const n=extname(r.id),o=new URL(r.url,location.href),i=`_vitest_original&ext${n}`,s=`${o.pathname}${o.search?`${o.search}&${i}`:`?${i}`}${o.hash}`;return this.wrapDynamicImport(()=>import(s)).then(e=>{if(!r.optimized||void 0===e.default)return e;const t=e.default;return(null==t?void 0:t.__esModule)?t:{..."object"==typeof t&&!Array.isArray(t)||"function"==typeof t?t:{},default:t}})}async importMock(e,t){await this.prepare();const{resolvedId:r,resolvedUrl:n,redirectUrl:o}=await this.rpc.resolveMock(e,t,{mock:"auto"}),i=this.resolveMockPath(cleanVersion(n));let s=this.registry.get(i);if(!s)if(o){const t=new URL(this.resolveMockPath(cleanVersion(o)),location.href).toString();s=new RedirectedModule(e,r,i,t)}else s=new AutomockedModule(e,r,i);if("manual"===s.type)return await s.resolve();if("automock"===s.type||"autospy"===s.type){const e=new URL(`/@id/${r}`,location.href),t=e.search?`${e.search}&t=${now()}`:`?t=${now()}`,n=await import(`${e.pathname}${t}&mock=${s.type}${e.hash}`);return this.mockObject(n,s.type)}return import(s.redirect)}mockObject(e,t="automock"){return mockObject({globalConstructors:{Object,Function,Array,Map,RegExp},spyOn:this.spyOn,type:t},e)}queueMock(e,t,r){const n=this.rpc.resolveMock(e,t,{mock:"function"==typeof r?"factory":(null==r?void 0:r.spy)?"spy":"auto"}).then(async({redirectUrl:t,resolvedId:n,resolvedUrl:o,needsInterop:i,mockType:s})=>{const a=this.resolveMockPath(cleanVersion(o));this.mockedIds.add(n);const c="function"==typeof r?async()=>{const e=await r();return i?{default:e}:e}:void 0,l="string"==typeof t?new URL(this.resolveMockPath(cleanVersion(t)),location.href).toString():null;let u;u="manual"===s?this.registry.register("manual",e,n,a,c):"autospy"===s?this.registry.register("autospy",e,n,a):"redirect"===s?this.registry.register("redirect",e,n,a,l):this.registry.register("automock",e,n,a),await this.interceptor.register(u)}).finally(()=>{this.queue.delete(n)});this.queue.add(n)}queueUnmock(e,t){const r=this.rpc.resolveId(e,t).then(async e=>{if(!e)return;const t=this.resolveMockPath(cleanVersion(e.url));this.mockedIds.add(e.id),this.registry.delete(t),await this.interceptor.delete(t)}).finally(()=>{this.queue.delete(r)});this.queue.add(r)}wrapDynamicImport(e){return"function"==typeof e?new Promise((t,r)=>{this.prepare().finally(()=>{e().then(t,r)})}):e}resolveMockPath(e){const t=this.config,r=join("/@fs/",t.root);return e.startsWith(t.root)?e.slice(t.root.length):e.startsWith(r)?e.slice(r.length):e}},versionRegexp=/(\?|&)v=\w{8}/;function cleanVersion(e){return e.replace(versionRegexp,"")}var ModuleMockerInterceptor=class{constructor(){__publicField(this,"mocks",new MockerRegistry)}async register(e){this.mocks.add(e)}async delete(e){this.mocks.delete(e)}async invalidate(){this.mocks.clear()}},rpc=e=>{switch(e){case"resolveId":return Promise.resolve({id:"",url:"",optimized:!1});case"resolveMock":return Promise.resolve({mockType:"dummy",resolvedId:"",resolvedUrl:"",redirectUrl:"",needsInterop:!1});case"invalidate":return Promise.resolve()}},BuildModuleMocker=class extends ModuleMocker{queueMock(){}};function registerModuleMocker(e){const t=new BuildModuleMocker(e("__vitest_mocker__"),{resolveId:(e,t)=>rpc("resolveId",{id:e,importer:t}),resolveMock:(e,t,r)=>rpc("resolveMock",{id:e,importer:t,options:r}),invalidate:async e=>rpc("invalidate",{ids:e})},(...e)=>globalThis.__STORYBOOK_MODULE_TEST__.spyOn(...e),{root:""});return globalThis.__vitest_mocker__=t,createCompilerHints({globalThisKey:"__vitest_mocker__"})}globalThis.__STORYBOOK_MOCKER__=registerModuleMocker(()=>new ModuleMockerInterceptor);export{ModuleMockerInterceptor};