import{a as ft}from"./argTableProps-CmpiMRtL.js";import{m as G,l as yt}from"./runtime-CNluP0A8.js";import{i as pt,E as vt,x as $}from"./lit-element-Bx14lxc-.js";import{n as _}from"./Reflect-DJ7r0WLU.js";import{a as mt}from"./query-p8xgzTDt.js";import{e as bt}from"./class-map-CXsQwv0r.js";import{o as I}from"./if-defined-CVqwUuaf.js";import{n as wt}from"./when-BR7zwNJC.js";import{h as W,G as kt,g as _t}from"./gds-element-DTROifYq.js";import{w as xt}from"./watch-tFciLXSI.js";import{G as Et,b as Ct}from"./tokens.style-gnTMHtP9.js";import{w as St,a as Dt,c as Tt}from"./declarative-layout-mixins-DFPXvh_g.js";import{G as $t}from"./button.component-C5CaUO2I.js";import{G as Pt}from"./card.component-BBsJviA7.js";import{G as Ot}from"./div.component-CVj4Yxt_.js";import{G as Gt}from"./flex.component-IB3lNnTs.js";import{I as It}from"./zoom-out-Bp7aIJTF.js";import"./option-B3aJkOZ6.js";import"./menu-heading-CIcqLcZP.js";import"./menu-item-Ch7EcUSV.js";import"./alert-D_nZkmxI.js";import"./badge-CpCKuF89.js";import"./blur-Bdup_a1l.js";import"./breadcrumb-3H3TpPx5.js";import"./button-DOHLdRyc.js";import"./card-CQocpeU8.js";import"./checkbox-group-DHu9qfTH.js";import"./coachmark-DzWF7mHa.js";import"./datepicker-BS2SrJIA.js";import"./div-CMzifJOl.js";import"./divider-D0vjiG3H.js";import"./signal-DRatya9o.js";import"./filter-chip-CB1-MZcU.js";import"./flex-DpgkNhFc.js";import"./summary-BKWlfNy2.js";import"./grid-wwMyq75s.js";import"./list-item-Drl9jb9k.js";import"./icon-CubxJaVo.js";import"./arrow-down-n9STosHf.js";import"./arrow-left-DKC7Wr0c.js";import"./arrow-right-BWU5MfKU.js";import"./triangle-exclamation-DhmfzYJi.js";import"./arrow-up-tpihonen.js";import"./sun-BMl0dpaU.js";import"./star-19cWasFj.js";import"./bubbles-CTWnhjFW.js";import"./chain-link-CJzO7fcZ.js";import"./chevron-bottom-CVQQZNum.js";import"./folder-d3dhq1ua.js";import"./chevron-top-DW_l5s4G.js";import"./circle-check-Bxb3VpTb.js";import"./circles-three-Dt-oXOZu.js";import"./credit-card-Cvm5GYKO.js";import"./cross-small-BkVhwtJb.js";import"./dot-grid-one-horizontal-8cNnHUBU.js";import"./magnifying-glass-ByFAwR2D.js";import"./minus-small-D6H3Mqkm.js";import"./people-profile-CF3NV9vr.js";import"./push-CPYHR0hB.js";import"./rocket-BIultrNW.js";import"./square-grid-circle-DwtFZ0cT.js";import"./img-C62blB8B.js";import"./input-D_CNAcCW.js";import"./link-CAFMrIs7.js";import"./mask-BTClbYdf.js";import"./menu-button-DDszle_y.js";import"./popover-Ba24uu37.js";import"./backdrop-no-Dw6HI.js";import"./radio-group-BjKoLD2g.js";import"./rich-text-DLWdLk-O.js";import"./segment-BuwjUR58.js";import"./select--8GJQJTj.js";import"./spinner-CavpkwNd.js";import"./text-DSBNTzJS.js";import"./textarea-DMRNfxIy.js";import"./theme-BumCctTn.js";import"./video-Co8D2HuZ.js";import"./custom-elements-erMFkGWW.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./directive-CF8sV3Lr.js";import"./static-B8S6DEnV.js";import"./transitional-styles-B_v43Yvb.js";import"./observe-light-dom-CmJPHUQ4.js";import"./calender-add.component-Bt1Vs4uc.js";import"./checkmark.component-B7hRMggT.js";import"./chevron-right.component-C80aEOgH.js";import"./dropdown.component-SLi4S1nX.js";import"./query-async-MEroNOeJ.js";import"./unsafe-html-CYO4avEf.js";import"./floating-ui.dom-BmFOYU71.js";import"./form-control-host.style-DGE_a_-W.js";import"./form-control-header.component-64DrRpBD.js";import"./badge.component-BtzermrT.js";import"./triangle-exclamation.component-C8Gk-zE_.js";import"./ref-R0wBYijq.js";import"./directive-helpers-BF33kFuJ.js";import"./unwrap-slots-CufDiWNZ.js";import"./rbcb-toggle.template-DqXF-ZkM.js";import"./chevron-bottom.component-BZPLYkGh.js";import"./cross-small.component-6yzV7LxC.js";import"./popover.component-CQJ6aaw5.js";import"./circle-check.component-A5owTrkf.js";import"./blur.component-BGBTarqF.js";import"./toggle-control-base.component-hdeaqhfZ.js";import"./minus-small.component-BC0x_f5N.js";import"./attribute-converters-CdI0trPX.js";import"./calendar.component-D2YdJySy.js";import"./resize-observer-B9k8v2TZ.js";import"./arrow-up.component-B0V4hav4.js";import"./textarea.component-6ZdeFRU0.js";import"./default-typography.styles-DG7u6j1x.js";const Wt=pt`
  @layer base, reset, transitional-styles;
  @layer base {
    :host {
      display: contents;

      --_margin: var(--gds-sys-space-l);
    }

    dialog {
      transition: transform var(--gds-sys-motion-duration-fast)
        cubic-bezier(var(--gds-sys-motion-easing-ease-out));
      background: transparent;
      padding: 0;
      border-width: 0;
      overflow: visible;
      max-width: calc(100vw - var(--_margin));
      max-height: 100vh;
      display: flex;
      width: 400px;

      @starting-style {
        opacity: 0;
        transform: translateY(-16px);
        &::backdrop {
          opacity: 0;
        }
      }

      &::backdrop {
        transition: all var(--gds-sys-motion-duration-fast)
          cubic-bezier(var(--gds-sys-motion-easing-ease-out));
        background: rgba(100, 100, 100, 0.4);
      }
    }

    dialog > * {
      flex-grow: 1;
    }

    dialog.default.placement-initial {
      margin: auto;
      --_margin: 0px;
    }

    dialog.default.placement-top {
      margin: var(--gds-sys-space-l) auto auto;
    }

    dialog.default.placement-bottom {
      margin: auto auto var(--gds-sys-space-l) auto;
    }

    dialog.default.placement-left {
      margin: auto var(--gds-sys-space-l) auto auto;
    }
    dialog.default.placement-right {
      margin: auto auto auto var(--gds-sys-space-l);
    }

    dialog.slide-out {
      --_in: var(--gds-sys-space-m);
      --_margin: var(--gds-sys-space-l);

      height: auto;

      &.placement-initial,
      &.placement-right {
        inset: var(--_in);

        @media (min-width: 648px) {
          --_in: var(--gds-sys-space-l);
          inset: var(--_in) var(--_in) var(--_in) auto;
        }

        @starting-style {
          transform: translateX(var(--gds-sys-space-6xl));
        }
      }

      &.placement-left {
        @starting-style {
          transform: translateX(calc(-1 * var(--gds-sys-space-6xl)));
        }
        inset: var(--_in);

        @media (min-width: 648px) {
          --_in: var(--gds-sys-space-l);
          inset: var(--_in) auto var(--_in) var(--_in);
        }
      }

      &.placement-top {
        @starting-style {
          transform: translateY(calc(-1 * var(--gds-sys-space-6xl)));
        }
        inset: var(--_in) var(--_in) auto var(--_in);
      }

      &.placement-bottom {
        @starting-style {
          transform: translateY(calc(var(--gds-sys-space-6xl)));
        }
        inset: auto var(--_in) var(--_in) var(--_in);
      }
    }

    dialog:focus {
      outline: none;
    }

    .card {
      flex-direction: column;
    }

    slot[name='footer'] > *,
    slot[name='footer']::slotted(*) {
      flex: 1;
    }

    h2 {
      margin: 0;
      padding: 0;
      font: var(--gds-sys-text-heading-s);
      margin-block-start: var(--gds-sys-space-4xs);
    }
  }
`,C=new Set;function Bt(){Et.instance.injectGlobalStyles("dialog-scroll-lock",pt`
      .gds-scroll-lock body {
        padding-right: var(--gds-scroll-lock-size) !important;
        overflow: hidden !important;
      }
    `)}function zt(t){if(C.add(t),!document.documentElement.classList.contains("gds-scroll-lock")){const e=Mt()+Yt();let o=getComputedStyle(document.documentElement).scrollbarGutter;(!o||o==="auto")&&(o="stable"),e<2&&(o=""),document.documentElement.style.setProperty("--gds-scroll-lock-gutter",o),document.documentElement.classList.add("gds-scroll-lock"),document.documentElement.style.setProperty("--gds-scroll-lock-size",`${e}px`)}}function B(t){C.delete(t),C.size===0&&(document.documentElement.classList.remove("gds-scroll-lock"),document.documentElement.style.removeProperty("--gds-scroll-lock-size"))}function Mt(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}function Yt(){const t=Number(getComputedStyle(document.body).paddingRight.replace(/px/,""));return isNaN(t)||!t?0:t}var Lt=Object.defineProperty,At=Object.getOwnPropertyDescriptor,ht=t=>{throw TypeError(t)},r=(t,e,o,c)=>{for(var s=c>1?void 0:c?At(e,o):e,p=t.length-1,g;p>=0;p--)(g=t[p])&&(s=(c?g(e,o,s):g(s))||s);return c&&s&&Lt(e,o,s),s},P=(t,e,o)=>e.has(t)||ht("Cannot "+o),a=(t,e,o)=>(P(t,e,"read from private field"),o?o.call(t):e.get(t)),n=(t,e,o)=>e.has(t)?ht("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,o),m=(t,e,o,c)=>(P(t,e,"write to private field"),e.set(t,o),o),Nt=(t,e,o)=>(P(t,e,"access private method"),o),d,w,S,x,D,E,T,ut,O,k;Bt();let i=class extends St(Dt(Tt(kt))){constructor(){super(...arguments),n(this,T),this.open=!1,this.variant="default",this.placement="initial",this.scrollable=!1,n(this,d),n(this,w,!1),n(this,S,t=>{let o=t.target.returnValue;if(o!=="prop-change"){if(o=o||"native-close",!a(this,x).call(this,o))return;this.close(o);return}this.close(o)}),n(this,x,t=>a(this,E).call(this,t)?(this.dispatchCustomEvent("gds-close",{detail:t}),!0):!1),n(this,D,t=>a(this,E).call(this,t)?(this.dispatchCustomEvent("gds-show",{detail:t}),!0):!1),n(this,E,t=>this.dispatchCustomEvent("gds-ui-state",{detail:{reason:t,open:this.open}})),n(this,O,t=>{this.show("slotted-trigger")}),n(this,k,t=>{const e=t,o=this._elDialog;if((e.clientX>0||e.clientY>0)&&e.target===this&&o&&this.open){const s=o.getBoundingClientRect(),p=s.top<=e.clientY&&e.clientY<=s.top+s.height&&s.left<=e.clientX&&e.clientX<=s.left+s.width,g="click-outside";!p&&!a(this,w)&&a(this,x).call(this,g)&&this.close(g)}m(this,w,!1)})}show(t){this.open=!0,t&&a(this,D).call(this,t)}close(t){m(this,d,t),this.open=!1}disconnectedCallback(){super.disconnectedCallback(),B(this)}render(){return W`<slot
        name="trigger"
        @slotchange=${Nt(this,T,ut)}
      ></slot>
      ${wt(this.open,()=>W`<dialog
            closedby="closerequest"
            @close=${a(this,S)}
            class=${bt({[this.variant]:!0,[`placement-${this.placement}`]:!0})}
            aria-label=${I(this.heading)}
          >
            <gds-card
              class="card"
              padding="xl"
              variant="secondary"
              box-shadow="xl"
              border-radius="m"
              max-width="100%"
              border-width="0"
              @mousedown=${()=>m(this,w,!0)}
            >
              <slot name="dialog">
                <gds-flex justify-content="space-between">
                  <h2 id="heading">${this.heading}</h2>
                  <gds-button
                    id="close-btn"
                    rank="tertiary"
                    size="small"
                    label=${G("Close")}
                    @click=${()=>this.close("btn-close")}
                  >
                    <gds-icon-cross-large
                      size="m"
                      stroke="2"
                    ></gds-icon-cross-large>
                  </gds-button>
                </gds-flex>
                <gds-div
                  id="content"
                  flex="1"
                  overflow=${I(this.scrollable)?"auto":vt}
                >
                  <slot></slot>
                </gds-div>
                <gds-flex
                  class="footer"
                  justify-content="center"
                  gap="s"
                  padding="s 0 0 0"
                  flex-wrap="wrap"
                >
                  <slot name="footer">
                    <gds-button
                      value="cancel"
                      @click=${()=>this.close("btn-cancel")}
                      rank="secondary"
                      >${G("Cancel")}</gds-button
                    >
                    <gds-button value="ok" @click=${()=>this.close("btn-ok")}>
                      Ok
                    </gds-button>
                  </slot>
                </gds-flex>
              </slot>
            </gds-card>
          </dialog>`)}`}_handleOpenChange(){var t;this.open?(m(this,d,void 0),this.updateComplete.then(()=>{var e,o;(e=this._elDialog)==null||e.showModal(),zt(this),this.removeEventListener("click",a(this,k)),requestAnimationFrame(()=>this.addEventListener("click",a(this,k))),Ct&&((o=this._elDialog)==null||o.focus())})):(m(this,d,a(this,d)||"prop-change"),(t=this._elDialog)==null||t.close(a(this,d)),B(this),document.removeEventListener("click",a(this,k)),this.requestUpdate("open"))}};d=new WeakMap;w=new WeakMap;S=new WeakMap;x=new WeakMap;D=new WeakMap;E=new WeakMap;T=new WeakSet;ut=function(){if(this._elTriggerSlot&&this._elTriggerSlot.assignedElements()[0]){const t=this._elTriggerSlot.assignedElements()[0];t==null||t.addEventListener("click",a(this,O)),t==null||t.setAttribute("aria-haspopup","dialog")}};O=new WeakMap;k=new WeakMap;i.styles=[Wt];i.styleExpressionBaseSelector="dialog";r([_({type:Boolean,reflect:!0})],i.prototype,"open",2);r([_()],i.prototype,"heading",2);r([_()],i.prototype,"variant",2);r([_()],i.prototype,"placement",2);r([_({type:Boolean})],i.prototype,"scrollable",2);r([mt("dialog")],i.prototype,"_elDialog",2);r([mt('slot[name="trigger"]')],i.prototype,"_elTriggerSlot",2);r([xt("open")],i.prototype,"_handleOpenChange",1);i=r([_t("gds-dialog",{dependsOn:[$t,Pt,Ot,Gt,It]}),yt()],i);i.define();const Ko={title:"Components/Dialog",component:"gds-dialog",tags:["autodocs"],argTypes:{...ft("gds-dialog")},parameters:{layout:"centered",docs:{description:{component:"A dialog appears in front of content to provide critical information or ask for a decision."}}}},l={parameters:{docs:{source:{format:!0,type:"dynamic"}},controls:{expanded:!0}},args:{heading:"Dialog heading",innerHTML:`<gds-button slot="trigger">Open Dialog</gds-button>
    <gds-rich-text>
      <p>You can add any content here, including other components. It's a good idea to wrap the content in <code>gds-rich-text</code> to get the correct typography styles.</p>

      <p>You can also add buttons to the footer of the dialog by using the <code>slot="footer"</code> attribute on the button.</p>

      <p>The dialog will automatically close when the user clicks outside of it or presses the Escape key.</p>

      <p>You can also close the dialog programmatically by calling the close() method on the dialog element.</p>

      <p>A <code>gds-close</code> event is emitted when it is closed, which you can listen to if you want to perform some action when the dialog is closed.</p>
    </gds-rich-text>
    `,variant:"default",placement:"initial"}},h={...l},u={...l,args:{...l.args,variant:"slide-out"}},f={...l,args:{...l.args,height:"400px",scrollable:!0}},y={...l,render:()=>$`<gds-button
        aria-haspopup="dialog"
        onclick="document.getElementById('my-dialog').show()"
        >Open dialog</gds-button
      >
      <gds-dialog heading="Dialog heading" id="my-dialog">
        This is the content of the dialog.
        <gds-button
          slot="footer"
          onclick="document.getElementById('my-dialog').close('custom close')"
          >Custom close button</gds-button
        >
      </gds-dialog>`},v={...l,render:()=>$`<gds-dialog
      @gds-close=${console.log}
      @gds-show=${console.log}
      @gds-ui-state=${console.log}
      heading="Dialog heading"
      id="my-dialog-events"
    >
      <gds-button slot="trigger">Open dialog</gds-button>
      This is the content of the dialog.
      <gds-button rank="secondary" slot="footer">Custom btn</gds-button>
      <gds-button
        slot="footer"
        onclick="document.getElementById('my-dialog-events').close('custom close')"
        >Custom btn 2</gds-button
      >
    </gds-dialog>`},b={...l,render:()=>$`<gds-dialog
      @gds-close=${console.log}
      @gds-show=${console.log}
      @gds-ui-state=${console.log}
      heading="Dialog heading"
      id="my-dialog-events"
    >
      <gds-button slot="trigger">Open dialog</gds-button>
      This is the content of the dialog.
      <div slot="dialog">
        If you put stuff here, you can customize the entire dialog, including
        header and footer.
      </div>
    </gds-dialog>`};var z,M,Y,L,A;h.parameters={...h.parameters,docs:{...(z=h.parameters)==null?void 0:z.docs,source:{originalSource:`{
  ...DefaultParams
}`,...(Y=(M=h.parameters)==null?void 0:M.docs)==null?void 0:Y.source},description:{story:`The easiest way to set up a dialog is to put a button in the trigger slot. This will
automatically open the dialog when the button is clicked.`,...(A=(L=h.parameters)==null?void 0:L.docs)==null?void 0:A.description}}};var N,X,R,q,F;u.parameters={...u.parameters,docs:{...(N=u.parameters)==null?void 0:N.docs,source:{originalSource:`{
  ...DefaultParams,
  args: {
    ...DefaultParams.args,
    variant: 'slide-out'
  }
}`,...(R=(X=u.parameters)==null?void 0:X.docs)==null?void 0:R.source},description:{story:"You can set the `variant` attribute to `slide-out` to make the dialog slide in from the right.",...(F=(q=u.parameters)==null?void 0:q.docs)==null?void 0:F.description}}};var K,V,H,U,j;f.parameters={...f.parameters,docs:{...(K=f.parameters)==null?void 0:K.docs,source:{originalSource:`{
  ...DefaultParams,
  args: {
    ...DefaultParams.args,
    height: '400px',
    scrollable: true
  }
}`,...(H=(V=f.parameters)==null?void 0:V.docs)==null?void 0:H.source},description:{story:"To enable scroll for overflowing content, you can set the `scrollable` property to `true`.\n\nThis only has an effect of the default content slot.",...(j=(U=f.parameters)==null?void 0:U.docs)==null?void 0:j.description}}};var J,Q,Z,tt,et;y.parameters={...y.parameters,docs:{...(J=y.parameters)==null?void 0:J.docs,source:{originalSource:`{
  ...DefaultParams,
  render: () => html\`<gds-button
        aria-haspopup="dialog"
        onclick="document.getElementById('my-dialog').show()"
        >Open dialog</gds-button
      >
      <gds-dialog heading="Dialog heading" id="my-dialog">
        This is the content of the dialog.
        <gds-button
          slot="footer"
          onclick="document.getElementById('my-dialog').close('custom close')"
          >Custom close button</gds-button
        >
      </gds-dialog>\`
}`,...(Z=(Q=y.parameters)==null?void 0:Q.docs)==null?void 0:Z.source},description:{story:'You can also open and close the dialog programmatically by calling the `show()` and `close()` methods.\nIn this case you should add `aria-haspopup="dialog"` to the trigger element. Slotted triggers will get\nthis attribute automatically.\n\nInside the dialog, you can use the `slot="footer"` to add buttons to the footer of the dialog.',...(et=(tt=y.parameters)==null?void 0:tt.docs)==null?void 0:et.description}}};var ot,st,at,it,nt;v.parameters={...v.parameters,docs:{...(ot=v.parameters)==null?void 0:ot.docs,source:{originalSource:`{
  ...DefaultParams,
  render: () => html\`<gds-dialog
      @gds-close=\${console.log}
      @gds-show=\${console.log}
      @gds-ui-state=\${console.log}
      heading="Dialog heading"
      id="my-dialog-events"
    >
      <gds-button slot="trigger">Open dialog</gds-button>
      This is the content of the dialog.
      <gds-button rank="secondary" slot="footer">Custom btn</gds-button>
      <gds-button
        slot="footer"
        onclick="document.getElementById('my-dialog-events').close('custom close')"
        >Custom btn 2</gds-button
      >
    </gds-dialog>\`
}`,...(at=(st=v.parameters)==null?void 0:st.docs)==null?void 0:at.source},description:{story:"You can listen to the `gds-show`, `gds-close` and `gds-ui-state` events to know when the dialog is opened or closed.\n\nWhen `close()` or `show()` is called without a parameter, the event will not be emitted. If a parameter is passed, the\nevent will be emitted with the parameter as the event detail. Also when any of the built-in methods are used to open or\nclose the dialog, the event will be emitted with the parameter as the event detail.\n\nAll the emitted events will have a `detail` object with a reason property that can be used to determine the reason for the event.\n\nPossible reasons are:\n- `btn-close`: The dialog was closed by the user clicking the close button.\n- `btn-cancel`: The dialog was closed by the user clicking the default cancel button.\n- `btn-ok`: The dialog was closed by the user clicking the default OK button.\n- `native-close`: The dialog was closed by an action native to the HTML dialog element, such as pressing the Escape key.\n- `click-outside`: The dialog was closed by the user clicking outside the dialog.\n- `slotted-trigger`: The dialog was opened by the user clicking the slotted trigger button.\n\nThe reason can also be a custom string supplied when calling the `close()` or `show()` methods.\n\n### Preventing close\nThe `gds-ui-state` event can be cancelled by calling `preventDefault()` on the event to prevent the dialog from closing. Presently, only the `gds-ui-state` event can be cancelled in this way.",...(nt=(it=v.parameters)==null?void 0:it.docs)==null?void 0:nt.description}}};var rt,lt,dt,ct,gt;b.parameters={...b.parameters,docs:{...(rt=b.parameters)==null?void 0:rt.docs,source:{originalSource:`{
  ...DefaultParams,
  render: () => html\`<gds-dialog
      @gds-close=\${console.log}
      @gds-show=\${console.log}
      @gds-ui-state=\${console.log}
      heading="Dialog heading"
      id="my-dialog-events"
    >
      <gds-button slot="trigger">Open dialog</gds-button>
      This is the content of the dialog.
      <div slot="dialog">
        If you put stuff here, you can customize the entire dialog, including
        header and footer.
      </div>
    </gds-dialog>\`
}`,...(dt=(lt=b.parameters)==null?void 0:lt.docs)==null?void 0:dt.source},description:{story:`You can customize the dialog completely by putting content in the \`dialog\` slot.
This will replace the default content of the dialog, including the header and footer.

When this slot is used, the footer slot will not be rendered, so you need to add a custom footer manually.

**Important:** Make sure to still use the \`heading\` property, as it is used to give the dialog an accessible name.`,...(gt=(ct=b.parameters)==null?void 0:ct.docs)==null?void 0:gt.description}}};const Vo=["Default","SlideOut","Scrollable","CustomButtons","Events","CustomDialog"];export{y as CustomButtons,b as CustomDialog,h as Default,v as Events,f as Scrollable,u as SlideOut,Vo as __namedExportsOrder,Ko as default};
