"use strict";(self.webpackChunkgreen=self.webpackChunkgreen||[]).push([[3635],{"./libs/angular/src/v-angular/dropdown/typeahead/typeahead.directive.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{d:()=>NggvTypeaheadDirective});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),Subject=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Subject.js"),takeUntil=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/takeUntil.js"),distinctUntilChanged=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/distinctUntilChanged.js"),tap=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/tap.js"),from=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/from.js"),lift=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/lift.js"),OperatorSubscriber=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/OperatorSubscriber.js"),innerFrom=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/innerFrom.js"),identity=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/identity.js"),noop=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/noop.js"),args=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/args.js");var input=__webpack_require__("./libs/angular/src/v-angular/input/index.ts"),dropdown_component=__webpack_require__("./libs/angular/src/v-angular/dropdown/dropdown.component.ts"),typeahead_dropdown_list_component=__webpack_require__("./libs/angular/src/v-angular/dropdown/typeahead/typeahead-dropdown-list/typeahead-dropdown-list.component.ts"),typeahead_input_component=__webpack_require__("./libs/angular/src/v-angular/dropdown/typeahead/typeahead-input/typeahead-input.component.ts");let NggvTypeaheadDirective=class NggvTypeaheadDirective{set nggvTypeahead(value){this.typeaheadFunction=value,this.inputSubscription$&&(this.inputSubscription$?.unsubscribe(),this.inputSubscription$=void 0,this.handleInputChanges())}onNggvInput(event){this.inputValue$.next(event)}get hostIsDropdown(){return!!this.hostDropdown}get defaultNullishOption(){return{key:null,label:this.unselectLabel||"Â "}}get emptyOption(){return{key:null,label:this.emptyOptionLabel||"label.nomatchingoptions",disabled:!0}}get localName(){return this.element.nativeElement.localName}constructor(viewContainerRef,element,hostDropdown,hostInput){this.viewContainerRef=viewContainerRef,this.element=element,this.hostDropdown=hostDropdown,this.hostInput=hostInput,this.allowUnselect=!0,this.filterPhraseChange=new core.EventEmitter,this.inputValue$=new Subject.B,this.onDestroy$=new Subject.B}ngOnInit(){this.handleInputChanges(),this.hostIsDropdown?this.createInput():this.createDropdownList()}ngOnDestroy(){this.onDestroy$.next(!0),this.onDestroy$.complete()}handleInputChanges(){this.inputSubscription$=this.inputValue$.pipe((0,takeUntil.Q)(this.onDestroy$),(0,distinctUntilChanged.F)(),(0,tap.M)((inputValue=>this.filterPhraseChange.emit(inputValue))),this.typeaheadFunction?this.typeaheadFunction:()=>(0,from.H)([]),function withLatestFrom(){for(var inputs=[],_i=0;_i<arguments.length;_i++)inputs[_i]=arguments[_i];var project=(0,args.ms)(inputs);return(0,lift.N)((function(source,subscriber){for(var len=inputs.length,otherValues=new Array(len),hasValue=inputs.map((function(){return!1})),ready=!1,_loop_1=function(i){(0,innerFrom.Tg)(inputs[i]).subscribe((0,OperatorSubscriber._)(subscriber,(function(value){otherValues[i]=value,ready||hasValue[i]||(hasValue[i]=!0,(ready=hasValue.every(identity.D))&&(hasValue=null))}),noop.l))},i=0;i<len;i++)_loop_1(i);source.subscribe((0,OperatorSubscriber._)(subscriber,(function(value){if(ready){var values=(0,tslib_es6.fX)([value],(0,tslib_es6.zs)(otherValues));subscriber.next(project?project.apply(void 0,(0,tslib_es6.fX)([],(0,tslib_es6.zs)(values))):values)}})))}))}(this.inputValue$)).subscribe((([filteredValues,input])=>this.setOptions(filteredValues,input))),this.inputValue$.next("")}createInput(){this.inputComponent=this.viewContainerRef.createComponent(typeahead_input_component.x),this.inputComponent.setInput("hostComponent",this.hostDropdown),this.inputComponent.setInput("selectedFormatter",this.selectedFormatter),this.inputComponent.setInput("resultFormatter",this.resultFormatter),this.inputComponent.instance.nggvInput.pipe((0,takeUntil.Q)(this.onDestroy$)).subscribe((inputValue=>this.inputValue$.next(inputValue)))}createDropdownList(){this.dropdownListComponent=this.viewContainerRef.createComponent(typeahead_dropdown_list_component.o),this.dropdownListComponent.setInput("hostComponent",this.hostInput)}setOptions(filteredValues,input){if(!filteredValues)return;const allowNullish=this.allowUnselect&&!input&&!(Object.keys(filteredValues[0]??{}).includes("key")&&null==filteredValues[0]?.key);if(0===filteredValues.length?filteredValues=[this.emptyOption]:allowNullish&&(filteredValues=[this.defaultNullishOption].concat(filteredValues)),this.hostIsDropdown)return this.hostDropdown.allowControlNullishOption=!1,this.hostDropdown.options=this.formatOptions(filteredValues),this.hostDropdown.textToHighlight=`${input||""}`,this.hostDropdown.onlyHandleDistinctChanges=!1,this.hostDropdown.selectWithSpace=!1,void this.hostDropdown.detectChanges();this.hostIsDropdown||(this.dropdownListComponent.setInput("options",this.formatOptions(filteredValues)),this.dropdownListComponent.setInput("textToHighlight",`${input||""}`))}formatOptions(options){return options?this.resultFormatter?options.map((value=>value?.label?this.resultFormatter?.(value):value)):options:[]}static{this.ctorParameters=()=>[{type:core.ViewContainerRef},{type:core.ElementRef},{type:dropdown_component.r,decorators:[{type:core.Optional},{type:core.Host}]},{type:input.o,decorators:[{type:core.Optional},{type:core.Host}]}]}static{this.propDecorators={nggvTypeahead:[{type:core.Input}],resultFormatter:[{type:core.Input}],selectedFormatter:[{type:core.Input}],allowUnselect:[{type:core.Input}],unselectLabel:[{type:core.Input}],emptyOptionLabel:[{type:core.Input}],filterPhraseChange:[{type:core.Output}],onNggvInput:[{type:core.HostListener,args:["nggvInput",["$event"]]}]}}};NggvTypeaheadDirective=(0,tslib_es6.Cg)([(0,core.Directive)({selector:"nggv-input[nggvTypeahead], nggv-dropdown[nggvTypeahead]",standalone:!0}),(0,tslib_es6.Sn)("design:paramtypes",[core.ViewContainerRef,core.ElementRef,dropdown_component.r,input.o])],NggvTypeaheadDirective)},"./node_modules/rxjs/dist/esm5/internal/operators/debounceTime.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{B:()=>debounceTime});var _scheduler_async__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/scheduler/async.js"),_util_lift__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/lift.js"),_OperatorSubscriber__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/OperatorSubscriber.js");function debounceTime(dueTime,scheduler){return void 0===scheduler&&(scheduler=_scheduler_async__WEBPACK_IMPORTED_MODULE_0__.E),(0,_util_lift__WEBPACK_IMPORTED_MODULE_1__.N)((function(source,subscriber){var activeTask=null,lastValue=null,lastTime=null,emit=function(){if(activeTask){activeTask.unsubscribe(),activeTask=null;var value=lastValue;lastValue=null,subscriber.next(value)}};function emitWhenIdle(){var targetTime=lastTime+dueTime,now=scheduler.now();if(now<targetTime)return activeTask=this.schedule(void 0,targetTime-now),void subscriber.add(activeTask);emit()}source.subscribe((0,_OperatorSubscriber__WEBPACK_IMPORTED_MODULE_2__._)(subscriber,(function(value){lastValue=value,lastTime=scheduler.now(),activeTask||(activeTask=scheduler.schedule(emitWhenIdle,dueTime),subscriber.add(activeTask))}),(function(){emit(),subscriber.complete()}),void 0,(function(){lastValue=activeTask=null})))}))}},"./node_modules/rxjs/dist/esm5/internal/operators/distinctUntilChanged.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{F:()=>distinctUntilChanged});var _util_identity__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/identity.js"),_util_lift__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/lift.js"),_OperatorSubscriber__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/OperatorSubscriber.js");function distinctUntilChanged(comparator,keySelector){return void 0===keySelector&&(keySelector=_util_identity__WEBPACK_IMPORTED_MODULE_0__.D),comparator=null!=comparator?comparator:defaultCompare,(0,_util_lift__WEBPACK_IMPORTED_MODULE_1__.N)((function(source,subscriber){var previousKey,first=!0;source.subscribe((0,_OperatorSubscriber__WEBPACK_IMPORTED_MODULE_2__._)(subscriber,(function(value){var currentKey=keySelector(value);!first&&comparator(previousKey,currentKey)||(first=!1,previousKey=currentKey,subscriber.next(value))})))}))}function defaultCompare(a,b){return a===b}},"./libs/angular/src/v-angular/dropdown/dropdown.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{CloseOnScroll:()=>CloseOnScroll,ComboWithInput:()=>ComboWithInput,Disabled:()=>Disabled,Primary:()=>Primary,WithCustomSelectedTemplate:()=>WithCustomSelectedTemplate,WithCustomSelectedTemplateTypeahead:()=>WithCustomSelectedTemplateTypeahead,WithDisplayDisabledAsLocked:()=>WithDisplayDisabledAsLocked,WithError:()=>WithError,WithLockedInput:()=>WithLockedInput,WithOptionToggle:()=>WithOptionToggle,WithTypeAhead:()=>WithTypeAhead,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./dist/libs/core/src/components/icon/icons/triangle-exclamation.js");var _angular_common__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),_angular_forms__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./node_modules/@angular/forms/fesm2022/forms.mjs"),_storybook_angular__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@storybook/angular/dist/index.mjs"),rxjs__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/debounceTime.js"),rxjs__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/map.js"),_sebgroup_green_angular_src_lib_shared__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./libs/angular/src/lib/shared/index.ts"),_character_countdown_character_countdown_directive__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./libs/angular/src/v-angular/character-countdown/character-countdown.directive.ts"),_core_core_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./libs/angular/src/v-angular/core/core.utils.ts"),_i18n_i18n_module__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./libs/angular/src/v-angular/i18n/i18n.module.ts"),_input_input_component__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./libs/angular/src/v-angular/input/input.component.ts"),_tooltip_tooltip_directive__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./libs/angular/src/v-angular/tooltip/tooltip.directive.ts"),_dropdown_list_dropdown_list_component__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./libs/angular/src/v-angular/dropdown/dropdown-list/dropdown-list.component.ts"),_dropdown_component__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./libs/angular/src/v-angular/dropdown/dropdown.component.ts"),_typeahead_typeahead_highlight_typeahead_highlight_component__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./libs/angular/src/v-angular/dropdown/typeahead/typeahead-highlight/typeahead-highlight.component.ts"),_typeahead_typeahead_input_typeahead_input_component__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./libs/angular/src/v-angular/dropdown/typeahead/typeahead-input/typeahead-input.component.ts"),_typeahead_typeahead_directive__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./libs/angular/src/v-angular/dropdown/typeahead/typeahead.directive.ts");const __WEBPACK_DEFAULT_EXPORT__={title:"V-Angular/Dropdown",component:_dropdown_component__WEBPACK_IMPORTED_MODULE_9__.r,decorators:[(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_1__.applicationConfig)({providers:[(0,_angular_core__WEBPACK_IMPORTED_MODULE_13__.importProvidersFrom)(_i18n_i18n_module__WEBPACK_IMPORTED_MODULE_5__.R),_core_core_utils__WEBPACK_IMPORTED_MODULE_4__.z]}),(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_1__.moduleMetadata)({declarations:[_dropdown_list_dropdown_list_component__WEBPACK_IMPORTED_MODULE_8__.b,_input_input_component__WEBPACK_IMPORTED_MODULE_6__.o,_typeahead_typeahead_input_typeahead_input_component__WEBPACK_IMPORTED_MODULE_11__.x,_typeahead_typeahead_highlight_typeahead_highlight_component__WEBPACK_IMPORTED_MODULE_10__.X,_tooltip_tooltip_directive__WEBPACK_IMPORTED_MODULE_7__.X,_character_countdown_character_countdown_directive__WEBPACK_IMPORTED_MODULE_3__.q],imports:[_angular_common__WEBPACK_IMPORTED_MODULE_14__.CommonModule,_sebgroup_green_angular_src_lib_shared__WEBPACK_IMPORTED_MODULE_2__.$M,_angular_forms__WEBPACK_IMPORTED_MODULE_15__.YN,_angular_forms__WEBPACK_IMPORTED_MODULE_15__.X1,_i18n_i18n_module__WEBPACK_IMPORTED_MODULE_5__.R,_typeahead_typeahead_directive__WEBPACK_IMPORTED_MODULE_12__.d],schemas:[_angular_core__WEBPACK_IMPORTED_MODULE_13__.CUSTOM_ELEMENTS_SCHEMA]})],argTypes:{size:{options:["small","large"],control:{type:"select",labels:{small:"Small",large:"Large"}}}}},options=[{key:"opt1",label:"label.defaultlabel",accountNumber:"345345"},{key:"opt6",label:"HÃR LUR TJO HEJ KOTLETT"},{key:"opt2",label:"This is a very long label that should over flow a smaller dropdown button"},{key:"opt3",label:"Option 3 - disabled",disabled:!0},{key:"opt4",label:"Option 4"},{key:"opt5",label:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do"},{label:"Group",options:[{key:"group-opt1",label:null,accountNumber:"3453245"},{key:"group-opt2",label:"Option 2"},{key:"group-opt3",label:"Option 3"},{key:"group-opt4",label:"Option 4"}]}],Template=args=>{const ctrl=new _angular_forms__WEBPACK_IMPORTED_MODULE_15__.hs(args.ngModel);ctrl.valueChanges.subscribe(console.log);return{template:'\n      <div>\n        <nggv-dropdown\n          [label]="label"\n          [placeholder]="placeholder"\n          [description]="description | transloco"\n          [options]="options"\n          [required]="required"\n          [invalid]="invalid"\n          [error]="error"\n          [formControl]="formControl"\n          [locked]="locked"\n          [size]="size"\n          [closeOnScroll]="closeOnScroll"\n          [displayDisabledAsLocked]="displayDisabledAsLocked">\n          <ng-template #labelTpl>Custom Label</ng-template>\n          <ng-template let-option #optionTpl>{{option.label | transloco}} {{option.accountNumber}}</ng-template>\n        </nggv-dropdown>\n        <div style="margin-top: 1rem">\n          <button type="button" class="gds-button" (click)="disableFn()">Toggle disable control</button>\n        </div>\n      </div>',props:{...args,formControl:ctrl,disableFn:()=>{if(ctrl.disabled)return ctrl.enable();ctrl.disable()}}}},defaultArgs={required:!1,invalid:!1,label:"Field label",placeholder:"Placeholder text",description:"This. Is. A. Description.",ngModel:"opt2",size:"large",closeOnScroll:!1,options},Primary=Template.bind({});Primary.args={...defaultArgs};const Disabled=(args=>({template:'\n  <div>\n    <nggv-dropdown\n      [label]="label"\n      [placeholder]="placeholder"\n      [options]="options"\n      [required]="required"\n      [invalid]="invalid"\n      [disabled]="disabled"\n      [error]="error"\n      [size]="size"\n      [closeOnScroll]="closeOnScroll"\n      [formControl]="formControl">\n\n      <ng-template #labelTpl>Custom Label</ng-template>\n\n      <ng-template let-option #optionTpl>{{option.label | transloco}} {{option.accountNumber}}</ng-template>\n\n    </nggv-dropdown>\n  </div>',props:{...args,formControl:new _angular_forms__WEBPACK_IMPORTED_MODULE_15__.hs({value:""})}})).bind({});Disabled.args={...defaultArgs,disabled:!0};const CloseOnScroll=(args=>({template:'\n  <div style="height: 1000px;">\n    <nggv-dropdown\n      [label]="label"\n      [placeholder]="placeholder"\n      [options]="options"\n      [required]="required"\n      [invalid]="invalid"\n      [disabled]="disabled"\n      [error]="error"\n      [size]="size"\n      [closeOnScroll]="closeOnScroll"\n      [formControl]="formControl">\n\n      <ng-template #labelTpl>Custom Label</ng-template>\n\n      <ng-template let-option #optionTpl>{{option.label | transloco}} {{option.accountNumber}}</ng-template>\n\n    </nggv-dropdown>\n  </div>',props:{...args,formControl:new _angular_forms__WEBPACK_IMPORTED_MODULE_15__.hs({value:""})}})).bind({});CloseOnScroll.args={...defaultArgs,closeOnScroll:!0};const WithError=Template.bind({});WithError.args={...defaultArgs,invalid:!0,error:"Error message"};const ComboWithInput=(args=>{const ctrl=new _angular_forms__WEBPACK_IMPORTED_MODULE_15__.hs(args.ngModel);return ctrl.valueChanges.subscribe(console.log),{template:'\n      <div style="display: flex">\n        <nggv-dropdown\n          label="Dropdown"\n          [placeholder]="placeholder"\n          [options]="options"\n          [required]="required"\n          [invalid]="invalid"\n          [size]="size"\n          [closeOnScroll]="closeOnScroll"\n          error="This is a permanent error"\n          [formControl]="formControl">\n        </nggv-dropdown>\n        <nggv-input\n          label="Input"\n          [placeholder]="placeholder"\n          [required]="required"\n          [size]="size"\n          style="margin-left: 0.25rem;"\n          [formControl]="formControl">\n        </nggv-input>\n      </div>\n      <div>\n        <nggv-dropdown\n          label="Dropdown 2"\n          [placeholder]="placeholder"\n          [options]="options"\n          [required]="required"\n          [invalid]="invalid"\n          [size]="size"\n          [closeOnScroll]="closeOnScroll"\n          error="This is a permanent error"\n          [formControl]="formControl">\n        </nggv-dropdown>\n      </div>\n      <div>\n        <nggv-input\n          label="Input 2"\n          [placeholder]="placeholder"\n          [required]="true"\n          [size]="size"\n          style="margin-left: 0.25rem;"\n          [formControl]="formControl">\n        </nggv-input>\n      </div>',props:{...args,formControl:ctrl}}}).bind({});ComboWithInput.args={...defaultArgs};const WithOptionToggle=(args=>{const dropdownFc=new _angular_forms__WEBPACK_IMPORTED_MODULE_15__.hs;dropdownFc.valueChanges.subscribe((value=>{console.log({value})}));args.options=options;return{template:'\n      <div>\n        <div style="display: flex">\n          <button class="gds-button" (click)="showAlt = !showAlt">Change options</button>\n          <button class="gds-button gds-button-alternative" (click)="resetFunc()">Reset to default</button>\n        </div>\n        <div>Value: {{ formControl.value }}</div>\n        <nggv-dropdown\n          [label]="label"\n          [placeholder]="placeholder"\n          [options]="options"\n          [required]="required"\n          [closeOnScroll]="closeOnScroll"\n          [size]="size"\n          [formControl]="formControl">\n\n          <ng-template #labelTpl>Custom Label</ng-template>\n\n          <ng-template let-option #optionTpl>{{option.label | transloco}} {{option.accountNumber}}</ng-template>\n\n        </nggv-dropdown>\n      </div>',props:{...args,showAlt:false,formControl:dropdownFc,resetFunc:()=>{dropdownFc.reset("opt4")}}}}).bind({});WithOptionToggle.args={...defaultArgs,ngModel:"opt2",options};const WithCustomSelectedTemplate=(args=>{const accounts=[{label:"My own accounts",options:[{key:"se50000000001",label:null,accountNumber:"5000 00 000 01",accountName:"Savings account",balance:1e3,currency:"SEK"},{key:"se50000000002",label:null,accountNumber:"5000 00 000 02",accountName:"Foreign account",balance:100.5,currency:"USD"},{key:"se50000000003",label:null,accountNumber:"5000 00 000 03",accountName:"Account with a really long name",balance:2e3,currency:"SEK"},{key:"se50000000004",label:null,accountNumber:"5000 00 000 04",accountName:"Euro account with â¬â¬â¬",balance:100000000000.5,currency:"EUR"}]}],fc=new _angular_forms__WEBPACK_IMPORTED_MODULE_15__.hs;return{template:'\n      <nggv-dropdown\n        [label]="label"\n        [placeholder]="placeholder"\n        [options]="options"\n        [required]="true"\n        [formControl]="formControl"\n        [locked]="locked"\n        [size]="size"\n        [closeOnScroll]="closeOnScroll"\n        [displayDisabledAsLocked]="displayDisabledAsLocked">\n\n        <ng-template let-item #groupLabelTpl>\n          <div style="background-color: salmon; padding-left: 1rem"><pre>My custom group label</pre></div>\n        </ng-template>\n\n        <ng-template let-selected #selectedTpl>\n          <div *ngIf="selected?.key" class="account-option">\n            <div class="account-option--label" style="font-weight: 500;">\n              <div>{{ selected?.accountName }}</div>\n              <div>{{ selected?.balance | number: \'1.2-2\':locale }} {{ selected?.currency }}</div>\n            </div>\n            <div class="account-option--number">\n              <div>{{ selected?.accountNumber }}</div>\n              <div>Available amount</div>\n            </div>\n          </div>\n          <div *ngIf="!selected?.key" class="account-option" style="color: gray;">Select one</div>\n        </ng-template>\n        <ng-template let-option #optionTpl>\n          <div class="account-option">\n            <div class="account-option--label">\n              <div>{{ option?.accountName }}</div>\n              <div>{{ option?.balance | number: \'1.2-2\':locale }} {{ option?.currency }}</div>\n            </div>\n            <div class="account-option--number">\n              <div>{{ option?.accountNumber }}</div>\n              <div></div>\n            </div>\n          </div>\n        </ng-template>\n\n      </nggv-dropdown>\n      <div style="margin-top: 1rem">\n        <button type="button" class="gds-button" (click)="disableFn()">Toggle disable control</button>\n      </div>\n      ',styles:["\n      ::ng-deep.nggv-field-dropdown__label::before {\n        margin: 0.5rem 0;\n      }\n      .account-option {\n        margin: 0.5rem 0;\n        padding-right: 0.5rem;\n        width: 350px;\n      }\n      ::ng-deep.gds-field-dropdown__options__label[aria-selected='false']:hover .account-option--number,\n      ::ng-deep.gds-field-dropdown__options__label[aria-selected='true']:hover .account-option--number,\n      ::ng-deep.gds-field-dropdown__options__label[aria-selected='true'] .account-option--number {\n        color: white;\n      }\n      .account-option--number,\n      .account-option--label {\n        padding-bottom: 0.25em;\n      }\n      .account-option--label {\n        display: flex;\n      }\n      .account-option--number {\n        line-height: 1;\n        font-size: 0.875em;\n        display: flex;\n        color: gray;\n      }\n      .account-option--label > * {\n        line-height: 1.5rem;\n      }\n      .account-option--number > *:first-child,\n      .account-option--label > *:first-child {\n        flex-grow: 2;\n        // flex-basis: 40%;\n        overflow: hidden;\n        text-overflow: ellipsis;\n      }\n      .account-option--number > *:last-child,\n      .account-option--label > *:last-child {\n        flex-grow: 3;\n        display: flex;\n        justify-content: flex-end;\n      }"],props:{...args,formControl:fc,options:accounts,disableFn:()=>{if(fc.disabled)return fc.enable();fc.disable()}}}}).bind({});WithCustomSelectedTemplate.args={...defaultArgs,label:"Account selector",locked:!1,displayDisabledAsLocked:!0};const WithCustomSelectedTemplateTypeahead=(args=>{let filterPhrase="";const accounts=[{key:"se50000000001",label:null,accountNumber:"5000 00 000 01",accountName:"Savings account 2",balance:1e3,currency:"SEK"},{key:"se50000000002",label:null,accountNumber:"5000 00 000 02",accountName:"Foreign account 03",balance:100.5,currency:"USD"},{key:"se50000000003",label:null,accountNumber:"5000 00 000 03",accountName:"Account with a really long name",balance:2e3,currency:"SEK"},{key:"se50000000004",label:null,accountNumber:"5000 00 000 04",accountName:"Euro account with â¬â¬â¬",balance:100000000000.5,currency:"EUR"}],fc=new _angular_forms__WEBPACK_IMPORTED_MODULE_15__.hs;return{template:'\n    Value: {{ formControl.value }}\n    Filter: {{ getFilterPhrase() }}\n      <nggv-dropdown\n        [label]="label"\n        [placeholder]="placeholder"\n        [options]="options"\n        [required]="true"\n        [formControl]="formControl"\n        [locked]="locked"\n        [displayDisabledAsLocked]="displayDisabledAsLocked"\n        [nggvTypeahead]="searchFunction"\n        [selectedFormatter]="selectedFormatter"\n        [resultFormatter]="resultFormatter"\n        [allowUnselect]="true"\n        [unselectLabel]="unselectLabel"\n        [emptyOptionLabel]="emptyOptionLabel"\n        [size]="size"\n        [closeOnScroll]="closeOnScroll"\n        (filterPhraseChange)="handlefilterPhraseChange($event)">\n\n        <ng-template let-selected #selectedTpl>\n          <div *ngIf="!!selected?.key" class="account-option">\n            <div class="account-option--label" style="font-weight: 500;">\n              <div>{{ selected?.accountName }}</div>\n              <div>{{ selected?.balance | number: \'1.2-2\':locale }} {{ selected?.currency }}</div>\n            </div>\n            <div class="account-option--number">\n              <div>{{ selected?.accountNumber }}</div>\n              <div>Available amount</div>\n            </div>\n          </div>\n          <div *ngIf="!selected?.key" class="account-option" style="color: gray;">Select one</div>\n        </ng-template>\n\n        <ng-template let-option #optionTpl>\n          <div *ngIf="!option.key">\n            {{ (option?.label | transloco) || \'None\' }}\n          </div>\n          <div class="account-option" *ngIf="!!option.key">\n            <div class="account-option--label">\n              <div>\n                <nggv-typeahead-highlight [textContent]="option?.accountName" [textToHighlight]="getFilterPhrase()">\n                </nggv-typeahead-highlight>\n              </div>\n\n              <div>{{ option?.balance | number: \'1.2-2\':locale }} {{ option?.currency }}</div>\n            </div>\n            <div class="account-option--number">\n              <div>\n                <nggv-typeahead-highlight [textContent]="option?.accountNumber" [textToHighlight]="getFilterPhrase()">\n                </nggv-typeahead-highlight></div>\n              <div></div>\n            </div>\n          </div>\n        </ng-template>\n\n      </nggv-dropdown>\n      <div style="margin-top: 1rem">\n        <button type="button" class="gds-button" (click)="disableFn()">Toggle disable control</button>\n      </div>\n      ',styles:["\n      ::ng-deep.nggv-field-dropdown__label::before {\n        margin: 0.5rem 0;\n      }\n      .account-option {\n        margin: 0.5rem 0;\n        padding-right: 0.5rem;\n        width: 350px;\n      }\n      ::ng-deep.gds-field-dropdown__options__label[aria-selected='false']:hover .account-option--number,\n      ::ng-deep.gds-field-dropdown__options__label[aria-selected='true']:hover .account-option--number,\n      ::ng-deep.gds-field-dropdown__options__label[aria-selected='true'] .account-option--number {\n        color: white;\n      }\n      .account-option--number,\n      .account-option--label {\n        padding-bottom: 0.25em;\n      }\n      .account-option--label {\n        display: flex;\n      }\n      .account-option--number {\n        line-height: 1;\n        font-size: 0.875em;\n        display: flex;\n        color: gray;\n      }\n      .account-option--label > * {\n        line-height: 1.5rem;\n      }\n      .account-option--number > *:first-child,\n      .account-option--label > *:first-child {\n        flex-grow: 2;\n        // flex-basis: 40%;\n        overflow: hidden;\n        text-overflow: ellipsis;\n      }\n      .account-option--number > *:last-child,\n      .account-option--label > *:last-child {\n        flex-grow: 3;\n        display: flex;\n        justify-content: flex-end;\n      }"],props:{...args,formControl:fc,options:accounts,unselectLabel:"Unselect",disableFn:()=>{if(fc.disabled)return fc.enable();fc.disable()},searchFunction:value$=>value$.pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_16__.B)(150),(0,rxjs__WEBPACK_IMPORTED_MODULE_17__.T)((inputValue=>accounts.filter((option=>option.accountName?.toUpperCase().includes(inputValue?.toUpperCase())||option.accountNumber?.replace(/\s/,"").includes(inputValue)))))),getFilterPhrase:function getFilterPhrase(){return filterPhrase},handlefilterPhraseChange:event=>{filterPhrase=event},selectedFormatter:account=>account?.accountName}}}).bind({});WithCustomSelectedTemplateTypeahead.args={...defaultArgs,label:"Account selector",locked:!1,displayDisabledAsLocked:!0};const WithLockedInput=Template.bind({});WithLockedInput.args={...Primary.args,ngModel:"opt2",locked:!0,description:void 0};const WithDisplayDisabledAsLocked=Template.bind({});WithDisplayDisabledAsLocked.args={...Primary.args,locked:!1,description:void 0,displayDisabledAsLocked:!0};const WithTypeAhead=(args=>{const ctrl=new _angular_forms__WEBPACK_IMPORTED_MODULE_15__.hs;return ctrl.valueChanges.subscribe(console.log),{template:'\n    Value: {{ formControl.value }}\n    <div>\n        <nggv-dropdown\n          [label]="label"\n          [formControl]="formControl"\n          [placeholder]="placeholder"\n          [description]="description | transloco"\n          [required]="required"\n          [invalid]="invalid"\n          [error]="error"\n          [closeOnScroll]="closeOnScroll"\n          #dropdownElement\n          [options]="options"\n          [allowUnselect]="allowUnselect"\n          [unselectLabel]="unselectLabel"\n          [nggvTypeahead]="searchFunction"\n          [resultFormatter]="resultFormatter"\n          [selectedFormatter]="selectedFormatter"\n          [emptyOptionLabel]="emptyOptionLabel">\n\n          <ng-template #labelTpl>Custom Label</ng-template>\n\n        </nggv-dropdown>\n      </div>',styles:[""],props:{...args,formControl:ctrl,placeholder:"Choose",allowUnselect:!0,unselectLabel:"Unselect",emptyOptionLabel:"No matching options",searchFunction:value$=>value$.pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_16__.B)(300),(0,rxjs__WEBPACK_IMPORTED_MODULE_17__.T)((inputValue=>options.filter((option=>option.label?.replace(/\s/gm,"").toLocaleLowerCase().includes(inputValue?.replace(/\s/gm,"").toLocaleLowerCase()))))))}}}).bind({});WithTypeAhead.args={...defaultArgs};const __namedExportsOrder=["Primary","Disabled","CloseOnScroll","WithError","ComboWithInput","WithOptionToggle","WithCustomSelectedTemplate","WithCustomSelectedTemplateTypeahead","WithLockedInput","WithDisplayDisabledAsLocked","WithTypeAhead"];Primary.parameters={...Primary.parameters,docs:{...Primary.parameters?.docs,source:{originalSource:"Template.bind({}) as any",...Primary.parameters?.docs?.source}}},Disabled.parameters={...Disabled.parameters,docs:{...Disabled.parameters?.docs,source:{originalSource:"DisabledTemplate.bind({}) as any",...Disabled.parameters?.docs?.source}}},CloseOnScroll.parameters={...CloseOnScroll.parameters,docs:{...CloseOnScroll.parameters?.docs,source:{originalSource:"CloseOnScrollTemplate.bind({}) as any",...CloseOnScroll.parameters?.docs?.source}}},WithError.parameters={...WithError.parameters,docs:{...WithError.parameters?.docs,source:{originalSource:"Template.bind({}) as any",...WithError.parameters?.docs?.source}}},ComboWithInput.parameters={...ComboWithInput.parameters,docs:{...ComboWithInput.parameters?.docs,source:{originalSource:"ComboTemplate.bind({}) as any",...ComboWithInput.parameters?.docs?.source}}},WithOptionToggle.parameters={...WithOptionToggle.parameters,docs:{...WithOptionToggle.parameters?.docs,source:{originalSource:"AltTemplate.bind({}) as any",...WithOptionToggle.parameters?.docs?.source}}},WithCustomSelectedTemplate.parameters={...WithCustomSelectedTemplate.parameters,docs:{...WithCustomSelectedTemplate.parameters?.docs,source:{originalSource:"CustomSelectedTemplate.bind({}) as any",...WithCustomSelectedTemplate.parameters?.docs?.source}}},WithCustomSelectedTemplateTypeahead.parameters={...WithCustomSelectedTemplateTypeahead.parameters,docs:{...WithCustomSelectedTemplateTypeahead.parameters?.docs,source:{originalSource:"CustomSelectedTemplateTypeahead.bind({}) as any",...WithCustomSelectedTemplateTypeahead.parameters?.docs?.source}}},WithLockedInput.parameters={...WithLockedInput.parameters,docs:{...WithLockedInput.parameters?.docs,source:{originalSource:'(args: any) => {\n  const ctrl = new UntypedFormControl(args.ngModel);\n  ctrl.valueChanges.subscribe(console.log);\n  const toggleDisableField = () => {\n    if (ctrl.disabled) return ctrl.enable();\n    ctrl.disable();\n  };\n  return {\n    template: /*html*/`\n      <div>\n        <nggv-dropdown\n          [label]="label"\n          [placeholder]="placeholder"\n          [description]="description | transloco"\n          [options]="options"\n          [required]="required"\n          [invalid]="invalid"\n          [error]="error"\n          [formControl]="formControl"\n          [locked]="locked"\n          [size]="size"\n          [closeOnScroll]="closeOnScroll"\n          [displayDisabledAsLocked]="displayDisabledAsLocked">\n          <ng-template #labelTpl>Custom Label</ng-template>\n          <ng-template let-option #optionTpl>{{option.label | transloco}} {{option.accountNumber}}</ng-template>\n        </nggv-dropdown>\n        <div style="margin-top: 1rem">\n          <button type="button" class="gds-button" (click)="disableFn()">Toggle disable control</button>\n        </div>\n      </div>`,\n    props: {\n      ...args,\n      formControl: ctrl,\n      disableFn: toggleDisableField\n    }\n  };\n}',...WithLockedInput.parameters?.docs?.source}}},WithDisplayDisabledAsLocked.parameters={...WithDisplayDisabledAsLocked.parameters,docs:{...WithDisplayDisabledAsLocked.parameters?.docs,source:{originalSource:'(args: any) => {\n  const ctrl = new UntypedFormControl(args.ngModel);\n  ctrl.valueChanges.subscribe(console.log);\n  const toggleDisableField = () => {\n    if (ctrl.disabled) return ctrl.enable();\n    ctrl.disable();\n  };\n  return {\n    template: /*html*/`\n      <div>\n        <nggv-dropdown\n          [label]="label"\n          [placeholder]="placeholder"\n          [description]="description | transloco"\n          [options]="options"\n          [required]="required"\n          [invalid]="invalid"\n          [error]="error"\n          [formControl]="formControl"\n          [locked]="locked"\n          [size]="size"\n          [closeOnScroll]="closeOnScroll"\n          [displayDisabledAsLocked]="displayDisabledAsLocked">\n          <ng-template #labelTpl>Custom Label</ng-template>\n          <ng-template let-option #optionTpl>{{option.label | transloco}} {{option.accountNumber}}</ng-template>\n        </nggv-dropdown>\n        <div style="margin-top: 1rem">\n          <button type="button" class="gds-button" (click)="disableFn()">Toggle disable control</button>\n        </div>\n      </div>`,\n    props: {\n      ...args,\n      formControl: ctrl,\n      disableFn: toggleDisableField\n    }\n  };\n}',...WithDisplayDisabledAsLocked.parameters?.docs?.source}}},WithTypeAhead.parameters={...WithTypeAhead.parameters,docs:{...WithTypeAhead.parameters?.docs,source:{originalSource:"TypeaheadTemplate.bind({}) as any",...WithTypeAhead.parameters?.docs?.source}}}}}]);