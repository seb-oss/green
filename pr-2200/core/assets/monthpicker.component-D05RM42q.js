import{m as u,l as k}from"./runtime-CNluP0A8.js";import{x as f}from"./lit-element-Bx14lxc-.js";import{n as i,r as Y,G as E,g as $}from"./gds-element-DKcDvDP5.js";import{a as F}from"./query-p8xgzTDt.js";import{e as P}from"./class-map-CXsQwv0r.js";import{o as A}from"./if-defined-CVqwUuaf.js";import{n as N}from"./when-BR7zwNJC.js";import{s as O}from"./gridpicker.styles-DmUviT3E.js";import{t as S}from"./tokens.style-Cct4pBht.js";import{T}from"./transitional-styles-unlae3Cp.js";import{w as L}from"./watch-tFciLXSI.js";import{d as g}from"./attribute-converters-CdI0trPX.js";import{l as z,i as y,a as b,s as w}from"./index-C4WLrI9v.js";var B=Object.defineProperty,G=Object.getOwnPropertyDescriptor,v=t=>{throw TypeError(t)},n=(t,e,o,a)=>{for(var h=a>1?void 0:a?G(e,o):e,c=t.length-1,r;c>=0;c--)(r=t[c])&&(h=(a?r(e,o,h):r(h))||h);return a&&h&&B(e,o,h),h},U=(t,e,o)=>e.has(t)||v("Cannot "+o),J=(t,e,o)=>e.has(t)?v("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,o),m=(t,e,o)=>(U(t,e,"access private method"),o),d,_,x,D,C;const M=[u("January"),u("February"),u("March"),u("April"),u("May"),u("June"),u("July"),u("August"),u("September"),u("October"),u("November"),u("December")];let s=class extends E{constructor(){super(...arguments),J(this,d),this.min=new Date(new Date().getFullYear()-10,0,1),this.max=new Date(new Date().getFullYear()+10,0,1),this.hideExtraneousMonths=!1,this.columns=4,this.rows=3,this.noCurrentMonth=!1,this.focusedDate=new Date,this.longMonthText=!1,this.size="large",this.monthNumber=!1,this._currentLocale=navigator.language}get focusedMonth(){return this.focusedDate.getMonth()}set focusedMonth(t){const e=z(new Date(this.focusedYear,t,1)),o=new Date(this.focusedDate);o.setDate(Math.min(this.focusedDate.getDate(),e.getDate())),o.setMonth(t),o.setHours(12,0,0,0),this.focusedDate=o}get focusedYear(){return this.focusedDate.getFullYear()}set focusedYear(t){this.focusedDate=new Date(this.focusedDate.setFullYear(t))}getMonthCell(t){var e;return(e=this.shadowRoot)==null?void 0:e.querySelector(`#monthCell-${t}`)}connectedCallback(){super.connectedCallback(),T.instance.apply(this,"gds-monthpicker"),this.addEventListener("keydown",m(this,d,C)),window.addEventListener("lit-localize-status",t=>{t.detail.status==="ready"&&(this._currentLocale=t.detail.readyLocale)})}focus(){var t;super.focus(),(t=this._elFocusedCell)==null||t.focus()}render(){const t=new Date().getFullYear(),e=new Date().getMonth();return f` <table role="grid" aria-label="${A(this.label)}">
      <tbody role="rowgroup">
        ${Array.from({length:this.rows}).map((o,a)=>f`
            <tr role="row">
              ${M.slice(a*this.columns,a*this.columns+this.columns).map((h,c)=>{const r=a*this.columns+c;if(r>=M.length)return f`<td inert></td>`;const l=new Date(this.focusedYear,r,1),p=(l<this.min||l>this.max)&&!y(l,this.min)&&!y(l,this.max);return N(!this.hideExtraneousMonths||!p,()=>f`<td
                        class="${P({small:this.size=="small",short:this.monthNumber,long:this.longMonthText,today:!this.noCurrentMonth&&t==this.focusedYear&&e==r,disabled:!!p})}"
                        ?disabled=${p}
                        tabindex="${this.focusedMonth==r?0:-1}"
                        aria-selected="${m(this,d,x).call(this)==r?"true":"false"}"
                        @click=${()=>p?null:m(this,d,D).call(this,r)}
                        id="monthCell-${r}"
                      >
                        ${m(this,d,_).call(this,r)}
                      </td>`,()=>f`<td inert></td>`)})}
            </tr>
          `)}
      </tbody>
    </table>`}_valueChanged(){this.value&&(this.focusedDate=this.value)}};d=new WeakSet;_=function(t){if(this.monthNumber)return t+1;const e=M[t];return this.longMonthText?e:e.substring(0,3)};x=function(){return this.value?this.value.getMonth():-1};D=function(t){this.value=new Date(this.focusedYear,t,1,12),this.dispatchEvent(new CustomEvent("change",{detail:this.value,bubbles:!1,composed:!1}))};C=function(t){var o;let e=!1;if(t.key==="ArrowLeft")this.focusedMonth>0&&this.focusedDate>b(this.min,1)&&(this.focusedMonth-=1),e=!0;else if(t.key==="ArrowRight")this.focusedMonth<11&&this.focusedDate<w(this.max,1)&&(this.focusedMonth+=1),e=!0;else if(t.key==="ArrowUp")this.focusedMonth>2&&this.focusedDate>b(this.min,3)&&(this.focusedMonth-=3),e=!0;else if(t.key==="ArrowDown")this.focusedMonth<9&&this.focusedDate<w(this.max,3)&&(this.focusedMonth+=3),e=!0;else if(t.key==="Home")new Date(this.focusedYear,0,1)>this.min?this.focusedMonth=0:this.focusedMonth=this.min.getMonth(),e=!0;else if(t.key==="End")new Date(this.focusedYear,11,1)<this.max?this.focusedMonth=11:this.focusedMonth=this.max.getMonth(),e=!0;else if(t.key==="PageUp"||t.key==="PageDown"){const a=t.key==="PageUp";let h=this.focusedMonth;for(let c=0;c<3;c++){const r=h+(a?-3:3);if(r<0||r>11)break;const l=new Date(this.focusedYear,r,1);if(a&&l<this.min&&!y(l,this.min)||!a&&l>this.max&&!y(l,this.max))break;h=r}h!==this.focusedMonth&&(this.focusedMonth=h),e=!0}else(t.key==="Enter"||t.key===" ")&&((o=this._elFocusedCell)!=null&&o.hasAttribute("disabled")||m(this,d,D).call(this,this.focusedMonth),e=!0);e&&(t.preventDefault(),t.stopPropagation(),this.updateComplete.then(()=>{var a;(a=this._elFocusedCell)==null||a.focus()}))};s.styles=[S,O];s.shadowRootOptions={mode:"open",delegatesFocus:!0};n([i()],s.prototype,"value",2);n([i({converter:g})],s.prototype,"min",2);n([i({converter:g})],s.prototype,"max",2);n([i({type:Boolean,attribute:"hide-extraneous-months"})],s.prototype,"hideExtraneousMonths",2);n([i({type:Number})],s.prototype,"columns",2);n([i({type:Number})],s.prototype,"rows",2);n([i({type:Boolean,attribute:"no-current-month"})],s.prototype,"noCurrentMonth",2);n([i({converter:g})],s.prototype,"focusedDate",2);n([i({type:Number})],s.prototype,"focusedMonth",1);n([i({type:Number})],s.prototype,"focusedYear",1);n([i({type:Boolean,attribute:"long-month-text"})],s.prototype,"longMonthText",2);n([i({reflect:!0})],s.prototype,"size",2);n([i({type:Boolean,attribute:"month-number"})],s.prototype,"monthNumber",2);n([i()],s.prototype,"label",2);n([Y()],s.prototype,"_currentLocale",2);n([F('td[tabindex="0"]')],s.prototype,"_elFocusedCell",2);n([L("value")],s.prototype,"_valueChanged",1);s=n([$("gds-monthpicker"),k()],s);export{s as G};
