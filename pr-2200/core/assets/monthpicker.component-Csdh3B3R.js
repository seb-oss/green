import{m as h,l as k}from"./runtime-CNluP0A8.js";import{x as f}from"./lit-element-Bx14lxc-.js";import{n as u,r as Y,G as E,g as $}from"./gds-element-DKcDvDP5.js";import{a as F}from"./query-p8xgzTDt.js";import{e as P}from"./class-map-CXsQwv0r.js";import{o as A}from"./if-defined-CVqwUuaf.js";import{n as O}from"./when-BR7zwNJC.js";import{s as S}from"./gridpicker.styles-Dlcswrbo.js";import{t as L}from"./tokens.style-Cct4pBht.js";import{T}from"./transitional-styles-unlae3Cp.js";import{w as N}from"./watch-tFciLXSI.js";import{d as g}from"./attribute-converters-CdI0trPX.js";import{l as z,i as M,a as b,s as v}from"./index-C4WLrI9v.js";var B=Object.defineProperty,G=Object.getOwnPropertyDescriptor,w=t=>{throw TypeError(t)},r=(t,e,o,a)=>{for(var i=a>1?void 0:a?G(e,o):e,c=t.length-1,n;c>=0;c--)(n=t[c])&&(i=(a?n(e,o,i):n(i))||i);return a&&i&&B(e,o,i),i},U=(t,e,o)=>e.has(t)||w("Cannot "+o),J=(t,e,o)=>e.has(t)?w("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,o),m=(t,e,o)=>(U(t,e,"access private method"),o),d,_,x,D,C;const y=[h("January"),h("February"),h("March"),h("April"),h("May"),h("June"),h("July"),h("August"),h("September"),h("October"),h("November"),h("December")];let s=class extends E{constructor(){super(...arguments),J(this,d),this.min=new Date(new Date().getFullYear()-10,0,1),this.max=new Date(new Date().getFullYear()+10,0,1),this.hideExtraneousMonths=!1,this.noCurrentMonth=!1,this.focusedDate=new Date,this.shortMonthText=!1,this.size="large",this.monthNumber=!1,this._currentLocale=navigator.language}get focusedMonth(){return this.focusedDate.getMonth()}set focusedMonth(t){const e=z(new Date(this.focusedYear,t,1)),o=new Date(this.focusedDate);o.setDate(Math.min(this.focusedDate.getDate(),e.getDate())),o.setMonth(t),o.setHours(12,0,0,0),this.focusedDate=o}get focusedYear(){return this.focusedDate.getFullYear()}set focusedYear(t){this.focusedDate=new Date(this.focusedDate.setFullYear(t))}getMonthCell(t){var e;return(e=this.shadowRoot)==null?void 0:e.querySelector(`#monthCell-${t}`)}connectedCallback(){super.connectedCallback(),T.instance.apply(this,"gds-monthpicker"),this.addEventListener("keydown",m(this,d,C)),window.addEventListener("lit-localize-status",t=>{t.detail.status==="ready"&&(this._currentLocale=t.detail.readyLocale)})}focus(){var t;super.focus(),(t=this._elFocusedCell)==null||t.focus()}render(){const t=new Date().getFullYear(),e=new Date().getMonth();return f` <table role="grid" aria-label="${A(this.label)}">
      <tbody role="rowgroup">
        ${Array.from({length:4}).map((o,a)=>f`
            <tr role="row">
              ${y.slice(a*3,a*3+3).map((i,c)=>{const n=a*3+c;if(n>=y.length)return f`<td inert></td>`;const l=new Date(this.focusedYear,n,1),p=(l<this.min||l>this.max)&&!M(l,this.min)&&!M(l,this.max);return O(!this.hideExtraneousMonths||!p,()=>f`<td
                        class="${P({small:this.size=="small",today:!this.noCurrentMonth&&t==this.focusedYear&&e==n,disabled:!!p})}"
                        ?disabled=${p}
                        tabindex="${this.focusedMonth==n?0:-1}"
                        aria-selected="${m(this,d,x).call(this)==n?"true":"false"}"
                        @click=${()=>p?null:m(this,d,D).call(this,n)}
                        id="monthCell-${n}"
                      >
                        ${m(this,d,_).call(this,n)}
                      </td>`,()=>f`<td inert></td>`)})}
            </tr>
          `)}
      </tbody>
    </table>`}_valueChanged(){this.value&&(this.focusedDate=this.value)}};d=new WeakSet;_=function(t){if(this.monthNumber)return t+1;const e=y[t];return this.shortMonthText?e.substring(0,3):e};x=function(){return this.value?this.value.getMonth():-1};D=function(t){this.value=new Date(this.focusedYear,t,1,12),this.dispatchEvent(new CustomEvent("change",{detail:this.value,bubbles:!1,composed:!1}))};C=function(t){var o;let e=!1;if(t.key==="ArrowLeft")this.focusedMonth>0&&this.focusedDate>b(this.min,1)&&(this.focusedMonth-=1),e=!0;else if(t.key==="ArrowRight")this.focusedMonth<11&&this.focusedDate<v(this.max,1)&&(this.focusedMonth+=1),e=!0;else if(t.key==="ArrowUp")this.focusedMonth>2&&this.focusedDate>b(this.min,3)&&(this.focusedMonth-=3),e=!0;else if(t.key==="ArrowDown")this.focusedMonth<9&&this.focusedDate<v(this.max,3)&&(this.focusedMonth+=3),e=!0;else if(t.key==="Home")new Date(this.focusedYear,0,1)>this.min?this.focusedMonth=0:this.focusedMonth=this.min.getMonth(),e=!0;else if(t.key==="End")new Date(this.focusedYear,11,1)<this.max?this.focusedMonth=11:this.focusedMonth=this.max.getMonth(),e=!0;else if(t.key==="PageUp"||t.key==="PageDown"){const a=t.key==="PageUp";let i=this.focusedMonth;for(let c=0;c<3;c++){const n=i+(a?-3:3);if(n<0||n>11)break;const l=new Date(this.focusedYear,n,1);if(a&&l<this.min&&!M(l,this.min)||!a&&l>this.max&&!M(l,this.max))break;i=n}i!==this.focusedMonth&&(this.focusedMonth=i),e=!0}else(t.key==="Enter"||t.key===" ")&&((o=this._elFocusedCell)!=null&&o.hasAttribute("disabled")||m(this,d,D).call(this,this.focusedMonth),e=!0);e&&(t.preventDefault(),t.stopPropagation(),this.updateComplete.then(()=>{var a;(a=this._elFocusedCell)==null||a.focus()}))};s.styles=[L,S];s.shadowRootOptions={mode:"open",delegatesFocus:!0};r([u()],s.prototype,"value",2);r([u({converter:g})],s.prototype,"min",2);r([u({converter:g})],s.prototype,"max",2);r([u({type:Boolean,attribute:"hide-extraneous-months"})],s.prototype,"hideExtraneousMonths",2);r([u({type:Boolean,attribute:"no-current-month"})],s.prototype,"noCurrentMonth",2);r([u({converter:g})],s.prototype,"focusedDate",2);r([u({type:Number})],s.prototype,"focusedMonth",1);r([u({type:Number})],s.prototype,"focusedYear",1);r([u({type:Boolean,attribute:"short-month-text"})],s.prototype,"shortMonthText",2);r([u({reflect:!0})],s.prototype,"size",2);r([u({type:Boolean,attribute:"month-number"})],s.prototype,"monthNumber",2);r([u()],s.prototype,"label",2);r([Y()],s.prototype,"_currentLocale",2);r([F('td[tabindex="0"]')],s.prototype,"_elFocusedCell",2);r([N("value")],s.prototype,"_valueChanged",1);s=r([$("gds-monthpicker"),k()],s);export{s as G};
