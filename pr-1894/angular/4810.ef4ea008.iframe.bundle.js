/*! For license information please see 4810.ef4ea008.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkgreen=self.webpackChunkgreen||[]).push([[4810],{"./node_modules/@jsverse/transloco/fesm2022/jsverse-transloco.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{zo:()=>TRANSLOCO_FALLBACK_STRATEGY,mr:()=>TRANSLOCO_INTERCEPTOR,WZ:()=>TRANSLOCO_MISSING_HANDLER,Lt:()=>TRANSLOCO_SCOPE,Rv:()=>TRANSLOCO_TRANSPILER,Q8:()=>TranslocoModule,JO:()=>TranslocoService,$o:()=>provideTransloco,Li:()=>provideTranslocoMissingHandler});var core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),of=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/of.js"),take=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/take.js"),from=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/from.js"),map=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/map.js"),Subject=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Subject.js"),BehaviorSubject=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/BehaviorSubject.js"),forkJoin=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/forkJoin.js"),lift=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/lift.js"),OperatorSubscriber=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/OperatorSubscriber.js"),identity=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/identity.js"),timer=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/timer.js"),innerFrom=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/innerFrom.js");var tap=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/tap.js"),catchError=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/catchError.js"),shareReplay=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/shareReplay.js"),switchMap=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/switchMap.js"),combineLatest=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/combineLatest.js"),empty=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/empty.js"),internal_Observable=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Observable.js"),takeUntil=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/takeUntil.js");function takeUntilDestroyed(destroyRef){destroyRef||((0,core.assertInInjectionContext)(takeUntilDestroyed),destroyRef=(0,core.inject)(core.DestroyRef));const destroyed$=new internal_Observable.c((observer=>destroyRef.onDestroy(observer.next.bind(observer))));return source=>source.pipe((0,takeUntil.Q)(destroyed$))}function isBuffer(obj){return obj&&obj.constructor&&"function"==typeof obj.constructor.isBuffer&&obj.constructor.isBuffer(obj)}function keyIdentity(key){return key}function flatten(target,opts){const delimiter=(opts=opts||{}).delimiter||".",maxDepth=opts.maxDepth,transformKey=opts.transformKey||keyIdentity,output={};return function step(object,prev,currentDepth){currentDepth=currentDepth||1,Object.keys(object).forEach((function(key){const value=object[key],isarray=opts.safe&&Array.isArray(value),type=Object.prototype.toString.call(value),isbuffer=isBuffer(value),isobject="[object Object]"===type||"[object Array]"===type,newKey=prev?prev+delimiter+transformKey(key):transformKey(key);if(!isarray&&!isbuffer&&isobject&&Object.keys(value).length&&(!opts.maxDepth||currentDepth<maxDepth))return step(value,newKey,currentDepth+1);output[newKey]=value}))}(target),output}function unflatten(target,opts){const delimiter=(opts=opts||{}).delimiter||".",overwrite=opts.overwrite||!1,transformKey=opts.transformKey||keyIdentity,result={};if(isBuffer(target)||"[object Object]"!==Object.prototype.toString.call(target))return target;function getkey(key){const parsedKey=Number(key);return isNaN(parsedKey)||-1!==key.indexOf(".")||opts.object?key:parsedKey}return target=Object.keys(target).reduce((function(result,key){const type=Object.prototype.toString.call(target[key]);return!("[object Object]"===type||"[object Array]"===type)||function isEmpty(val){const type=Object.prototype.toString.call(val),isObject="[object Object]"===type;return!val||("[object Array]"===type?!val.length:isObject?!Object.keys(val).length:void 0)}(target[key])?(result[key]=target[key],result):function addKeys(keyPrefix,recipient,target){return Object.keys(target).reduce((function(result,key){return result[keyPrefix+delimiter+key]=target[key],result}),recipient)}(key,result,flatten(target[key],opts))}),{}),Object.keys(target).forEach((function(key){const split=key.split(delimiter).map(transformKey);let key1=getkey(split.shift()),key2=getkey(split[0]),recipient=result;for(;void 0!==key2;){if("__proto__"===key1)return;const type=Object.prototype.toString.call(recipient[key1]),isobject="[object Object]"===type||"[object Array]"===type;if(!overwrite&&!isobject&&void 0!==recipient[key1])return;(overwrite&&!isobject||!overwrite&&null==recipient[key1])&&(recipient[key1]="number"!=typeof key2||opts.object?{}:[]),recipient=recipient[key1],split.length>0&&(key1=getkey(split.shift()),key2=getkey(split[0]))}recipient[key1]=unflatten(target[key],opts)})),result}class DefaultLoader{translations;constructor(translations){this.translations=translations}getTranslation(lang){return(0,of.of)(this.translations.get(lang)||{})}}const TRANSLOCO_LOADER=new core.InjectionToken("TRANSLOCO_LOADER");function getValue(obj,path){return obj?Object.prototype.hasOwnProperty.call(obj,path)?obj[path]:path.split(".").reduce(((p,c)=>p?.[c]),obj):obj}function size(collection){return collection?Array.isArray(collection)?collection.length:isObject(collection)?Object.keys(collection).length:collection?collection.length:0:0}function isString(val){return"string"==typeof val}function isObject(item){return!!item&&"object"==typeof item&&!Array.isArray(item)}function toCamelCase(str){return str.replace(/(?:^\w|[A-Z]|\b\w)/g,((word,index)=>0==index?word.toLowerCase():word.toUpperCase())).replace(/\s+|_|-|\//g,"")}function isNil(value){return null==value}function isDefined(value){return!1===isNil(value)}function isScopeObject(item){return item&&"string"==typeof item.scope}function jsverse_transloco_flatten(obj){return flatten(obj,{safe:!0})}const TRANSLOCO_CONFIG=new core.InjectionToken("TRANSLOCO_CONFIG",{providedIn:"root",factory:()=>defaultConfig}),defaultConfig={defaultLang:"en",reRenderOnLangChange:!1,prodMode:!1,failedRetries:2,fallbackLang:[],availableLangs:[],missingHandler:{logMissingKey:!0,useFallbackTranslation:!1,allowEmpty:!1},flatten:{aot:!1},interpolation:["{{","}}"],scopes:{keepCasing:!1}};function translocoConfig(config={}){return{...defaultConfig,...config,missingHandler:{...defaultConfig.missingHandler,...config.missingHandler},flatten:{...defaultConfig.flatten,...config.flatten},scopes:{...defaultConfig.scopes,...config.scopes}}}const TRANSLOCO_TRANSPILER=new core.InjectionToken("TRANSLOCO_TRANSPILER");class DefaultTranspiler{config=(0,core.inject)(TRANSLOCO_CONFIG,{optional:!0})??defaultConfig;get interpolationMatcher(){return function resolveMatcher(config){const[start,end]=config.interpolation;return new RegExp(`${start}([^${start}${end}]*?)${end}`,"g")}(this.config)}transpile({value,params={},translation,key}){if(isString(value)){let paramMatch,parsedValue=value;for(;null!==(paramMatch=this.interpolationMatcher.exec(parsedValue));){const[match,paramValue]=paramMatch;parsedValue=parsedValue.replace(match,(()=>{const match=paramValue.trim(),param=getValue(params,match);return isDefined(param)?param:isDefined(translation[match])?this.transpile({params,translation,key,value:translation[match]}):""}))}return parsedValue}return params&&(isObject(value)?value=this.handleObject({value,params,translation,key}):Array.isArray(value)&&(value=this.handleArray({value,params,translation,key}))),value}handleObject({value,params={},translation,key}){let result=value;return Object.keys(params).forEach((p=>{const transpiled=this.transpile({value:getValue(result,p),params:getValue(params,p),translation,key});result=function setValue(obj,prop,val){obj={...obj};const split=prop.split("."),lastIndex=split.length-1;return split.reduce(((acc,part,index)=>(acc[part]=index===lastIndex?val:Array.isArray(acc[part])?acc[part].slice():{...acc[part]},acc&&acc[part])),obj),obj}(result,p,transpiled)})),result}handleArray({value,...rest}){return value.map((v=>this.transpile({value:v,...rest})))}static ɵfac=function DefaultTranspiler_Factory(t){return new(t||DefaultTranspiler)};static ɵprov=core["ɵɵdefineInjectable"]({token:DefaultTranspiler,factory:DefaultTranspiler.ɵfac})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](DefaultTranspiler,[{type:core.Injectable}],null,null);class FunctionalTranspiler extends DefaultTranspiler{injector=(0,core.inject)(core.Injector);transpile({value,...rest}){let transpiled=value;return isString(value)&&(transpiled=value.replace(/\[\[\s*(\w+)\((.*?)\)\s*]]/g,((match,functionName,args)=>{try{return this.injector.get(functionName).transpile(...function getFunctionArgs(argsString){const splitted=argsString?argsString.split(","):[],args=[];for(let i=0;i<splitted.length;i++){let value=splitted[i].trim();for(;"\\"===value[value.length-1];)i++,value=value.replace("\\",",")+splitted[i];args.push(value)}return args}(args))}catch(e){let message=`There is an error in: '${value}'. \n                          Check that the you used the right syntax in your translation and that the implementation of ${functionName} is correct.`;throw e.message.includes("NullInjectorError")&&(message=`You are using the '${functionName}' function in your translation but no provider was found!`),new Error(message)}}))),super.transpile({value:transpiled,...rest})}static ɵfac=(()=>{let ɵFunctionalTranspiler_BaseFactory;return function FunctionalTranspiler_Factory(t){return(ɵFunctionalTranspiler_BaseFactory||(ɵFunctionalTranspiler_BaseFactory=core["ɵɵgetInheritedFactory"](FunctionalTranspiler)))(t||FunctionalTranspiler)}})();static ɵprov=core["ɵɵdefineInjectable"]({token:FunctionalTranspiler,factory:FunctionalTranspiler.ɵfac})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](FunctionalTranspiler,[{type:core.Injectable}],null,null);const TRANSLOCO_MISSING_HANDLER=new core.InjectionToken("TRANSLOCO_MISSING_HANDLER");class DefaultMissingHandler{handle(key,config){if(config.missingHandler.logMissingKey&&!config.prodMode){const msg=`Missing translation for '${key}'`;console.warn(`%c ${msg}`,"font-size: 12px; color: red")}return key}static ɵfac=function DefaultMissingHandler_Factory(t){return new(t||DefaultMissingHandler)};static ɵprov=core["ɵɵdefineInjectable"]({token:DefaultMissingHandler,factory:DefaultMissingHandler.ɵfac})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](DefaultMissingHandler,[{type:core.Injectable}],null,null);const TRANSLOCO_INTERCEPTOR=new core.InjectionToken("TRANSLOCO_INTERCEPTOR");class DefaultInterceptor{preSaveTranslation(translation){return translation}preSaveTranslationKey(_,value){return value}static ɵfac=function DefaultInterceptor_Factory(t){return new(t||DefaultInterceptor)};static ɵprov=core["ɵɵdefineInjectable"]({token:DefaultInterceptor,factory:DefaultInterceptor.ɵfac})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](DefaultInterceptor,[{type:core.Injectable}],null,null);const TRANSLOCO_FALLBACK_STRATEGY=new core.InjectionToken("TRANSLOCO_FALLBACK_STRATEGY");class DefaultFallbackStrategy{userConfig;constructor(userConfig){this.userConfig=userConfig}getNextLangs(){const fallbackLang=this.userConfig.fallbackLang;if(!fallbackLang)throw new Error("When using the default fallback, a fallback language must be provided in the config!");return Array.isArray(fallbackLang)?fallbackLang:[fallbackLang]}static ɵfac=function DefaultFallbackStrategy_Factory(t){return new(t||DefaultFallbackStrategy)(core["ɵɵinject"](TRANSLOCO_CONFIG))};static ɵprov=core["ɵɵdefineInjectable"]({token:DefaultFallbackStrategy,factory:DefaultFallbackStrategy.ɵfac})}function getScopeFromLang(lang){if(!lang)return"";const split=lang.split("/");return split.pop(),split.join("/")}function getLangFromScope(lang){return lang?lang.split("/").pop():""}function getPipeValue(str,value,char="|"){if(isString(str)){const splitted=str.split(char),lastItem=splitted.pop();return lastItem===value?[!0,splitted.toString()]:[!1,lastItem]}return[!1,""]}function shouldListenToLangChanges(service,lang){const[hasStatic]=getPipeValue(lang,"static");return!hasStatic&&!!service.config.reRenderOnLangChange}function listenOrNotOperator(listenToLangChange){return listenToLangChange?source=>source:(0,take.s)(1)}function resolveInlineLoader(providerScope,scope){return function hasInlineLoader(item){return item&&isObject(item.loader)}(providerScope)?function prependScope(inlineLoader,scope){return Object.keys(inlineLoader).reduce(((acc,lang)=>(acc[`${scope}/${lang}`]=inlineLoader[lang],acc)),{})}(providerScope.loader,scope):void 0}function getEventPayload(lang){return{scope:getScopeFromLang(lang)||null,langName:getLangFromScope(lang)}}function resolveLoader(options){const{path,inlineLoader,mainLoader,data}=options;if(inlineLoader){if(!1===function isFunction(val){return"function"==typeof val}(inlineLoader[path]))throw`You're using an inline loader but didn't provide a loader for ${path}`;return inlineLoader[path]().then((res=>res.default?res.default:res))}return mainLoader.getTranslation(path,data)}let service;("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](DefaultFallbackStrategy,[{type:core.Injectable}],(()=>[{type:void 0,decorators:[{type:core.Inject,args:[TRANSLOCO_CONFIG]}]}]),null);class TranslocoService{loader;parser;missingHandler;interceptor;fallbackStrategy;langChanges$;translations=new Map;cache=new Map;firstFallbackLang;defaultLang="";availableLangs=[];isResolvedMissingOnce=!1;lang;failedLangs=new Set;events=new Subject.B;events$=this.events.asObservable();config;constructor(loader,parser,missingHandler,interceptor,userConfig,fallbackStrategy){this.loader=loader,this.parser=parser,this.missingHandler=missingHandler,this.interceptor=interceptor,this.fallbackStrategy=fallbackStrategy,this.loader||(this.loader=new DefaultLoader(this.translations)),service=this,this.config=JSON.parse(JSON.stringify(userConfig)),this.setAvailableLangs(this.config.availableLangs||[]),this.setFallbackLangForMissingTranslation(this.config),this.setDefaultLang(this.config.defaultLang),this.lang=new BehaviorSubject.t(this.getDefaultLang()),this.langChanges$=this.lang.asObservable(),this.events$.pipe(takeUntilDestroyed()).subscribe((e=>{"translationLoadSuccess"===e.type&&e.wasFailure&&this.setActiveLang(e.payload.langName)}))}getDefaultLang(){return this.defaultLang}setDefaultLang(lang){this.defaultLang=lang}getActiveLang(){return this.lang.getValue()}setActiveLang(lang){return this.parser.onLangChanged?.(lang),this.lang.next(lang),this.events.next({type:"langChanged",payload:getEventPayload(lang)}),this}setAvailableLangs(langs){this.availableLangs=langs}getAvailableLangs(){return this.availableLangs}load(path,options={}){const cached=this.cache.get(path);if(cached)return cached;let loadTranslation;const isScope=this._isLangScoped(path);let scope;isScope&&(scope=getScopeFromLang(path));const loadersOptions={path,mainLoader:this.loader,inlineLoader:options.inlineLoader,data:isScope?{scope}:void 0};if(this.useFallbackTranslation(path)){const fallback=isScope?`${scope}/${this.firstFallbackLang}`:this.firstFallbackLang,loaders=function getFallbacksLoaders({mainLoader,path,data,fallbackPath,inlineLoader}){return(fallbackPath?[path,fallbackPath]:[path]).map((path=>{const loader=resolveLoader({path,mainLoader,inlineLoader,data});return(0,from.H)(loader).pipe((0,map.T)((translation=>({translation,lang:path}))))}))}({...loadersOptions,fallbackPath:fallback});loadTranslation=(0,forkJoin.p)(loaders)}else{const loader=resolveLoader(loadersOptions);loadTranslation=(0,from.H)(loader)}const load$=loadTranslation.pipe(function retry(configOrCount){var config;void 0===configOrCount&&(configOrCount=1/0);var _a=(config=configOrCount&&"object"==typeof configOrCount?configOrCount:{count:configOrCount}).count,count=void 0===_a?1/0:_a,delay=config.delay,_b=config.resetOnSuccess,resetOnSuccess=void 0!==_b&&_b;return count<=0?identity.D:(0,lift.N)((function(source,subscriber){var innerSub,soFar=0,subscribeForRetry=function(){var syncUnsub=!1;innerSub=source.subscribe((0,OperatorSubscriber._)(subscriber,(function(value){resetOnSuccess&&(soFar=0),subscriber.next(value)}),void 0,(function(err){if(soFar++<count){var resub_1=function(){innerSub?(innerSub.unsubscribe(),innerSub=null,subscribeForRetry()):syncUnsub=!0};if(null!=delay){var notifier="number"==typeof delay?(0,timer.O)(delay):(0,innerFrom.Tg)(delay(err,soFar)),notifierSubscriber_1=(0,OperatorSubscriber._)(subscriber,(function(){notifierSubscriber_1.unsubscribe(),resub_1()}),(function(){subscriber.complete()}));notifier.subscribe(notifierSubscriber_1)}else resub_1()}else subscriber.error(err)}))),syncUnsub&&(innerSub.unsubscribe(),innerSub=null,subscribeForRetry())};subscribeForRetry()}))}(this.config.failedRetries),(0,tap.M)((translation=>{Array.isArray(translation)?translation.forEach((t=>{this.handleSuccess(t.lang,t.translation),t.lang!==path&&this.cache.set(t.lang,(0,of.of)({}))})):this.handleSuccess(path,translation)})),(0,catchError.W)((error=>(this.config.prodMode||console.error(`Error while trying to load "${path}"`,error),this.handleFailure(path,options)))),(0,shareReplay.t)(1));return this.cache.set(path,load$),load$}translate(key,params={},lang=this.getActiveLang()){if(!key)return key;const{scope,resolveLang}=this.resolveLangAndScope(lang);if(Array.isArray(key))return key.map((k=>this.translate(scope?`${scope}.${k}`:k,params,resolveLang)));key=scope?`${scope}.${key}`:key;const translation=this.getTranslation(resolveLang),value=translation[key];return value?this.parser.transpile({value,params,translation,key}):this._handleMissingKey(key,value,params)}selectTranslate(key,params,lang,_isObject=!1){let inlineLoader;const load=(lang,options)=>this.load(lang,options).pipe((0,map.T)((()=>_isObject?this.translateObject(key,params,lang):this.translate(key,params,lang))));if(isNil(lang))return this.langChanges$.pipe((0,switchMap.n)((lang=>load(lang))));if(isScopeObject(lang=Array.isArray(lang)?lang[0]:lang)){const providerScope=lang;lang=providerScope.scope,inlineLoader=resolveInlineLoader(providerScope,providerScope.scope)}if(this.isLang(lang)||this.isScopeWithLang(lang))return load(lang);const scope=lang;return this.langChanges$.pipe((0,switchMap.n)((lang=>load(`${scope}/${lang}`,{inlineLoader}))))}isScopeWithLang(lang){return this.isLang(getLangFromScope(lang))}translateObject(key,params={},lang=this.getActiveLang()){if(isString(key)||Array.isArray(key)){const{resolveLang,scope}=this.resolveLangAndScope(lang);if(Array.isArray(key))return key.map((k=>this.translateObject(scope?`${scope}.${k}`:k,params,resolveLang)));const translation=this.getTranslation(resolveLang);key=scope?`${scope}.${key}`:key;const value=function jsverse_transloco_unflatten(obj){return unflatten(obj)}(this.getObjectByKey(translation,key));return function isEmpty(collection){return 0===size(collection)}(value)?this.translate(key,params,lang):this.parser.transpile({value,params,translation,key})}const translations=[];for(const[_key,_params]of this.getEntries(key))translations.push(this.translateObject(_key,_params,lang));return translations}selectTranslateObject(key,params,lang){if(isString(key)||Array.isArray(key))return this.selectTranslate(key,params,lang,!0);const[[firstKey,firstParams],...rest]=this.getEntries(key);return this.selectTranslateObject(firstKey,firstParams,lang).pipe((0,map.T)((value=>{const translations=[value];for(const[_key,_params]of rest)translations.push(this.translateObject(_key,_params,lang));return translations})))}getTranslation(langOrScope){if(langOrScope){if(this.isLang(langOrScope))return this.translations.get(langOrScope)||{};{const{scope,resolveLang}=this.resolveLangAndScope(langOrScope),translation=this.translations.get(resolveLang)||{};return this.getObjectByKey(translation,scope)}}return this.translations}selectTranslation(lang){let language$=this.langChanges$;if(lang){const scopeLangSpecified=getLangFromScope(lang)!==lang;language$=this.isLang(lang)||scopeLangSpecified?(0,of.of)(lang):this.langChanges$.pipe((0,map.T)((currentLang=>`${lang}/${currentLang}`)))}return language$.pipe((0,switchMap.n)((language=>this.load(language).pipe((0,map.T)((()=>this.getTranslation(language)))))))}setTranslation(translation,lang=this.getActiveLang(),options={}){const mergedOptions={merge:!0,emitChange:!0,...options},scope=getScopeFromLang(lang);let flattenScopeOrTranslation=translation;if(scope){const key=this.getMappedScope(scope);flattenScopeOrTranslation=jsverse_transloco_flatten({[key]:translation})}const currentLang=scope?getLangFromScope(lang):lang,mergedTranslation={...mergedOptions.merge&&this.getTranslation(currentLang),...flattenScopeOrTranslation},flattenTranslation=this.config.flatten.aot?mergedTranslation:jsverse_transloco_flatten(mergedTranslation),withHook=this.interceptor.preSaveTranslation(flattenTranslation,currentLang);this.translations.set(currentLang,withHook),mergedOptions.emitChange&&this.setActiveLang(this.getActiveLang())}setTranslationKey(key,value,options={}){const lang=options.lang||this.getActiveLang(),withHook=this.interceptor.preSaveTranslationKey(key,value,lang),newValue={[key]:withHook};this.setTranslation(newValue,lang,{...options,merge:!0})}setFallbackLangForMissingTranslation({fallbackLang}){const lang=Array.isArray(fallbackLang)?fallbackLang[0]:fallbackLang;fallbackLang&&this.useFallbackTranslation(lang)&&(this.firstFallbackLang=lang)}_handleMissingKey(key,value,params){if(this.config.missingHandler.allowEmpty&&""===value)return"";if(!this.isResolvedMissingOnce&&this.useFallbackTranslation()){this.isResolvedMissingOnce=!0;const fallbackValue=this.translate(key,params,this.firstFallbackLang);return this.isResolvedMissingOnce=!1,fallbackValue}return this.missingHandler.handle(key,this.getMissingHandlerData(),params)}_isLangScoped(lang){return-1===this.getAvailableLangsIds().indexOf(lang)}isLang(lang){return-1!==this.getAvailableLangsIds().indexOf(lang)}_loadDependencies(path,inlineLoader){const mainLang=getLangFromScope(path);return this._isLangScoped(path)&&!this.isLoadedTranslation(mainLang)?(0,combineLatest.z)([this.load(mainLang),this.load(path,{inlineLoader})]):this.load(path,{inlineLoader})}_completeScopeWithLang(langOrScope){return this._isLangScoped(langOrScope)&&!this.isLang(getLangFromScope(langOrScope))?`${langOrScope}/${this.getActiveLang()}`:langOrScope}_setScopeAlias(scope,alias){this.config.scopeMapping||(this.config.scopeMapping={}),this.config.scopeMapping[scope]=alias}ngOnDestroy(){this.cache.clear()}isLoadedTranslation(lang){return size(this.getTranslation(lang))}getAvailableLangsIds(){return isString(this.getAvailableLangs()[0])?this.getAvailableLangs():this.getAvailableLangs().map((l=>l.id))}getMissingHandlerData(){return{...this.config,activeLang:this.getActiveLang(),availableLangs:this.availableLangs,defaultLang:this.defaultLang}}useFallbackTranslation(lang){return this.config.missingHandler.useFallbackTranslation&&lang!==this.firstFallbackLang}handleSuccess(lang,translation){this.setTranslation(translation,lang,{emitChange:!1}),this.events.next({wasFailure:!!this.failedLangs.size,type:"translationLoadSuccess",payload:getEventPayload(lang)}),this.failedLangs.forEach((l=>this.cache.delete(l))),this.failedLangs.clear()}handleFailure(lang,loadOptions){isNil(loadOptions.failedCounter)&&(loadOptions.failedCounter=0,loadOptions.fallbackLangs||(loadOptions.fallbackLangs=this.fallbackStrategy.getNextLangs(lang)));const splitted=lang.split("/"),nextLang=loadOptions.fallbackLangs[loadOptions.failedCounter];if(this.failedLangs.add(lang),this.cache.has(nextLang))return this.handleSuccess(nextLang,this.getTranslation(nextLang)),empty.w;const isFallbackLang=nextLang===splitted[splitted.length-1];if(!nextLang||isFallbackLang){let msg="Unable to load translation and all the fallback languages";throw splitted.length>1&&(msg+=", did you misspelled the scope name?"),new Error(msg)}let resolveLang=nextLang;return splitted.length>1&&(splitted[splitted.length-1]=nextLang,resolveLang=splitted.join("/")),loadOptions.failedCounter++,this.events.next({type:"translationLoadFailure",payload:getEventPayload(lang)}),this.load(resolveLang,loadOptions)}getMappedScope(scope){const{scopeMapping={},scopes={keepCasing:!1}}=this.config;return scopeMapping[scope]||(scopes.keepCasing?scope:toCamelCase(scope))}resolveLangAndScope(lang){let scope,resolveLang=lang;if(this._isLangScoped(lang)){const langFromScope=getLangFromScope(lang),hasLang=this.isLang(langFromScope);resolveLang=hasLang?langFromScope:this.getActiveLang(),scope=this.getMappedScope(hasLang?getScopeFromLang(lang):lang)}return{scope,resolveLang}}getObjectByKey(translation,key){const result={},prefix=`${key}.`;for(const currentKey in translation)currentKey.startsWith(prefix)&&(result[currentKey.replace(prefix,"")]=translation[currentKey]);return result}getEntries(key){return key instanceof Map?key.entries():Object.entries(key)}static ɵfac=function TranslocoService_Factory(t){return new(t||TranslocoService)(core["ɵɵinject"](TRANSLOCO_LOADER,8),core["ɵɵinject"](TRANSLOCO_TRANSPILER),core["ɵɵinject"](TRANSLOCO_MISSING_HANDLER),core["ɵɵinject"](TRANSLOCO_INTERCEPTOR),core["ɵɵinject"](TRANSLOCO_CONFIG),core["ɵɵinject"](TRANSLOCO_FALLBACK_STRATEGY))};static ɵprov=core["ɵɵdefineInjectable"]({token:TranslocoService,factory:TranslocoService.ɵfac,providedIn:"root"})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](TranslocoService,[{type:core.Injectable,args:[{providedIn:"root"}]}],(()=>[{type:void 0,decorators:[{type:core.Optional},{type:core.Inject,args:[TRANSLOCO_LOADER]}]},{type:void 0,decorators:[{type:core.Inject,args:[TRANSLOCO_TRANSPILER]}]},{type:void 0,decorators:[{type:core.Inject,args:[TRANSLOCO_MISSING_HANDLER]}]},{type:void 0,decorators:[{type:core.Inject,args:[TRANSLOCO_INTERCEPTOR]}]},{type:void 0,decorators:[{type:core.Inject,args:[TRANSLOCO_CONFIG]}]},{type:void 0,decorators:[{type:core.Inject,args:[TRANSLOCO_FALLBACK_STRATEGY]}]}]),null);class TranslocoLoaderComponent{html;static ɵfac=function TranslocoLoaderComponent_Factory(t){return new(t||TranslocoLoaderComponent)};static ɵcmp=core["ɵɵdefineComponent"]({type:TranslocoLoaderComponent,selectors:[["ng-component"]],inputs:{html:"html"},standalone:!0,features:[core["ɵɵStandaloneFeature"]],decls:1,vars:1,consts:[[1,"transloco-loader-template",3,"innerHTML"]],template:function TranslocoLoaderComponent_Template(rf,ctx){1&rf&&core["ɵɵelement"](0,"div",0),2&rf&&core["ɵɵproperty"]("innerHTML",ctx.html,core["ɵɵsanitizeHtml"])},encapsulation:2})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](TranslocoLoaderComponent,[{type:core.Component,args:[{template:'\n    <div class="transloco-loader-template" [innerHTML]="html"></div>\n  ',standalone:!0}]}],null,{html:[{type:core.Input}]});class TemplateHandler{view;vcr;constructor(view,vcr){this.view=view,this.vcr=vcr}attachView(){if(this.view instanceof core.TemplateRef)this.vcr.createEmbeddedView(this.view);else if(isString(this.view)){const componentRef=this.vcr.createComponent(TranslocoLoaderComponent);componentRef.instance.html=this.view,componentRef.hostView.detectChanges()}else this.vcr.createComponent(this.view)}detachView(){this.vcr.clear()}}const TRANSLOCO_LANG=new core.InjectionToken("TRANSLOCO_LANG"),TRANSLOCO_LOADING_TEMPLATE=new core.InjectionToken("TRANSLOCO_LOADING_TEMPLATE"),TRANSLOCO_SCOPE=new core.InjectionToken("TRANSLOCO_SCOPE");class LangResolver{initialized=!1;resolve({inline,provider,active}){let lang=active;if(this.initialized)return lang=active,lang;if(provider){const[,extracted]=getPipeValue(provider,"static");lang=extracted}if(inline){const[,extracted]=getPipeValue(inline,"static");lang=extracted}return this.initialized=!0,lang}resolveLangBasedOnScope(lang){return getScopeFromLang(lang)?getLangFromScope(lang):lang}resolveLangPath(lang,scope){return scope?`${scope}/${lang}`:lang}}class ScopeResolver{service;constructor(service){this.service=service}resolve(params){const{inline,provider}=params;if(inline)return inline;if(provider){if(isScopeObject(provider)){const{scope,alias=this.service.config.scopes.keepCasing?scope:toCamelCase(scope)}=provider;return this.service._setScopeAlias(scope,alias),scope}return provider}}}class TranslocoDirective{destroyRef=(0,core.inject)(core.DestroyRef);service=(0,core.inject)(TranslocoService);tpl=(0,core.inject)(core.TemplateRef,{optional:!0});providerLang=(0,core.inject)(TRANSLOCO_LANG,{optional:!0});providerScope=(0,core.inject)(TRANSLOCO_SCOPE,{optional:!0});providedLoadingTpl=(0,core.inject)(TRANSLOCO_LOADING_TEMPLATE,{optional:!0});cdr=(0,core.inject)(core.ChangeDetectorRef);host=(0,core.inject)(core.ElementRef);vcr=(0,core.inject)(core.ViewContainerRef);renderer=(0,core.inject)(core.Renderer2);view;memo=new Map;key;params={};inlineScope;inlineRead;prefix;inlineLang;inlineTpl;currentLang;loaderTplHandler;initialized=!1;path;langResolver=new LangResolver;scopeResolver=new ScopeResolver(this.service);strategy=null===this.tpl?"attribute":"structural";static ngTemplateContextGuard(dir,ctx){return!0}ngOnInit(){const listenToLangChange=shouldListenToLangChanges(this.service,this.providerLang||this.inlineLang);if(this.service.langChanges$.pipe((0,switchMap.n)((activeLang=>{const lang=this.langResolver.resolve({inline:this.inlineLang,provider:this.providerLang,active:activeLang});return Array.isArray(this.providerScope)?(0,forkJoin.p)(this.providerScope.map((providerScope=>this.resolveScope(lang,providerScope)))):this.resolveScope(lang,this.providerScope)})),listenOrNotOperator(listenToLangChange),takeUntilDestroyed(this.destroyRef)).subscribe((()=>{this.currentLang=this.langResolver.resolveLangBasedOnScope(this.path),"attribute"===this.strategy?this.attributeStrategy():this.structuralStrategy(this.currentLang,this.prefix||this.inlineRead),this.cdr.markForCheck(),this.initialized=!0})),!this.initialized){const loadingContent=this.resolveLoadingContent();loadingContent&&(this.loaderTplHandler=new TemplateHandler(loadingContent,this.vcr),this.loaderTplHandler.attachView())}}ngOnChanges(changes){if("attribute"===this.strategy){Object.keys(changes).some((v=>!changes[v].firstChange))&&this.attributeStrategy()}}attributeStrategy(){this.detachLoader(),this.renderer.setProperty(this.host.nativeElement,"innerText",this.service.translate(this.key,this.params,this.currentLang))}structuralStrategy(lang,prefix){this.memo.clear();const translateFn=this.getTranslateFn(lang,prefix);this.view?(this.view.context.$implicit=translateFn,this.view.context.currentLang=this.currentLang):(this.detachLoader(),this.view=this.vcr.createEmbeddedView(this.tpl,{$implicit:translateFn,currentLang:this.currentLang}))}getTranslateFn(lang,prefix){return(key,params)=>{const withPrefix=prefix?`${prefix}.${key}`:key,memoKey=params?`${withPrefix}${JSON.stringify(params)}`:withPrefix;return this.memo.has(memoKey)||this.memo.set(memoKey,this.service.translate(withPrefix,params,lang)),this.memo.get(memoKey)}}resolveLoadingContent(){return this.inlineTpl||this.providedLoadingTpl}ngOnDestroy(){this.memo.clear()}detachLoader(){this.loaderTplHandler?.detachView()}resolveScope(lang,providerScope){const resolvedScope=this.scopeResolver.resolve({inline:this.inlineScope,provider:providerScope});this.path=this.langResolver.resolveLangPath(lang,resolvedScope);const inlineLoader=resolveInlineLoader(providerScope,resolvedScope);return this.service._loadDependencies(this.path,inlineLoader)}static ɵfac=function TranslocoDirective_Factory(t){return new(t||TranslocoDirective)};static ɵdir=core["ɵɵdefineDirective"]({type:TranslocoDirective,selectors:[["","transloco",""]],inputs:{key:[core["ɵɵInputFlags"].None,"transloco","key"],params:[core["ɵɵInputFlags"].None,"translocoParams","params"],inlineScope:[core["ɵɵInputFlags"].None,"translocoScope","inlineScope"],inlineRead:[core["ɵɵInputFlags"].None,"translocoRead","inlineRead"],prefix:[core["ɵɵInputFlags"].None,"translocoPrefix","prefix"],inlineLang:[core["ɵɵInputFlags"].None,"translocoLang","inlineLang"],inlineTpl:[core["ɵɵInputFlags"].None,"translocoLoadingTpl","inlineTpl"]},standalone:!0,features:[core["ɵɵNgOnChangesFeature"]]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](TranslocoDirective,[{type:core.Directive,args:[{selector:"[transloco]",standalone:!0}]}],null,{key:[{type:core.Input,args:["transloco"]}],params:[{type:core.Input,args:["translocoParams"]}],inlineScope:[{type:core.Input,args:["translocoScope"]}],inlineRead:[{type:core.Input,args:["translocoRead"]}],prefix:[{type:core.Input,args:["translocoPrefix"]}],inlineLang:[{type:core.Input,args:["translocoLang"]}],inlineTpl:[{type:core.Input,args:["translocoLoadingTpl"]}]});class TranslocoPipe{service;providerScope;providerLang;cdr;subscription=null;lastValue="";lastKey;path;langResolver=new LangResolver;scopeResolver;constructor(service,providerScope,providerLang,cdr){this.service=service,this.providerScope=providerScope,this.providerLang=providerLang,this.cdr=cdr,this.scopeResolver=new ScopeResolver(this.service)}transform(key,params,inlineLang){if(!key)return key;const keyName=params?`${key}${JSON.stringify(params)}`:key;if(keyName===this.lastKey)return this.lastValue;this.lastKey=keyName,this.subscription?.unsubscribe();const listenToLangChange=shouldListenToLangChanges(this.service,this.providerLang||inlineLang);return this.subscription=this.service.langChanges$.pipe((0,switchMap.n)((activeLang=>{const lang=this.langResolver.resolve({inline:inlineLang,provider:this.providerLang,active:activeLang});return Array.isArray(this.providerScope)?(0,forkJoin.p)(this.providerScope.map((providerScope=>this.resolveScope(lang,providerScope)))):this.resolveScope(lang,this.providerScope)})),listenOrNotOperator(listenToLangChange)).subscribe((()=>this.updateValue(key,params))),this.lastValue}ngOnDestroy(){this.subscription?.unsubscribe(),this.subscription=null}updateValue(key,params){const lang=this.langResolver.resolveLangBasedOnScope(this.path);this.lastValue=this.service.translate(key,params,lang),this.cdr.markForCheck()}resolveScope(lang,providerScope){const resolvedScope=this.scopeResolver.resolve({inline:void 0,provider:providerScope});this.path=this.langResolver.resolveLangPath(lang,resolvedScope);const inlineLoader=resolveInlineLoader(providerScope,resolvedScope);return this.service._loadDependencies(this.path,inlineLoader)}static ɵfac=function TranslocoPipe_Factory(t){return new(t||TranslocoPipe)(core["ɵɵdirectiveInject"](TranslocoService,16),core["ɵɵdirectiveInject"](TRANSLOCO_SCOPE,24),core["ɵɵdirectiveInject"](TRANSLOCO_LANG,24),core["ɵɵdirectiveInject"](core.ChangeDetectorRef,16))};static ɵpipe=core["ɵɵdefinePipe"]({name:"transloco",type:TranslocoPipe,pure:!1,standalone:!0})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](TranslocoPipe,[{type:core.Pipe,args:[{name:"transloco",pure:!1,standalone:!0}]}],(()=>[{type:TranslocoService},{type:void 0,decorators:[{type:core.Optional},{type:core.Inject,args:[TRANSLOCO_SCOPE]}]},{type:void 0,decorators:[{type:core.Optional},{type:core.Inject,args:[TRANSLOCO_LANG]}]},{type:core.ChangeDetectorRef}]),null);const decl=[TranslocoDirective,TranslocoPipe];class TranslocoModule{static ɵfac=function TranslocoModule_Factory(t){return new(t||TranslocoModule)};static ɵmod=core["ɵɵdefineNgModule"]({type:TranslocoModule,imports:[TranslocoDirective,TranslocoPipe],exports:[TranslocoDirective,TranslocoPipe]});static ɵinj=core["ɵɵdefineInjector"]({})}function provideTransloco(options){const providers=[(transpiler=DefaultTranspiler,(0,core.makeEnvironmentProviders)([{provide:TRANSLOCO_TRANSPILER,useClass:transpiler,deps:[TRANSLOCO_CONFIG]}])),provideTranslocoMissingHandler(DefaultMissingHandler),(interceptor=DefaultInterceptor,(0,core.makeEnvironmentProviders)([{provide:TRANSLOCO_INTERCEPTOR,useClass:interceptor}])),(strategy=DefaultFallbackStrategy,(0,core.makeEnvironmentProviders)([{provide:TRANSLOCO_FALLBACK_STRATEGY,useClass:strategy,deps:[TRANSLOCO_CONFIG]}]))];var strategy,interceptor,transpiler;return options.config&&providers.push(function provideTranslocoConfig(config){return(0,core.makeEnvironmentProviders)([{provide:TRANSLOCO_CONFIG,useValue:translocoConfig(config)}])}(options.config)),options.loader&&providers.push(function provideTranslocoLoader(loader){return(0,core.makeEnvironmentProviders)([{provide:TRANSLOCO_LOADER,useClass:loader}])}(options.loader)),providers}function provideTranslocoMissingHandler(handler){return(0,core.makeEnvironmentProviders)([{provide:TRANSLOCO_MISSING_HANDLER,useClass:handler}])}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](TranslocoModule,[{type:core.NgModule,args:[{imports:decl,exports:decl}]}],null,null);const TRANSLOCO_TEST_LANGS=new core.InjectionToken("TRANSLOCO_TEST_LANGS - Available testing languages"),TRANSLOCO_TEST_OPTIONS=new core.InjectionToken("TRANSLOCO_TEST_OPTIONS - Testing options");class TestingLoader{langs;constructor(langs){this.langs=langs}getTranslation(lang){return(0,of.of)(this.langs[lang])}static ɵfac=function TestingLoader_Factory(t){return new(t||TestingLoader)(core["ɵɵinject"](TRANSLOCO_TEST_LANGS))};static ɵprov=core["ɵɵdefineInjectable"]({token:TestingLoader,factory:TestingLoader.ɵfac})}function initTranslocoService(service,langs={},options){return()=>options.preloadLangs?Promise.all(Object.keys(langs).map((lang=>service.load(lang).toPromise()))):Promise.resolve()}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](TestingLoader,[{type:core.Injectable}],(()=>[{type:void 0,decorators:[{type:core.Inject,args:[TRANSLOCO_TEST_LANGS]}]}]),null);class TranslocoTestingModule{static forRoot(options){return{ngModule:TranslocoTestingModule,providers:[provideTransloco({loader:TestingLoader,config:{prodMode:!0,missingHandler:{logMissingKey:!1},...options.translocoConfig}}),{provide:TRANSLOCO_TEST_LANGS,useValue:options.langs},{provide:TRANSLOCO_TEST_OPTIONS,useValue:options},{provide:core.APP_INITIALIZER,useFactory:initTranslocoService,deps:[TranslocoService,TRANSLOCO_TEST_LANGS,TRANSLOCO_TEST_OPTIONS],multi:!0}]}}static ɵfac=function TranslocoTestingModule_Factory(t){return new(t||TranslocoTestingModule)};static ɵmod=core["ɵɵdefineNgModule"]({type:TranslocoTestingModule,exports:[TranslocoModule]});static ɵinj=core["ɵɵdefineInjector"]({imports:[TranslocoModule]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](TranslocoTestingModule,[{type:core.NgModule,args:[{exports:[TranslocoModule]}]}],null,null)},"./node_modules/rxjs/dist/esm5/internal/lastValueFrom.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{s:()=>lastValueFrom});var _util_EmptyError__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/EmptyError.js");function lastValueFrom(source,config){var hasConfig="object"==typeof config;return new Promise((function(resolve,reject){var _value,_hasValue=!1;source.subscribe({next:function(value){_value=value,_hasValue=!0},error:reject,complete:function(){_hasValue?resolve(_value):hasConfig?resolve(config.defaultValue):reject(new _util_EmptyError__WEBPACK_IMPORTED_MODULE_0__.G)}})}))}},"./node_modules/rxjs/dist/esm5/internal/operators/catchError.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{W:()=>catchError});var _observable_innerFrom__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/innerFrom.js"),_OperatorSubscriber__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/OperatorSubscriber.js"),_util_lift__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/lift.js");function catchError(selector){return(0,_util_lift__WEBPACK_IMPORTED_MODULE_0__.N)((function(source,subscriber){var handledResult,innerSub=null,syncUnsub=!1;innerSub=source.subscribe((0,_OperatorSubscriber__WEBPACK_IMPORTED_MODULE_1__._)(subscriber,void 0,void 0,(function(err){handledResult=(0,_observable_innerFrom__WEBPACK_IMPORTED_MODULE_2__.Tg)(selector(err,catchError(selector)(source))),innerSub?(innerSub.unsubscribe(),innerSub=null,handledResult.subscribe(subscriber)):syncUnsub=!0}))),syncUnsub&&(innerSub.unsubscribe(),innerSub=null,handledResult.subscribe(subscriber))}))}},"./node_modules/rxjs/dist/esm5/internal/operators/delay.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{c:()=>delay});var scheduler_async=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/scheduler/async.js"),concat=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/concat.js"),take=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/take.js"),lift=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/lift.js"),OperatorSubscriber=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/OperatorSubscriber.js"),noop=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/noop.js");var mapTo=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/mapTo.js"),mergeMap=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/mergeMap.js"),innerFrom=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/innerFrom.js");function delayWhen(delayDurationSelector,subscriptionDelay){return subscriptionDelay?function(source){return(0,concat.x)(subscriptionDelay.pipe((0,take.s)(1),function ignoreElements(){return(0,lift.N)((function(source,subscriber){source.subscribe((0,OperatorSubscriber._)(subscriber,noop.l))}))}()),source.pipe(delayWhen(delayDurationSelector)))}:(0,mergeMap.Z)((function(value,index){return(0,innerFrom.Tg)(delayDurationSelector(value,index)).pipe((0,take.s)(1),(0,mapTo.u)(value))}))}var timer=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/timer.js");function delay(due,scheduler){void 0===scheduler&&(scheduler=scheduler_async.E);var duration=(0,timer.O)(due,scheduler);return delayWhen((function(){return duration}))}},"./node_modules/rxjs/dist/esm5/internal/operators/mapTo.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{u:()=>mapTo});var _map__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/map.js");function mapTo(value){return(0,_map__WEBPACK_IMPORTED_MODULE_0__.T)((function(){return value}))}},"./node_modules/rxjs/dist/esm5/internal/operators/throttle.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{n:()=>throttle});var _util_lift__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/lift.js"),_OperatorSubscriber__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/OperatorSubscriber.js"),_observable_innerFrom__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/innerFrom.js");function throttle(durationSelector,config){return(0,_util_lift__WEBPACK_IMPORTED_MODULE_0__.N)((function(source,subscriber){var _a=null!=config?config:{},_b=_a.leading,leading=void 0===_b||_b,_c=_a.trailing,trailing=void 0!==_c&&_c,hasValue=!1,sendValue=null,throttled=null,isComplete=!1,endThrottling=function(){null==throttled||throttled.unsubscribe(),throttled=null,trailing&&(send(),isComplete&&subscriber.complete())},cleanupThrottling=function(){throttled=null,isComplete&&subscriber.complete()},startThrottle=function(value){return throttled=(0,_observable_innerFrom__WEBPACK_IMPORTED_MODULE_1__.Tg)(durationSelector(value)).subscribe((0,_OperatorSubscriber__WEBPACK_IMPORTED_MODULE_2__._)(subscriber,endThrottling,cleanupThrottling))},send=function(){if(hasValue){hasValue=!1;var value=sendValue;sendValue=null,subscriber.next(value),!isComplete&&startThrottle(value)}};source.subscribe((0,_OperatorSubscriber__WEBPACK_IMPORTED_MODULE_2__._)(subscriber,(function(value){hasValue=!0,sendValue=value,(!throttled||throttled.closed)&&(leading?send():startThrottle(value))}),(function(){isComplete=!0,(!(trailing&&hasValue&&throttled)||throttled.closed)&&subscriber.complete()})))}))}}}]);