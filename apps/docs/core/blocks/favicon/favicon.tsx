import { useTheme } from "next-themes"

export default function Favicon() {
  const { resolvedTheme } = useTheme()
  const fill = resolvedTheme === "dark" ? "#fff" : "#000"
  const fillRect = resolvedTheme === "dark" ? "#000" : "#fff"

  const svgCode = `
    <svg xmlns="http://www.w3.org/2000/svg" fill="${fill}" width="80" height="60" viewBox="0 0 80 60">
      <rect width="80" height="60" fill="${fillRect}" rx="8"/>
      <path fill="${fill}" d="m26.87 24.123-2.95 2.197c-1.387-1.2-3.187-1.43-4.178-1.43-.997 0-2.046.288-2.205 1.004-.159.694.492 1.236 1.605 1.54 1.272.34 2.422.643 4.207 1.15 2.646.758 4.46 1.9 4.46 4.553 0 3.665-3.252 5.56-7.604 5.56s-7.316-2.264-8.205-3.32l3.116-2.327c2.19 1.908 3.708 2.176 4.98 2.176 1.46 0 2.827-.311 3-1.135.145-.665-.404-1.193-1.648-1.482-1.402-.326-2.595-.586-3.918-.933-3.593-.939-4.605-3.028-4.605-4.906 0-2.581 2.4-5.234 6.803-5.234 4.503 0 7.142 2.579 7.142 2.587Zm18.788-2.328H32.516v16.417h13.38v-3.788h-8.768v-2.646h6.036v-3.621h-6.036V25.54h8.523v-3.745h.007ZM29.118 42h1.02V18h-1.02v24Zm18.506 0h1.02V18h-1.02v24Zm3.398-3.788h10.554c2.82 0 5.11-1.699 5.11-4.424 0-2.125-1.387-3.535-3.339-4.157a.837.837 0 0 0-.188-.021c.065-.008.13-.015.188-.037 1.12-.44 2.35-1.619 2.35-3.621 0-2.545-2.249-4.164-5.025-4.164h-9.657l.007 16.424Zm4.633-13.005h3.687c.846 0 1.533.673 1.533 1.439s-.687 1.446-1.533 1.446h-3.687v-2.885Zm4.504 9.362h-4.51v-2.993h4.51c.795 0 1.446.643 1.446 1.496 0 .846-.644 1.497-1.446 1.497Z"/>
    </svg>
  `

  const faviconUrl = `data:image/svg+xml,${encodeURIComponent(svgCode)}`

  return (
    <>
      <link rel="icon" type="image/svg+xml" href={faviconUrl} />
    </>
  )
}
