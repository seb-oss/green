{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "required": ["$metadata", "tokens"],
  "properties": {
    "$metadata": {
      "type": "object",
      "required": ["tokenSetOrder"],
      "properties": {
        "tokenSetOrder": {
          "type": "array",
          "items": {
            "type": "string",
            "enum": [
              "colors",
              "typography",
              "spacing",
              "radius",
              "shadows",
              "viewport",
              "motion"
            ]
          }
        }
      }
    },
    "tokens": {
      "type": "object",
      "required": [
        "colors",
        "typography",
        "spacing",
        "radius",
        "shadows",
        "viewport",
        "motion"
      ],
      "properties": {
        "colors": {
          "type": "object",
          "required": ["background", "border", "state"],
          "properties": {
            "background": {
              "type": "object",
              "required": ["L1", "L2"],
              "properties": {
                "L1": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "required": ["token", "variable", "value"],
                    "properties": {
                      "token": {
                        "type": "string"
                      },
                      "variable": {
                        "type": "string",
                        "pattern": "^var\\(--gds-sys-color-l1-.*\\)$"
                      },
                      "value": {
                        "type": "object",
                        "required": ["light", "dark"],
                        "properties": {
                          "light": {
                            "oneOf": [
                              {
                                "type": "string",
                                "pattern": "^#[0-9a-fA-F]{6}$"
                              },
                              {
                                "type": "object",
                                "required": ["value", "alpha"],
                                "properties": {
                                  "value": {
                                    "type": "string",
                                    "pattern": "^#[0-9a-fA-F]{6}$"
                                  },
                                  "alpha": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 1
                                  }
                                }
                              }
                            ]
                          },
                          "dark": {
                            "oneOf": [
                              {
                                "type": "string",
                                "pattern": "^#[0-9a-fA-F]{6}$"
                              },
                              {
                                "type": "object",
                                "required": ["value", "alpha"],
                                "properties": {
                                  "value": {
                                    "type": "string",
                                    "pattern": "^#[0-9a-fA-F]{6}$"
                                  },
                                  "alpha": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 1
                                  }
                                }
                              }
                            ]
                          }
                        }
                      }
                    }
                  }
                },
                "L2": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "required": ["token", "variable", "value"],
                    "properties": {
                      "token": {
                        "type": "string"
                      },
                      "variable": {
                        "type": "string",
                        "pattern": "^var\\(--gds-sys-color-l2-.*\\)$"
                      },
                      "value": {
                        "type": "object",
                        "required": ["light", "dark"],
                        "properties": {
                          "light": {
                            "type": "string",
                            "pattern": "^#[0-9a-fA-F]{6}$"
                          },
                          "dark": {
                            "type": "string",
                            "pattern": "^#[0-9a-fA-F]{6}$"
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "border": {
              "type": "array",
              "items": {
                "type": "object",
                "required": ["token", "variable", "value"],
                "properties": {
                  "token": {
                    "type": "string"
                  },
                  "variable": {
                    "type": "string",
                    "pattern": "^var\\(--gds-sys-color-border-.*\\)$"
                  },
                  "value": {
                    "type": "object",
                    "required": ["light", "dark"],
                    "properties": {
                      "light": {
                        "type": "string"
                      },
                      "dark": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            },
            "state": {
              "type": "array",
              "items": {
                "type": "object",
                "required": ["token", "variable", "value"],
                "properties": {
                  "token": {
                    "type": "string"
                  },
                  "variable": {
                    "type": "string",
                    "pattern": "^var\\(--gds-sys-color-state-.*\\)$"
                  },
                  "value": {
                    "type": "object",
                    "required": ["light", "dark", "alpha"],
                    "properties": {
                      "light": {
                        "type": "string"
                      },
                      "dark": {
                        "type": "string"
                      },
                      "alpha": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "typography": {
          "type": "array",
          "items": {
            "type": "object",
            "required": ["token", "variable", "value"],
            "properties": {
              "token": {
                "type": "string"
              },
              "variable": {
                "type": "string",
                "pattern": "^var\\(--gds-sys-text-.*\\)$"
              },
              "value": {
                "type": "object",
                "required": [
                  "fontFamily",
                  "fontSize",
                  "lineHeight",
                  "fontWeight"
                ],
                "properties": {
                  "fontFamily": {
                    "type": "string"
                  },
                  "fontSize": {
                    "type": "string",
                    "pattern": "^[0-9]+px$"
                  },
                  "lineHeight": {
                    "type": "string",
                    "pattern": "^[0-9]+px$"
                  },
                  "fontWeight": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "spacing": {
          "type": "array",
          "items": {
            "type": "object",
            "required": ["token", "variable", "value"],
            "properties": {
              "token": {
                "type": "string"
              },
              "variable": {
                "type": "string",
                "pattern": "^var\\(--gds-sys-space-.*\\)$"
              },
              "value": {
                "type": "string",
                "pattern": "^[0-9]+px$"
              }
            }
          }
        },
        "radius": {
          "type": "array",
          "items": {
            "type": "object",
            "required": ["token", "variable", "value"],
            "properties": {
              "token": {
                "type": "string"
              },
              "variable": {
                "type": "string",
                "pattern": "^var\\(--gds-sys-radius-.*\\)$"
              },
              "value": {
                "type": "string"
              }
            }
          }
        },
        "shadows": {
          "type": "array",
          "items": {
            "type": "object",
            "required": ["token", "variable", "value"],
            "properties": {
              "token": {
                "type": "string"
              },
              "variable": {
                "type": "string"
              },
              "value": {
                "type": "string"
              }
            }
          }
        },
        "viewport": {
          "type": "array",
          "items": {
            "type": "object",
            "required": ["token", "variable", "value"],
            "properties": {
              "token": {
                "type": "string"
              },
              "variable": {
                "type": "string",
                "pattern": "^var\\(--gds-sys-viewport-.*\\)$"
              },
              "value": {
                "type": "string",
                "pattern": "^[0-9]+px$"
              }
            }
          }
        },
        "motion": {
          "type": "object",
          "required": ["duration", "easing"],
          "properties": {
            "duration": {
              "type": "array",
              "items": {
                "type": "object",
                "required": ["token", "variable", "value"],
                "properties": {
                  "token": {
                    "type": "string"
                  },
                  "variable": {
                    "type": "string",
                    "pattern": "^var\\(--gds-sys-motion-duration-.*\\)$"
                  },
                  "value": {
                    "type": "string",
                    "pattern": "^[0-9]+\\.[0-9]+s$"
                  }
                }
              }
            },
            "easing": {
              "type": "array",
              "items": {
                "type": "object",
                "required": ["token", "variable", "value"],
                "properties": {
                  "token": {
                    "type": "string"
                  },
                  "variable": {
                    "type": "string",
                    "pattern": "^var\\(--gds-sys-motion-easing-.*\\)$"
                  },
                  "value": {
                    "type": "string",
                    "pattern": "^cubic-bezier\\([0-9]+\\.[0-9]+, [0-9]+, [0-9]+\\.[0-9]+, [0-9]+\\)$"
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}
