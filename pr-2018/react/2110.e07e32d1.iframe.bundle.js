"use strict";(self.webpackChunkgreen=self.webpackChunkgreen||[]).push([[2110],{"./libs/react/src/lib/table/components/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{XI:()=>Table,BF:()=>TableBody,nA:()=>TableCell,A0:()=>TableHeader,M_:()=>TableHeaderCell,Hj:()=>TableRow,iY:()=>onRowSelect,eh:()=>sortArray});var SortDirection=function(SortDirection){return SortDirection.ASC="ASC",SortDirection.DESC="DESC",SortDirection}({}),react=__webpack_require__("./node_modules/react/index.js"),defaultContext={tableState:{sortedColumn:null,expandedRows:[]},setTableState:null,onRowSelect:null,onRowExpand:null,onSort:null},TableContext=react.createContext(defaultContext),useTableContext=function useTableContext(){return react.useContext(TableContext)},toConsumableArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js");function sortArray(){var _window$navigator,items=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],columnName=arguments.length>1?arguments[1]:void 0,sortDirection=arguments.length>2?arguments[2]:void 0,languages=(null==(_window$navigator=window.navigator)?void 0:_window$navigator.languages)||["sw","en"];return(0,toConsumableArray.A)(items).sort((function(firstItem,secondItem){return sortDirection===SortDirection.ASC?isNaN(secondItem[columnName])&&isNaN(firstItem[columnName])?String(firstItem[columnName]).localeCompare(String(secondItem[columnName]),languages,{sensitivity:"base",ignorePunctuation:!0}):firstItem[columnName]-secondItem[columnName]:isNaN(secondItem[columnName])&&isNaN(firstItem[columnName])?String(secondItem[columnName]).localeCompare(String(firstItem[columnName]),languages,{sensitivity:"base",ignorePunctuation:!0}):secondItem[columnName]-firstItem[columnName]}))}function onRowSelect(event,data,rowUniqueAccessor,rowId){var target=event.target,isAllSelected=!0,isIndeterminate=!1,newData=null==data?void 0:data.map((function(row){return row[rowUniqueAccessor]!==rowId&&"all"!==rowId||(row.checked=target.checked),isAllSelected=isAllSelected&&row.checked,isIndeterminate=isIndeterminate||row.checked,row}));return{data:newData,isAllSelected:!!newData&&isAllSelected,isIndeterminate:isIndeterminate&&!isAllSelected}}var objectDestructuringEmpty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectDestructuringEmpty.js"),esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),TableCell=react.forwardRef((function(_ref,ref){var props=(0,esm_extends.A)({},((0,objectDestructuringEmpty.A)(_ref),_ref));return(0,jsx_runtime.jsx)("td",Object.assign({},props,{ref}))}));TableCell.displayName="TableCell",TableCell.__docgenInfo={description:"",methods:[],displayName:"TableCell"};var TableBody=react.forwardRef((function(_ref,ref){var parentKey,props=(0,esm_extends.A)({},((0,objectDestructuringEmpty.A)(_ref),_ref)),cloneTableRow=react.useCallback((function(Child,index){var _Child$type,isTableRow=react.isValidElement(Child)&&"TableRow"===(null==Child||null==(_Child$type=Child.type)?void 0:_Child$type.displayName);return isTableRow&&!Child.props.isSubRow&&(parentKey=Child.props.uniqueKey),isTableRow?react.cloneElement(Child,{index,parentKey}):Child}),[]);return(0,jsx_runtime.jsx)("tbody",Object.assign({},props,{ref,children:react.Children.map(props.children,(function(Child,i){return(null==Child?void 0:Child.type)===react.Fragment?react.cloneElement(Child,{children:react.Children.map(Child.props.children,(function(FragmentChild,fragmentIndex){return cloneTableRow(FragmentChild,fragmentIndex)}))}):cloneTableRow(Child,i)}))}))}));TableBody.displayName="TableBody",TableBody.__docgenInfo={description:"",methods:[],displayName:"TableBody"};var TableHeader=react.forwardRef((function(_ref,ref){var props=(0,esm_extends.A)({},((0,objectDestructuringEmpty.A)(_ref),_ref));return(0,jsx_runtime.jsx)("thead",Object.assign({},props,{ref,children:1===react.Children.count(props.children)&&react.isValidElement(props.children)?react.cloneElement(props.children,{isHeaderRow:!0,index:-1}):react.Children.map(props.children,(function(Child,i){var _Child$type;return react.isValidElement(Child)&&"TableRow"===(null==Child||null==(_Child$type=Child.type)?void 0:_Child$type.displayName)?react.cloneElement(Child,{index:i,hideSelect:!Child.props.isHeaderRow}):Child}))}))}));TableHeader.displayName="TableHeader",TableHeader.__docgenInfo={description:"",methods:[],displayName:"TableHeader"};var slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),_excluded=["accessor","disableSort","className","sortDirection","onClick","children"],TableHeaderCell=react.forwardRef((function(_ref,ref){var accessor=_ref.accessor,disableSort=_ref.disableSort,className=_ref.className,sortDirection=_ref.sortDirection,onClick=_ref.onClick,children=_ref.children,props=(0,objectWithoutProperties.A)(_ref,_excluded),tableContext=useTableContext(),_React$useState=react.useState(null),_React$useState2=(0,slicedToArray.A)(_React$useState,2),sortedColumn=_React$useState2[0],setSortedColumn=_React$useState2[1],_React$useState3=react.useState(SortDirection.ASC),_React$useState4=(0,slicedToArray.A)(_React$useState3,2),sortOrder=_React$useState4[0],setSortOrder=_React$useState4[1],_React$useState5=react.useState(!1),_React$useState6=(0,slicedToArray.A)(_React$useState5,2),sortable=_React$useState6[0],setSortable=_React$useState6[1],getSortDirection=function getSortDirection(oldSortDirection){return oldSortDirection===SortDirection.ASC?SortDirection.DESC:SortDirection.ASC},onSort=react.useCallback((function(){var newSortedColumn=sortedColumn&&sortedColumn.accessor===accessor?Object.assign({},sortedColumn,{sortDirection:getSortDirection(sortedColumn.sortDirection)}):{accessor,sortDirection:SortDirection.DESC};tableContext.setTableState(Object.assign({},tableContext.tableState,{sortedColumn:newSortedColumn})),newSortedColumn&&(null==tableContext||null==tableContext.onSort||tableContext.onSort(newSortedColumn))}),[sortedColumn,tableContext]),getCurrentSortValue=react.useCallback((function(){return sortable&&sortOrder?sortOrder===SortDirection.ASC?"ascending":"descending":"none"}),[sortable,sortOrder]);return react.useEffect((function(){setSortable(!disableSort&&!!tableContext.onSort)}),[disableSort,tableContext.onSort]),react.useEffect((function(){setSortedColumn(tableContext.tableState.sortedColumn)}),[tableContext.tableState.sortedColumn]),react.useEffect((function(){sortDirection&&tableContext.onSort&&tableContext.setTableState(Object.assign({},tableContext.tableState,{sortedColumn:{accessor,sortDirection}}))}),[sortDirection,tableContext.onSort]),react.useEffect((function(){setSortOrder(sortable&&(null==sortedColumn?void 0:sortedColumn.accessor)===accessor?null==sortedColumn?void 0:sortedColumn.sortDirection:null)}),[sortable,sortedColumn]),(0,jsx_runtime.jsx)("th",Object.assign({className:classnames_default()(className,{"sg-sortable":sortable}),onClick:sortable?onSort:onClick,ref,"aria-sort":getCurrentSortValue()},props,{children:sortable?(0,jsx_runtime.jsxs)("button",{className:"sg-table-sort",children:[" ",children]}):children}))}));TableHeaderCell.displayName="TableHeaderCell",TableHeaderCell.__docgenInfo={description:"",methods:[],displayName:"TableHeaderCell",props:{accessor:{required:!1,tsType:{name:"T"},description:""},disableSort:{required:!1,tsType:{name:"boolean"},description:""},sortDirection:{required:!1,tsType:{name:"SortDirection"},description:""}}};var TableRow_excluded=["className","isHeaderRow","hideSelect","uniqueKey","parentKey","checked","indeterminate","isSubRow","isExpanded","checkboxProps","collapseButtonProps"],angleDown=(0,jsx_runtime.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 512",children:(0,jsx_runtime.jsx)("path",{d:"M119.5 326.9L3.5 209.1c-4.7-4.7-4.7-12.3 0-17l7.1-7.1c4.7-4.7 12.3-4.7 17 0L128 287.3l100.4-102.2c4.7-4.7 12.3-4.7 17 0l7.1 7.1c4.7 4.7 4.7 12.3 0 17L136.5 327c-4.7 4.6-12.3 4.6-17-.1z"})}),angleRightIcon=(0,jsx_runtime.jsx)("svg",{name:"angle-right",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 192 512",children:(0,jsx_runtime.jsx)("path",{d:"M166.9 264.5l-117.8 116c-4.7 4.7-12.3 4.7-17 0l-7.1-7.1c-4.7-4.7-4.7-12.3 0-17L127.3 256 25.1 155.6c-4.7-4.7-4.7-12.3 0-17l7.1-7.1c4.7-4.7 12.3-4.7 17 0l117.8 116c4.6 4.7 4.6 12.3-.1 17z"})}),TableRow=react.forwardRef((function(_ref,ref){var _tableContext$tableSt,className=_ref.className,isHeaderRow=_ref.isHeaderRow,hideSelect=_ref.hideSelect,uniqueKey=_ref.uniqueKey,parentKey=_ref.parentKey,_ref$checked=_ref.checked,checked=void 0!==_ref$checked&&_ref$checked,_ref$indeterminate=_ref.indeterminate,indeterminate=void 0!==_ref$indeterminate&&_ref$indeterminate,_ref$isSubRow=_ref.isSubRow,isSubRow=void 0!==_ref$isSubRow&&_ref$isSubRow,_ref$isExpanded=_ref.isExpanded,isExpanded=void 0!==_ref$isExpanded&&_ref$isExpanded,_ref$collapseButtonPr=(_ref.checkboxProps,_ref.collapseButtonProps),collapseButtonProps=void 0===_ref$collapseButtonPr?{}:_ref$collapseButtonPr,props=(0,objectWithoutProperties.A)(_ref,TableRow_excluded),tableContext=useTableContext(),_React$useState=react.useState(uniqueKey),_React$useState2=(0,slicedToArray.A)(_React$useState,2),uniqueId=_React$useState2[0],setUniqueId=_React$useState2[1],_React$useState3=react.useState(!1),_React$useState4=(0,slicedToArray.A)(_React$useState3,2),isShown=_React$useState4[0],setIsShown=_React$useState4[1],_React$useState5=react.useState(isExpanded),_React$useState6=(0,slicedToArray.A)(_React$useState5,2),expanded=_React$useState6[0],setExpanded=_React$useState6[1],_React$useState7=react.useState(isExpanded),_React$useState8=(0,slicedToArray.A)(_React$useState7,2),isParentRow=_React$useState8[0],setIsParentRow=_React$useState8[1],_React$useState9=react.useState(null),_React$useState10=(0,slicedToArray.A)(_React$useState9,2),columnProps=_React$useState10[0],setColumnProps=_React$useState10[1],_React$useState11=react.useState((null==(_tableContext$tableSt=tableContext.tableState)?void 0:_tableContext$tableSt.expandedRows)||[]),_React$useState12=(0,slicedToArray.A)(_React$useState11,2),expandedRows=_React$useState12[0],setExpandedRows=_React$useState12[1],headerId=(0,react.useId)(),initiateExpandedRows=react.useCallback((function(){var newExpandedRows=(0,toConsumableArray.A)(expandedRows),expandedIndex=newExpandedRows.indexOf(uniqueId);if(isExpanded&&-1===expandedIndex)newExpandedRows.push(uniqueId);else if(expandedIndex>-1){var _expandedIndex=newExpandedRows.indexOf(uniqueId);newExpandedRows.splice(_expandedIndex,1)}tableContext.setTableState(Object.assign({},tableContext.tableState,{expandedRows:newExpandedRows})),setExpandedRows(newExpandedRows)}),[isExpanded,uniqueId]);react.useEffect((function(){setUniqueId(isHeaderRow?"all":uniqueKey||headerId)}),[uniqueKey,isHeaderRow]),react.useEffect((function(){setExpandedRows(tableContext.tableState.expandedRows||[])}),[tableContext.tableState.expandedRows]),react.useEffect((function(){setExpanded(isExpanded),isSubRow||isHeaderRow||!tableContext.onRowExpand||initiateExpandedRows()}),[isExpanded,initiateExpandedRows]),react.useEffect((function(){setColumnProps(isHeaderRow?{disableSort:!0}:null)}),[isHeaderRow]),react.useEffect((function(){setIsParentRow(!(isHeaderRow||isSubRow))}),[isHeaderRow,isSubRow]),react.useEffect((function(){tableContext.onRowExpand&&setIsShown(isSubRow&&expandedRows.indexOf(parentKey)>-1)}),[expandedRows]);var Cell=isHeaderRow?TableHeaderCell:TableCell;return(0,jsx_runtime.jsxs)("tr",Object.assign({},props,{ref,className:classnames_default()(className,{"sub-row":isSubRow,expanded:isExpanded,collapsible:isParentRow&&!!tableContext.onRowExpand,show:isShown}),children:[!!tableContext.onRowExpand&&(0,jsx_runtime.jsx)(Cell,Object.assign({},columnProps,{className:classnames_default()({"collapse-control":isParentRow}),children:isParentRow&&(0,jsx_runtime.jsx)("button",Object.assign({},collapseButtonProps,{className:classnames_default()("collapse-btn",collapseButtonProps.className),onClick:function onClick(){return null==tableContext||null==tableContext.onRowExpand?void 0:tableContext.onRowExpand(!isExpanded,uniqueId)},children:(0,jsx_runtime.jsx)("div",{className:"icon-holder",children:expanded?angleDown:angleRightIcon})}))})),!!tableContext.onRowSelect&&(0,jsx_runtime.jsx)(Cell,Object.assign({},columnProps,{className:classnames_default()({"select-control":!(hideSelect||isSubRow)}),children:!(hideSelect||isSubRow)&&(0,jsx_runtime.jsxs)("label",{className:"form-control p-0",children:[(0,jsx_runtime.jsx)("input",{type:"checkbox",checked,ref:function ref(input){input&&(input.indeterminate=indeterminate&&!checked)},name:"tb_checkbox_".concat(uniqueId),id:"tb_checkbox_".concat(uniqueId),onChange:function onChange(event){return null==tableContext||null==tableContext.onRowSelect?void 0:tableContext.onRowSelect(event,uniqueId)}}),(0,jsx_runtime.jsx)("i",{className:"m-0"})]})})),props.children]}))}));TableRow.displayName="TableRow",TableRow.__docgenInfo={description:"",methods:[],displayName:"TableRow",props:{checked:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},indeterminate:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},isHeaderRow:{required:!1,tsType:{name:"boolean"},description:""},hideSelect:{required:!1,tsType:{name:"boolean"},description:""},uniqueKey:{required:!1,tsType:{name:"string"},description:""},parentKey:{required:!1,tsType:{name:"string"},description:""},isExpanded:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},isSubRow:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},collapseButtonProps:{required:!1,tsType:{name:"JSX.IntrinsicElements['button']",raw:"JSX.IntrinsicElements['button']"},description:"",defaultValue:{value:"{}",computed:!1}},checkboxProps:{required:!1,tsType:{name:"JSX.IntrinsicElements['input']",raw:"JSX.IntrinsicElements['input']"},description:"",defaultValue:{value:"{}",computed:!1}}}};var Table_excluded=["onRowSelect","onRowExpand","onSort","sortedColumn","className"],Table=react.memo(react.forwardRef((function(_ref,ref){var onRowSelect=_ref.onRowSelect,onRowExpand=_ref.onRowExpand,onSort=_ref.onSort,_ref$sortedColumn=_ref.sortedColumn,sortedColumn=void 0===_ref$sortedColumn?null:_ref$sortedColumn,className=_ref.className,props=(0,objectWithoutProperties.A)(_ref,Table_excluded),_React$useState=react.useState({expandedRows:[],sortedColumn}),_React$useState2=(0,slicedToArray.A)(_React$useState,2),tableState=_React$useState2[0],setTableState=_React$useState2[1];return(0,jsx_runtime.jsx)(TableContext.Provider,{value:{tableState,onSort,onRowSelect,onRowExpand,setTableState},children:(0,jsx_runtime.jsx)("table",Object.assign({},props,{className:classnames_default()("table",className),ref}))})})));Table.__docgenInfo={description:"",methods:[],displayName:"Table",props:{onRowSelect:{required:!1,tsType:{name:"signature",type:"function",raw:"(\n  event: React.ChangeEvent<HTMLInputElement>,\n  rowKey: string,\n) => void",signature:{arguments:[{type:{name:"ReactChangeEvent",raw:"React.ChangeEvent<HTMLInputElement>",elements:[{name:"HTMLInputElement"}]},name:"event"},{type:{name:"string"},name:"rowKey"}],return:{name:"void"}}},description:"callback when row is selected"},onRowExpand:{required:!1,tsType:{name:"signature",type:"function",raw:"(isExpanded: boolean, rowKey: string) => void",signature:{arguments:[{type:{name:"boolean"},name:"isExpanded"},{type:{name:"string"},name:"rowKey"}],return:{name:"void"}}},description:"callback when row is expanded"},onSort:{required:!1,tsType:{name:"signature",type:"function",raw:"(sortedColumn: SortedColumn) => void",signature:{arguments:[{type:{name:"SortedColumn"},name:"sortedColumn"}],return:{name:"void"}}},description:"callback when column is sorted"},sortedColumn:{required:!1,tsType:{name:"union",raw:"SortedColumn | null",elements:[{name:"SortedColumn"},{name:"null"}]},description:"preset sorted column",defaultValue:{value:"null",computed:!1}}}}},"./node_modules/@babel/runtime/helpers/esm/objectDestructuringEmpty.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function _objectDestructuringEmpty(t){if(null==t)throw new TypeError("Cannot destructure "+t)}__webpack_require__.d(__webpack_exports__,{A:()=>_objectDestructuringEmpty})}}]);