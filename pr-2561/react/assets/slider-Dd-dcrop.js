import{j as r}from"./jsx-runtime-D_zvdyIk.js";import{R as u}from"./iframe-D5za-sDm.js";import{r as E}from"./id-D3UFNDLZ.js";const d={primary:"#007ac7",disabled:"#dedede"},B=a=>`linear-gradient(
        to right,
        ${d.primary} 0%,
        ${d.primary} ${a}%,
        ${d.disabled} ${a}%,
        ${d.disabled} 100%
      )`,R=({children:a,unitLabel:n})=>r.jsx(r.Fragment,{children:n?r.jsxs("div",{className:"group group-border group-focus",children:[a,r.jsx("span",{className:"form-text",children:n})]}):a}),D=(a,n)=>n?`${a} ${n}`:a.toString();function K({name:a=`${E()}-slider`,value:n,defaultValue:$,min:s=0,max:l=100,minMaxFormat:y=D,showMinMax:S=!1,step:c=1,label:b,instruction:h,errorMessage:m,hasTextbox:F=!1,unitLabel:f,disabled:o=!1,onChange:x,enableClamping:w=!0,onClamp:T,enterKeyHint:C}){const[I,j]=u.useState(),[i,M]=u.useState(n??$),[k,g]=u.useState(i+"");u.useLayoutEffect(()=>{if(o){j(d.disabled);return}let e=0;i!==void 0&&(e=Math.round((i-s)/c)/((l-s)/c)*100),j(B(e))},[o,i]);const q=e=>{if(!w)return Number(e);if(typeof e=="string"&&(e=Number(e)),!e||Number.isNaN(e))return s;const t=Math.min(Math.max(s,e),l);return t!==e&&T&&T(e),t},N=e=>{e===""&&(e=s);const t=Number(e),p=q(t);return M(p),[t,p]};u.useEffect(()=>{N(n)},[n]);const V=e=>{const[t,p]=N(e);g(t+""),x&&x(p)},v=(e,t=!1)=>{V(e),e===""?g(""):t&&g(q(e)+"")};return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"gds-slider-label-container",children:[r.jsx("div",{children:b&&r.jsxs(r.Fragment,{children:[r.jsx("label",{htmlFor:a,id:`${a}-label`,children:b}),h&&r.jsx("p",{children:h})]})}),F&&r.jsx(R,{unitLabel:f,children:r.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",value:k,id:`${a}-textbox`,name:a,"aria-labelledby":`${a}-label`,enterKeyHint:C,className:m?"is-invalid":"",disabled:o,onChange:e=>v(e.currentTarget.value),onKeyDown:e=>e.key==="Enter"&&v(e.currentTarget.value,!0),onBlur:e=>v(e.currentTarget.value,!0),min:s,max:l,onInvalid:e=>{e.preventDefault()}})})]}),r.jsx("input",{type:"range",value:i||0,id:a,name:a,min:s,max:l,step:c,disabled:o,onChange:e=>V(e.currentTarget.value),"aria-valuenow":i||0,style:{background:I}}),S&&r.jsxs("div",{className:"gds-slider-min-max",children:[r.jsx("div",{children:y(s,f)}),r.jsx("div",{children:y(l,f)})]}),m&&r.jsx("p",{className:"gds-slider-error-info",children:m})]})}K.__docgenInfo={description:"",methods:[],displayName:"Slider",props:{name:{required:!1,tsType:{name:"string"},description:""},value:{required:!1,tsType:{name:"number"},description:""},min:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"0",computed:!1}},max:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"100",computed:!1}},showMinMax:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},minMaxFormat:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: number, unit?: string) => string",signature:{arguments:[{type:{name:"number"},name:"value"},{type:{name:"string"},name:"unit"}],return:{name:"string"}}},description:"",defaultValue:{value:"(value: number, unit?: string) => {\n  if (unit) return `${value} ${unit}`\n  return value.toString()\n}",computed:!1}},step:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"1",computed:!1}},label:{required:!1,tsType:{name:"string"},description:""},instruction:{required:!1,tsType:{name:"string"},description:""},errorMessage:{required:!1,tsType:{name:"string"},description:""},hasTextbox:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},unitLabel:{required:!1,tsType:{name:"string"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: number) => void",signature:{arguments:[{type:{name:"number"},name:"value"}],return:{name:"void"}}},description:""},enableClamping:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},onClamp:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: number) => void",signature:{arguments:[{type:{name:"number"},name:"value"}],return:{name:"void"}}},description:""},enterKeyHint:{required:!1,tsType:{name:"union",raw:`| 'enter'
| 'done'
| 'go'
| 'next'
| 'previous'
| 'search'
| 'send'`,elements:[{name:"literal",value:"'enter'"},{name:"literal",value:"'done'"},{name:"literal",value:"'go'"},{name:"literal",value:"'next'"},{name:"literal",value:"'previous'"},{name:"literal",value:"'search'"},{name:"literal",value:"'send'"}]},description:""},defaultValue:{required:!1,tsType:{name:"number"},description:"@deprecated Use `value` instead"}}};export{K as S};
